/*
 almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
 MIT

 Muuri Packer
 Copyright (c) 2016-present, Niklas Rämö <inramo@gmail.com>
 @license MIT

 Muuri Ticker / Muuri Emitter / Muuri Queue
 Copyright (c) 2018-present, Niklas Rämö <inramo@gmail.com>
 @license MIT


 dmo@hinderlingvolkart.com
 Remove hammerjs requirement, add AMD definition

 dmo@hinderlingvolkart.com
 Added an IE fix, in function Mt.prototype._refreshDimensions. Followed a solution described here https://github.com/jasonslyvia/react-lazyload/pull/79

 dmo@hinderlingvolkart.com
 Updated thy try catch block in same method

 Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   4.0.5
 DatePicker v6.3.4 MIT/GPL2 @freqdec */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(C){var r=0;return function(){return r<C.length?{done:!1,value:C[r++]}:{done:!0}}};$jscomp.arrayIterator=function(C){return{next:$jscomp.arrayIteratorImpl(C)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(C,r,p){C!=Array.prototype&&C!=Object.prototype&&(C[r]=p.value)};$jscomp.getGlobal=function(C){return"undefined"!=typeof window&&window===C?C:"undefined"!=typeof global&&null!=global?global:C};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var C=0;return function(r){return $jscomp.SYMBOL_PREFIX+(r||"")+C++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var C=$jscomp.global.Symbol.iterator;C||(C=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[C]&&$jscomp.defineProperty(Array.prototype,C,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var C=$jscomp.global.Symbol.asyncIterator;C||(C=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(C){$jscomp.initSymbolIterator();C={next:C};C[$jscomp.global.Symbol.iterator]=function(){return this};return C};
(function(){var C,r,p;(function(e){function k(b,a){var f,c,g=a&&a.split("/"),d=t.map,l=d&&d["*"]||{};if(b&&"."===b.charAt(0))if(a){b=b.split("/");a=b.length-1;t.nodeIdCompat&&B.test(b[a])&&(b[a]=b[a].replace(B,""));b=g.slice(0,g.length-1).concat(b);for(a=0;a<b.length;a+=1){var h=b[a];if("."===h)b.splice(a,1),--a;else if(".."===h)if(1!==a||".."!==b[2]&&".."!==b[0])0<a&&(b.splice(a-1,2),a-=2);else break}b=b.join("/")}else 0===b.indexOf("./")&&(b=b.substring(2));if((g||l)&&d){h=b.split("/");for(a=h.length;0<
a;--a){var n=h.slice(0,a).join("/");if(g)for(c=g.length;0<c;--c)if(f=d[g.slice(0,c).join("/")])if(f=f[n]){var e=f;var u=a;break}if(e)break;if(!k&&l&&l[n]){var k=l[n];var A=a}}!e&&k&&(e=k,u=A);e&&(h.splice(0,u,e),b=h.join("/"))}return b}function a(b,a){return function(){var f=A.call(arguments,0);"string"!==typeof f[0]&&1===f.length&&f.push(null);return n.apply(e,f.concat([b,a]))}}function d(b){return function(a){return k(a,b)}}function c(b){return function(a){f[b]=a}}function h(b){if(F.call(l,b)){var a=
l[b];delete l[b];u[b]=!0;w.apply(e,a)}if(!F.call(f,b)&&!F.call(u,b))throw Error("No "+b);return f[b]}function b(b){var a=b?b.indexOf("!"):-1;if(-1<a){var f=b.substring(0,a);b=b.substring(a+1,b.length)}return[f,b]}function g(b){return function(){return t&&t.config&&t.config[b]||{}}}var n,f={},l={},t={},u={},F=Object.prototype.hasOwnProperty,A=[].slice,B=/\.js$/;var y=function(a,f){a=b(a);var c=a[0];a=a[1];if(c){c=k(c,f);var g=h(c)}c?a=g&&g.normalize?g.normalize(a,d(f)):k(a,f):(a=k(a,f),a=b(a),c=a[0],
a=a[1],c&&(g=h(c)));return{f:c?c+"!"+a:a,n:a,pr:c,p:g}};var v={require:function(b){return a(b)},exports:function(b){var a=f[b];return"undefined"!==typeof a?a:f[b]={}},module:function(b){return{id:b,uri:"",exports:f[b],config:g(b)}}};var w=function(b,g,d,n){var t,k=[];var A=typeof d;n=n||b;if("undefined"===A||"function"===A){g=!g.length&&d.length?["require","exports","module"]:g;for(t=0;t<g.length;t+=1){var w=y(g[t],n);A=w.f;if("require"===A)k[t]=v.require(b);else if("exports"===A){k[t]=v.exports(b);
var B=!0}else if("module"===A)var O=k[t]=v.module(b);else if(F.call(f,A)||F.call(l,A)||F.call(u,A))k[t]=h(A);else if(w.p)w.p.load(w.n,a(n,!0),c(A),{}),k[t]=f[A];else throw Error(b+" missing "+A);}g=d?d.apply(f[b],k):void 0;b&&(O&&O.exports!==e&&O.exports!==f[b]?f[b]=O.exports:g===e&&B||(f[b]=g))}else b&&(f[b]=d)};C=r=n=function(b,a,f,c,g){if("string"===typeof b)return v[b]?v[b](a):h(y(b,a).f);if(!b.splice){t=b;t.deps&&n(t.deps,t.callback);if(!a)return;a.splice?(b=a,a=f,f=null):b=e}a=a||function(){};
"function"===typeof f&&(f=c,c=g);c?w(e,b,a,f):setTimeout(function(){w(e,b,a,f)},4);return n};n.config=function(b){return n(b)};C._defined=f;p=function(b,a,c){if("string"!==typeof b)throw Error("See almond README: incorrect module build, no module name");a.splice||(c=a,a=[]);F.call(f,b)||F.call(l,b)||(l[b]=[b,a,c])};p.amd={jQuery:!0}})();p("vendor/almond",function(){});p("jquery",[],function(){return jQuery});p("app/util/ScrollSighting",["jquery"],function(e){function k(){var a=this;this.targets=[];
document.addEventListener("scroll",function(b){a.validate(b.target)},!0);window.MutationObserver&&e(function(){function b(){clearTimeout(d);a.validate()}var c=window.document.body;(new MutationObserver(function(a){for(var f=0;f<a.length;f++)if(a[f].addedNodes.length){clearTimeout(d);d=setTimeout(b,500);break}})).observe(c,{subtree:!0,childList:!0});var d})}function a(a,b){this.selector=a;this.options=e.extend({},d,b)}var d={time:.5,delay:0,action:function(a){e(a).addClass("is-visible")},init:function(a){e(a).addClass("has-scrollsighter")}};
k.get=function(){k.instance||(k.instance=new k);return k.instance};k.prototype.watch=function(c,b){c=new a(c,b);for(b=0;b<this.targets.length;b++)if(this.targets[b].equals(c))return;this.targets.push(c);this.validateTarget(c)};k.prototype.validate=function(a){for(var b=0;b<this.targets.length;b++)this.validateTarget(this.targets[b],a)};k.prototype.validateTarget=function(a,b){var c=0;e(b||document).find(a.selector).each(function(){a.options.init(this);if(k.checkVisibility(this)){var b=a.lastTime||
0;b+=a.options.delay;var f=(new Date).getTime();if(f<b){var g=b-f;a.lastTime=b}else g=0,a.lastTime=f;a.options.action(this,g/a.options.delay);c++}})};k.prototype.appearAll=function(){for(var a,b,c=0;c<this.targets.length;c++)a=this.targets[c],b=e(a.selector),b.each(function(){this.hasBeenScrollSighted=!0;a.options.action(this)});k.checkVisibility=function(b){return b.hasBeenScrollSighted?!1:b.hasBeenScrollSighted=!0}};k.checkVisibility=function(a){if(a.hasBeenScrollSighted)return!1;c.width();var b=
c.height();var g=a.getBoundingClientRect(),d=0<g.bottom&&g.bottom<=b;b=0<=g.top&&g.top<b||d;return b?a.hasBeenScrollSighted=!0:!1};a.prototype.equals=function(a){return a.selector===this.selector&&a.options.context===this.options.context};var c=e(window);return k});p("lib/browser/FlyingFocus",["jquery"],function(e){function k(b){b=e(b);var a=b.attr("id");a=e('label[for\x3d"'+a+'"]');b=b.add(a);var c={top:1E6,left:1E6,bottom:-1E4,right:-1E4};b.each(function(){var b=this.getBoundingClientRect();var a=
document.documentElement;var f=document.defaultView,g=document.body,d=b.top+(f.pageYOffset||a.scrollTop||g.scrollTop)-(a.clientTop||g.clientTop||0);f=b.left+(f.pageXOffset||a.scrollLeft||g.scrollLeft)-(a.clientLeft||g.clientLeft||0);a=d+b.height;b=f+b.width;c.top=Math.min(c.top,d);c.left=Math.min(c.left,f);c.bottom=Math.max(c.bottom,a);c.right=Math.max(c.right,b)});c.width=c.right-c.left;c.height=c.bottom-c.top;return c}function a(b,a,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent("on"+
a,c)}function d(a){var c=document.activeElement||a.target;clearTimeout(B);clearTimeout(A);A=setTimeout(function(){if("flying-focus"!==c.id){var a=new Date;f&&100<a-l&&t||(clearTimeout(B),clearTimeout(y),n.style.transitionDuration=n.style.WebkitTransitionDuration=(f?0:.15)+"s",v=0,y=setTimeout(b,100),f&&(e(n).addClass("flying-focus_visible"),f=!1),F=g(c),u=c)}},1)}function c(){t=!0;document.documentElement.removeEventListener("mousemove",c,!1)}function h(){e(n).removeClass("flying-focus_visible");
f=!0;clearTimeout(y)}function b(){var a=g(u);a.top!=F.top||a.left!=F.left||a.width!=F.width||a.height!=F.height?(F=a,v=0):v++;y=3>v?setTimeout(b,100):setTimeout(b,1E3)}function g(b){if(!f){b=k(b);if(b.top!=F.top||b.left!=F.left||b.width!=F.width||b.height!=F.height)n.style.left=b.left+"px",n.style.top=b.top+"px",n.style.width=b.width+"px",n.style.height=b.height+"px";return b}}if(!document.getElementById("flying-focus")&&document.documentElement.addEventListener){var n=document.createElement("flying-focus");
n.id="flying-focus";e(function(){document.body.appendChild(n)});navigator.userAgent.match(/gecko/i)&&navigator.userAgent.match(/webkit/i);var f=!0,l=0,t=!1,u,F={},A;a(document.documentElement,"keydown",function(b){65>b.keyCode&&(l=new Date)},!0);document.body.addEventListener("focus",d,!0);document.body.addEventListener("blur",function(b){f||(clearTimeout(A),clearTimeout(B),B=setTimeout(h,10))},!0);document.addEventListener("forcefocus",function(b){l=new Date;d(b)},!0);document.documentElement.addEventListener("mousemove",
c,!1);a(document.documentElement,"mousedown",function(b){b.detail&&(t=!0,h())});a(document.documentElement,"touchstart",function(b){b.detail&&h()});a(window,"resize",function(){g(u)});var B,y,v=0;return{}}});p("app/modules/BaseModule",["jquery"],function(e){var k={};var a=function(){this.$el=null;this.storeInstance=!0};a.ns=function(a){k[a]||(k[a]=0);return"."+a+ ++k[a]};a.prototype.init=function(a){this.$el=e(a);return this};a.prototype.destroy=a.prototype._destroy=function(){this.off();this.$el&&
(this.$el=null)};a.prototype.on=function(){for(var a,c,h,b,g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];switch(arguments.length){case 2:b=this.$el;a=g.shift();h=g.shift();break;case 3:a=g.shift();"string"===typeof a?(b=this.$el,c=g.shift()):(b=e(a),a=g.shift());h=g.shift();break;case 4:b=e(g.shift()),a=g.shift(),c=g.shift(),h=g.shift()}h=this.bind(h);a=a.replace(/(\s+|$)/g,this.ns+"$1");if(c)b.on(a,c,h);else b.on(a,h)};a.prototype.off=function(){this.$el&&this.$el.off(this.ns);e(document).off(this.ns);
e(window).off(this.ns);this.nstemp&&(this.$el&&this.$el.off(this.nstemp),e(document).off(this.nstemp),e(window).off(this.nstemp))};a.prototype.bind=function(a){var c=this;return function(){a.apply(c,arguments)}};return a});p("lib/util/MicroTemplate",[],function(){return{convert:function(e){e=e.replace(/[\r\t\n]/g," ").split("[%").join("\t").replace(/((^|%])[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%]/g,"',$1,'").split("\t").join("');").split("%]").join("p.push('").split("\r").join("\\'");return new Function("obj",
"var p\x3d[],print\x3dfunction(){p.push.apply(p,arguments);};with(obj){p.push('"+e+"');}return p.join('');")}}});p("app/Config",["jquery"],function(e){window.app_config=window.app_config||{};var k={de:{fullMonths:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),monthAbbrs:"Jan Feb Mrz Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),fullDays:"Montag Dienstag Mittwoch Donnerstag Freitag Samstag Sonntag".split(" "),dayAbbrs:"Mo Di Mi Do Fr Sa So".split(" "),
titles:"vorheriger Monat;n\u00e4chster Monat;vorheriges Jahr;n\u00e4chstes Jahr;Heute;Kalender anzeigen;KW;Woche [[%0%]] von [[%1%]];Woche;W\u00e4hlen Sie ein Datum;Klicken \x26 Ziehen zum Verschieben;Zeige [[%0%]] zuerst;Zu Heute wechseln;Datum deaktivieren".split(";")},en:{fullMonths:"January February March April May June July August September October November December".split(" "),monthAbbrs:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),fullDays:"Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
dayAbbrs:"Mon Tue Wed Thu Fri Sat Sun".split(" "),titles:"Previous month;Next month;Previous year;Next year;Today;Open Calendar;wk;Week [[%0%]] of [[%1%]];Week;Select a date;Click \x26 Drag to move;Display \u201c[[%0%]]\u201d first;Go to Today\u2019s date;Disabled date:".split(";"),firstDayOfWeek:0},fr:{fullMonths:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" "),fullDays:"Lundi Mardi Mercredi Jeudi Vendredi Samedi Dimanche".split(" "),
dayAbbrs:"Lun Mar Mer Jeu Ven Sam Dim".split(" "),monthAbbrs:"Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c".split(" "),titles:"Mois pr\u00e9cedent;Mois suivant;Ann\u00e9e pr\u00e9cedente;Ann\u00e9e suivante;Aujourd\u2019hui;Ouvrir Calendrier;sm;Semaine [[%0%]]/[[%1%]];Semaine;Choissisez une date;Cliquez et d\u00e9placez;Montre \u201c[[%0%]]\u201d en premier;Aujourd\u2019hui;Date d\u00e9sactiv\u00e9 : ".split(";")},it:{fullMonths:"Sausis Vasaris Kovas Balandis Gegu\u017e\u0117 Bir\u017eelis Liepa Rugpj\u016btis Rugs\u0117jis Spalis Lapkritis Gruodis".split(" "),
monthAbbrs:"Sau Vas Kov Bal Geg Bir Lie Rugp Rugs Spa Lap Gruod".split(" "),fullDays:"Pirmadienis Antradienis Tre\u010diadienis Ketvirtadienis Penktadienis \u0160e\u0161tadienis Sekmadienis".split(" "),dayAbbrs:"P A T K Pn \u0160 S".split(" "),titles:"Buv\u0119s m\u0117nuo;Kitas m\u0117nuo;Buv\u0119 metai;Kiti metai;\u0160iandien;Rodyti kalendori\u0173;sav.;Savait\u0117 [[%0%]] i\u0161 [[%1%]];Savait\u0117;Pasirinkite dat\u0105;Paspauskite nor\u0117dami perkleti;Pirmiausia rodyti \u201c[[%0%]]\u201d ;\u0160iandienos data;Negalima data".split(";")}};
k={root:location.href.substr(0,location.href.lastIndexOf("/")+1),datepickerOptions:{localeImport:window.app_config.datepickerOptions&&window.app_config.datepickerOptions.localeImport?window.app_config.datepickerOptions.localeImport:k[window.app_config.language]||k.de,deriveLocale:!1}};var a=e.extend(!0,{},k,window.app_config);return{get:function(){var d=a;try{for(var c=0;c<arguments.length;c++)d=d[arguments[c]]}catch(h){return}return d},set:function(d,c){return a[d]=c}}});p("lib/util/Templates",["lib/util/MicroTemplate",
"app/Config"],function(e,k){var a=function(){this.templates=k.get("templates")||{}},d=a.prototype;d.createInstance=function(){return new a};d.add=function(a,d){this.templates[a]=d};d.get=function(a){var c=this.templates[a];c||(c=$("script#"+a).html());"string"==typeof c&&(c=this.templates[a]=e.convert(c));return c};d.render=function(a,d){if(a=this.get(a))return a(d)};return new a});p("lib/browser/KeyCode",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,
ESC:27,ESCAPE:27,SPACE:32,SPACE_BAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,
NUM_LOCK:144,SCROLL_LOCK:145,toString:function(k){for(var a in e)if(e[a]===k)return a},isPure:function(e){return!(e.ctrlKey||e.metaKey||e.altKey)}};return e});p("lib/browser/KeepFocus",["jquery"],function(e){var k=function(){k.instanceCounter=(k.instanceCounter||0)+1;this.ns=".keepfocus_"+k.instanceCounter};k.prototype.keep=function(a){var d=e(a);this.$disable=d.parents().add(d).siblings().not('head,flying-focus,script,[aria-hidden\x3d"true"]');this.$disable.attr("aria-hidden","true");e(document).on("focusin"+
this.ns,function(a){d.is(a.target)||e(a.target).parents().is(d)||(a.preventDefault(),d.find("a,button,[tabindex],select,input,textarea").first().focus())})};k.prototype.release=function(){this.$disable&&(this.$disable.removeAttr("aria-hidden"),this.$disable=null);e(document).off(this.ns)};return k});p("lib/browser/Accessibility",["jquery","lib/browser/KeepFocus"],function(e,k){/iP(ad|hone|od)/.test(navigator.userAgent);var a=0,d={FOCUSABLE:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",
focus:function(a){function b(a){c.removeAttr("tabindex");c.off("blur",b)}var c=e(a);a=c.get(0);a.focus();document.activeElement!==a&&(c.attr("tabindex"),c.attr("tabindex","-1"),a.focus(),c.on("blur",b),document.activeElement!==a&&setTimeout(function(){b()},0))},focusFirst:function(a,b){var g=document.activeElement,h=e(a);a=h.find(b||"*").filter(":visible");h=h.get(0);for(var f,l,t=0;t<a.length;t++){var u;if(!(u=b))a:{var k=a[t];for(u=0;u<k.childNodes.length;u++){var A=k.childNodes[u];if(3===A.nodeType&&
c.test(A.nodeValue)){u=!0;break a}}u=!1}if(u){f=a[t];break}}for(f||(f=l=h);f!==h;){f.focus();if(document.activeElement===f||document.activeElement!==g)return!0;l||"block"!==e(f).css("display")||(l=f);f=f.parentNode}d.focus(l||h)},keepFocus:function(a,b){var c=new k;c.keep(a,b);return function(){c.release()}},describeBy:function(c,b){c=e(c);if("string"!==typeof b){b=e(b).first();if(0===b.length||0===c.length)return;var g=b.attr("id")||"accessible-id-"+ ++a;b.attr("id",g);b=g}g=(g=c.attr("aria-describedby"))?
g.split(" "):[];-1===e.inArray(b,g)&&(g.push(b),c.attr("aria-describedby",g.join(" ")))},speak:function(a){a&&(this.$speakField||(this.$speakField=e('\x3cspan class\x3d"is-visuallyhidden" role\x3d"status" aria-live\x3d"assertive" aria-atomic\x3d"true"\x3e\x3c/span\x3e'),e("body").append(this.$speakField)),this.$speakField.text(a))}},c=/\S/;return d});p("app/util/lightbox/Lightbox",["jquery","app/modules/BaseModule","lib/util/Templates","lib/browser/KeyCode","lib/browser/Accessibility"],function(e,
k,a,d,c){function h(b){this.$el=null;this.ns=k.ns("Lightbox");b||(b={});b.hideCloseButton&&(b["class"]="no-closebutton");b=a.render("template-lightbox",{content:"",cls:b["class"]||""});this.$el=e(b)}function b(){var a=window.navigator.userAgent.match(/(iPad|iPhone).+ OS (\d+)/);return a&&9>=Number(a[2])}h.prototype=new k;h.prototype.show=function(a,d){var f=this;this.triggerEl=d||document.activeElement;this.update(a||"");e("#body").append(this.$el);if(this.isOpen)this.updatePosition();else{this.on("click touchstart",
".js-lightbox--close",function(a){a.preventDefault();this.close()});e("html").on("click"+this.ns,this.bind(this.onClick,this));this.on(document,"keyup",this.onKeyUp);this.$el.addClass("is-hidden is-hidden-start");setTimeout(function(){this.isOpen=!0;this.$el.removeClass("is-hidden is-hidden-start");this.updatePosition()}.bind(this),20);if(b()){var g=e(document).scrollTop();this.$el.css({position:"absolute",top:g,bottom:"auto",height:"100vh"});e(window).on("scroll"+this.ns+"-scroll",function(){e("html, body").scrollTop(g)})}this.$el.trigger("open");
c.describeBy(this.$el.find(".js-lightbox--close"),this.$el.find("h1,h2").first());c.focusFirst(this.$el);this.resizeTimer=null;e(window).on("resize"+this.ns,function(a){null!==f.resizeTimer&&clearTimeout(f.resizeTimer);f.resizeTimer=setTimeout(function(){f.updatePosition()},50)});return this}};h.prototype.update=function(a){this.getContainer().html("").append(a)};h.prototype.close=function(){var a=this.$el;if(this.isOpen){this.isOpen=!1;this.$el.addClass("is-hidden is-hidden-end");this.$el.css("pointer-events",
"none");e(window).off(this.ns+"-scroll");e("html").off("click"+this.ns);if(this.triggerEl){var b=e(this.triggerEl);b.focus();setTimeout(function(){b.focus()},100)}this.$el.trigger("close");Modernizr.csstransitions?setTimeout(function(){a.remove()},400):(a.find("iframe").remove(),a.remove());this.destroy()}};h.prototype.updatePosition=function(){this.$el.css({marginTop:0});var a=this.$el.height(),b=this.$el.offset().top;a=-(a/2);0>b+a-e(window).scrollTop()||this.$el.css({marginTop:a})};h.prototype.setVariant=
function(a){this.$el.attr("data-lightbox-variant",a)};h.prototype.setType=function(a){this.$el.attr("data-lightbox-type",a)};h.prototype.getElement=function(){return this.$el};h.prototype.getContainer=function(){return this.$el.find(".js-lightbox--content")};h.prototype.setLoadingState=function(a){this.getElement()[a?"addClass":"removeClass"]("is-loading")};h.prototype.onKeyUp=function(a){switch(a.keyCode){case d.ESC:this.close()}};h.prototype.onClick=function(a){0===e(a.target).closest(".lightbox").length&&
this.close()};return h});p("app/util/lightbox/ImageLightbox",["jquery","lib/util/Templates"],function(e,k){function a(){this.type="image"}a.prototype.parseData=function(a){a=e(a);return{src:a.attr("href"),title:a.attr("title"),caption:a.data("lightbox-caption")}};a.prototype.create=function(a,c){a=this.parseData(a);a=k.render("template-lightbox--content-"+this.type,a);var d=e(a);a=d.find("img");a.complete||(d.addClass("is-loading"),e(a).on("load",function(){d.removeClass("is-loading");d.trigger("resize")}));
return d};a.match=function(a){return"image"===e(a).data("lightbox")?a:!1};a.prototype.destroy=function(){};return a});p("app/util/lightbox/VideoLightbox",["jquery","lib/util/Templates"],function(e,k){function a(){this.type="video"}a.match=function(a){return"video"===e(a).data("lightbox")?a:!1};a.prototype.create=function(a,c){a=this.parseData(a);return k.render("template-lightbox--content-"+this.type,a)};a.prototype.parseData=function(d){return a.parseData(d)};a.prototype.parseUrl=function(d){return a.parseUrl(d)};
a.parseData=function(a){a=e(a);var c=a.attr("href");return{src:this.parseUrl(c),title:a.attr("title"),caption:a.data("lightbox-caption")}};a.parseUrl=function(a){if(-1!==a.indexOf("vimeo"))a=a.substr(a.lastIndexOf("/")+1),a="//player.vimeo.com/video/"+a+"?autoplay\x3d1";else if(/youtube\.com|youtu\.be/.test(a))a=a.match(/\Wv=([\w-_]+)/)||a.substr(a.lastIndexOf("/")+1),a="//www.youtube.com/embed/"+a[1]+"?autoplay\x3d1\x26rel\x3d0";else return null;return a};a.prototype.destroy=function(){};return a});
p("app/util/lightbox/InlineLightbox",["jquery","lib/util/Templates"],function(e,k){function a(a){this.type=a||"inline";this.index=0}a.match=function(a){return"#"===e(a).attr("href").charAt(0)?a:!1};a.prototype.parseData=function(a){for(var c={},d,b=0;b<a.attributes.length;b++)d=a.attributes[b],c[d.name.replace(/-/g,"_")]=d.value;return c};a.prototype.create=function(a,c){c=e(a).attr("href").substr(1);var d=k.get(c);return d?d(this.parseData(a)):(d=e("#"+c))?(d.data("lightbox-type")&&(this.type=d.data("lightbox-type")),
d.html()):"Not found"};a.prototype.destroy=function(){};return a});p("lib/net/HTMLLoader",["jquery"],function(e){var k=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=/<body\b[^>]*>([\s\S]*?)<\/body>/gmi,d={ignoreInlineScript:!1},c=function(a){this.options=e.extend({},d,a);this.loading=!1};c.prototype.load=function(a,b,c){var g=this;c=c||{};c.success=function(a){g.handleSuccess(a,b)};this.loading=!0;return this.xhr=e.ajax(a,c)};c.prototype.isLoading=function(){return this.loading};c.prototype.handleSuccess=
function(c,b){var g=c;0<=g.indexOf("\x3cbody")&&(g=c.match(a)[0]);!this.options.ignoreInlineScript&&g.indexOf("\x3cscript")&&(g=g.replace(k,""));b&&b(g,c);this.xhr=null;this.loading=!1};c.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null,this.loading=!1)};c.prototype.dispose=function(){this.cancel()};return c});p("app/util/lightbox/RemoteLightbox",["jquery","lib/net/HTMLLoader"],function(e,k){function a(a){this.loader=new k}a.match=function(a){return a};a.prototype.create=function(a,
c){var d=e('\x3cdiv class\x3d"lightbox--loader"\x3e\x3c/div\x3e');a=e(a).data("lightbox-url")||e(a).attr("href");c.setLoadingState(!0);this.loader.load(a,function(a){c.setLoadingState(!1);a=e("\x3cdiv\x3e\x3c/div\x3e").html(a);var b=a.find(".js-lightbox--content").eq(0);b.length?(d.replaceWith(b),e(window).trigger("resize")):(b=a.find("#main-content"),b.length?(d.replaceWith(b.children()),e(window).trigger("resize")):c.close());a=document.createEvent("CustomEvent");a.initCustomEvent("lightbox:loaded",
!1,!1,{content:c.$el.find(".js-lightbox--content").get(0)});window.dispatchEvent(a)});return d};a.prototype.destroy=function(){};return a});p("app/util/lightbox/GroupLightbox",["jquery","lib/util/Templates","lib/browser/KeyCode"],function(e,k,a){function d(a){this.type=a||"media";this.index=0}d.match=function(a){return e(a).data("lightbox-group")?a:!1};d.prototype.create=function(c,d){var b=this,g=e(c);this.lightbox=d;this.group=g.data("lightbox-group");this.currentTarget=c;e('[data-lightbox-group\x3d"'+
this.group+'"]');d.on(document,"keyup",function(c){switch(c.keyCode){case a.RIGHT:b.showNext();break;case a.LEFT:b.showPrevious()}});d.on("click",".js-lightbox--prev",function(a){b.showPrevious()});d.on("click",".js-lightbox--next",function(a){b.showNext()});d.on("close",function(a){b.destroy()});this.$el=e("\x3cdiv\x3e\x3c/div\x3e");this.showBy(0);return this.$el};d.prototype.render=function(){r(["app/plugins/LightboxFactory"],function(a){var c=e(this.currentTarget);c.data("lightbox-group",!1);a=
a.getHandler(this.currentTarget);c.data("lightbox-group",this.group);this.handler&&this.handler.destroy();this.handler=new a;c=e(this.handler.create(this.currentTarget,this.lightbox));this.lightbox.setType(this.handler.type);this.$el.find("iframe").remove();this.$el.last().after(c);this.$el.remove();this.$el=c;this.lightbox.getElement()[0<this.index?"addClass":"removeClass"]("has-prev");this.lightbox.getElement()[this.index<this.total-1?"addClass":"removeClass"]("has-next")}.bind(this))};d.prototype.showPrevious=
function(){this.showBy(-1)};d.prototype.showNext=function(){this.showBy(1)};d.prototype.showBy=function(a){var c=e('[data-lightbox-group\x3d"'+this.group+'"]'),b=c.index(this.currentTarget);b+=a;0>b&&(b=0);b>=c.length&&(b=c.length-1);this.currentTarget=c.get(b);this.index=b;this.total=c.length;this.render()};d.prototype.destroy=function(){this.currentTarget=this.lightbox=null;this.handler&&this.handler.destroy();this.$el&&this.$el.find("iframe").remove()};return d});p("app/plugins/LightboxFactory",
"jquery app/util/lightbox/Lightbox app/util/lightbox/ImageLightbox app/util/lightbox/VideoLightbox app/util/lightbox/InlineLightbox app/util/lightbox/RemoteLightbox app/util/lightbox/GroupLightbox".split(" "),function(e,k,a,d,c,h,b){function g(a){f.push(a)}function n(a){for(var b,c=0;c<f.length;c++)if(b=f[c].match(a))return f[c];return!1}var f=[];g(c);g(h);e(document).on("click","[data-lightbox]",function(a){a.isDefaultPrevented();var b=n(a.currentTarget);if(b){a.preventDefault();var c=new k;b=new b;
b.type&&c.setType(b.type);var f=e(a.currentTarget).data("lightbox-variant");f&&c.setVariant(f);a=b.create(a.currentTarget,c);c.show(a)}});return{show:function(a,b){b=new k(b);b.show(a);return b},getHandler:n,registerType:g}});p("app/plugins/SyncStatus",["jquery"],function(e){var k=function(a){a=e(a);var d=a.data("sync-status"),c=e(d.target);a.prop(d.prop)?c.addClass(d.class).trigger("activate"):c.removeClass(d.class).trigger("deactivate")};e(document).on("change","[data-sync-status]",function(a){var d=
e(a.currentTarget);d.is('input[type\x3d"radio"]')?e('input[name\x3d"'+d.attr("name")+'"]').each(function(){k(this)}):k(a.currentTarget)});return!0});p("app/plugins/vw",[],function(){function e(){var e=document.body.offsetWidth;document.body.style.setProperty("--vw100",e+"px");document.body.style.setProperty("--vw50",e/2+"px")}try{e(),window.addEventListener("resize",e)}catch(k){}return!0});jQuery.fn.scrollParent=function(){var e=/(auto|scroll)/,k=this.css("position"),a="absolute"===k,d=this.parents().filter(function(){var c=
$(this);if(a&&"static"===c.css("position"))return!1;c=c.css(["overflow","overflowX","overflowY"]);return e.test(c.overflow+c.overflowX+c.overflowY)}).eq(0);return"fixed"!==k&&d.length?d:$(this[0].ownerDocument||document)};p("vendor/jquery.scrollparent",function(){});jQuery.fn.visibleInScroll=function(e){var k=$(this[0]).scrollParent()[0],a=this[0].getBoundingClientRect(),d=[k.getBoundingClientRect()];a={left:a.left,top:a.top,right:a.right,bottom:a.bottom,width:a.width,height:a.height,visibleWidth:a.width,
visibleHeight:a.height,isVisible:!0,isContained:!0};if(k===this[0].ownerDocument)return a;for(;k!==this[0].ownerDocument&&null!==k;){(k.scrollWidth>k.clientWidth||k.scrollHeight>k.clientHeight)&&d.push(k.getBoundingClientRect());if(d.length&&e)break;k=$(k).scrollParent()[0]}e||(d.length=1);for(e=0;e<d.length;e+=1)k=d[e],a.left=Math.max(a.left,k.left),a.top=Math.max(a.top,k.top),a.right=Math.min(a.right,k.right),a.bottom=Math.min(a.bottom,k.bottom);a.visibleWidth=Math.max(0,a.right-a.left);a.visibleHeight=
a.visibleWidth&&Math.max(0,a.bottom-a.top);a.visibleHeight||(a.visibleWidth=0);a.isVisible=0<a.visibleWidth&&0<a.visibleHeight;a.isContained=a.visibleWidth===a.width&&a.visibleHeight===a.height;return a};p("vendor/jquery.visibleinscroll",function(){});p("app/plugins","app/util/ScrollSighting lib/browser/FlyingFocus app/plugins/LightboxFactory app/plugins/SyncStatus app/plugins/vw vendor/jquery.scrollparent vendor/jquery.visibleinscroll".split(" "),function(e){void 0===window.CQ&&e.get().watch(".teaser_row--item",
{time:400,delay:200,action:function(e,a){var d=1-1/(a+1);$(e).css("transform","translateY("+(40+10*a)+"%)");$(e).css("transition-timing-function","cubic-bezier(0, .4, "+d+", 0.98)");setTimeout(function(){$(e).addClass("is-visible").css("transform","")},0)}});return!0});!function(e,k){var a={},d={};!function(a,d){function b(){this._endDelay=this._delay=0;this._fill="none";this._iterationStart=0;this._iterations=1;this._duration=0;this._playbackRate=1;this._direction="normal";this._easing="linear";
this._easingFunction=y}function c(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function n(c,f,g){var d=new b;return f&&(d.fill="both",d.duration="auto"),"number"!=typeof c||isNaN(c)?void 0!==c&&Object.getOwnPropertyNames(c).forEach(function(b){"auto"==c[b]||("number"==typeof d[b]||"duration"==b)&&("number"!=typeof c[b]||isNaN(c[b]))||"fill"==b&&-1==A.indexOf(c[b])||"direction"==b&&-1==B.indexOf(c[b])||"playbackRate"==b&&1!==c[b]&&
a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead.")||(d[b]=c[b])}):d.duration=c,d}function f(a,b,c,f){return 0>a||1<a||0>c||1<c?y:function(g){if(0>=g){var d=0;return 0<a?d=b/a:!b&&0<c&&(d=f/c),d*g}if(1<=g)return d=0,1>c?d=(f-1)/(c-1):1==c&&1>a&&(d=(b-1)/(a-1)),1+d*(g-1);d=0;for(var l=1;d<l;){var n=(d+l)/2,e=3*a*(1-n)*(1-n)*n+3*c*(1-n)*n*n+n*n*n;if(1E-5>Math.abs(g-e))break;e<g?d=n:l=n}return 3*b*(1-n)*(1-n)*n+3*f*(1-n)*n*n+n*n*n}}function l(a,b){return function(c){if(1<=
c)return 1;var f=1/a;return(c+=b*f)-c%f}}function e(a){p||(p=document.createElement("div").style);p.animationTimingFunction="";p.animationTimingFunction=a;var b=p.animationTimingFunction;if(""==b&&c())throw new TypeError(a+" is not a valid value for easing");return b}function h(a){if("linear"==a)return y;var b=Y.exec(a);return b?f.apply(this,b.slice(1).map(Number)):(b=x.exec(a))?l(Number(b[1]),{start:v,middle:w,end:O}[b[2]]):ba[a]||y}function k(a,b,c){if(null==b)return ca;var f=c.delay+a+c.endDelay;
return b<Math.min(c.delay,f)?r:b>=Math.min(c.delay+a,f)?E:V}var A=["backwards","forwards","both","none"],B=["reverse","alternate","alternate-reverse"],y=function(a){return a};b.prototype={_setMember:function(b,c){this["_"+b]=c;this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},
get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&c())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},
set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&c())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=h(e(a));this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&c())throw new TypeError("iterations must be non-negative, received: "+a);
this._setMember("iterations",a)},get iterations(){return this._iterations}};var v=1,w=.5,O=0,ba={ease:f(.25,.1,.25,1),"ease-in":f(.42,0,1,1),"ease-out":f(0,0,.58,1),"ease-in-out":f(.42,0,.58,1),"step-start":l(1,v),"step-middle":l(1,w),"step-end":l(1,O)},p=null,Y=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,x=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,ca=0,r=1,E=2,V=3;a.cloneTimingInput=function(a){if("number"==
typeof a)return a;var b={},c;for(c in a)b[c]=a[c];return b};a.makeTiming=n;a.numericTimingToObject=function(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a};a.normalizeTimingInput=function(b,c){return b=a.numericTimingToObject(b),n(b,c)};a.calculateActiveDuration=function(a){return Math.abs((0===a.duration||0===a.iterations?0:a.duration*a.iterations)/a.playbackRate)};a.calculateIterationProgress=function(a,b,c){var f=k(a,b,c);a:{var g=c.fill;switch(f){case r:a="backwards"==g||
"both"==g?0:null;break a;case V:a=b-c.delay;break a;case E:a="forwards"==g||"both"==g?a:null;break a;case ca:a=null;break a}a=void 0}if(null===a)return null;b=c.duration;g=c.iterationStart;b=(0===b?f!==r&&(g+=c.iterations):g+=a/b,g);g=b===1/0?c.iterationStart%1:b%1;a=(0!==g||f!==E||0===c.iterations||0===a&&0!==c.duration||(g=1),g);g=f===E&&c.iterations===1/0?1/0:1===a?Math.floor(b)-1:Math.floor(b);b=f=c.direction;"normal"!==f&&"reverse"!==f&&("alternate-reverse"===f&&(g+=1),b="normal",g!==1/0&&0!=
g%2&&(b="reverse"));return c._easingFunction("normal"===b?a:1-a)};a.calculatePhase=k;a.normalizeEasing=e;a.parseEasingFunction=h}(a);(function(a,d){function b(a){var b=[],c;for(c in a)if(!(c in["easing","offset","composite"])){var f=a[c];Array.isArray(f)||(f=[f]);for(var g,d=f.length,l=0;l<d;l++)g={},g.offset="offset"in a?a.offset:1==d?1:l/(d-1),"easing"in a&&(g.easing=a.easing),"composite"in a&&(g.composite=a.composite),g[c]=f[l],b.push(g)}return b.sort(function(a,b){return a.offset-b.offset}),b}
var c={background:"backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundAttachment backgroundOrigin backgroundClip backgroundColor".split(" "),border:"borderTopColor borderTopStyle borderTopWidth borderRightColor borderRightStyle borderRightWidth borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth".split(" "),borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor",
"borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:"fontFamily fontSize fontStyle fontVariant fontWeight lineHeight".split(" "),
margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},n=document.createElementNS("http://www.w3.org/1999/xhtml","div");d={thin:"1px",medium:"3px",thick:"5px"};var f={borderBottomWidth:d,borderLeftWidth:d,borderRightWidth:d,borderTopWidth:d,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",
bold:"700"},outlineWidth:d,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=b;a.normalizeKeyframes=function(g){function d(){var a=l.length;null==l[a-1].offset&&(l[a-1].offset=1);1<a&&null==l[0].offset&&(l[0].offset=0);for(var b=0,c=l[0].offset,f=1;f<a;f++){var g=l[f].offset;if(null!=g){for(var d=1;d<f-b;d++)l[b+d].offset=c+(g-c)*d/(f-b);b=f;c=g}}}if(null==g)return[];$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();
$jscomp.initSymbolIterator();window.Symbol&&Symbol.iterator&&Array.prototype.from&&g[Symbol.iterator]&&(g=Array.from(g));Array.isArray(g)||(g=b(g));var l=g.map(function(b){var g={},d;for(d in b){var l=b[d];if("offset"==d){if(null!=l){if(l=Number(l),!isFinite(l))throw new TypeError("Keyframe offsets must be numbers.");if(0>l||1<l)throw new TypeError("Keyframe offsets must be between 0 and 1.");}}else if("composite"==d){if("add"==l||"accumulate"==l)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",
message:"add compositing is not supported"};if("replace"!=l)throw new TypeError("Invalid composite mode "+l+".");}else l="easing"==d?a.normalizeEasing(l):""+l;var e=void 0,h=d,t=l;l=g;var u=h;if("display"!==u&&0!==u.lastIndexOf("animation",0)&&0!==u.lastIndexOf("transition",0))if(u=c[h])for(e in n.style[h]=t,u)h=u[e],t=n.style[h],l[h]=h in f?f[h][t]||t:t;else l[h]=h in f?f[h][t]||t:t}return void 0==g.offset&&(g.offset=null),void 0==g.easing&&(g.easing="linear"),g});g=!0;for(var e=-1/0,h=0;h<l.length;h++){var k=
l[h].offset;if(null!=k){if(k<e)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");e=k}else g=!1}return l=l.filter(function(a){return 0<=a.offset&&1>=a.offset}),g||d(),l}})(a);(function(a){var c={};a.isDeprecated=function(a,g,d,f){d=new Date;g=new Date(g);return g.setMonth(g.getMonth()+3),!(d<g&&(a in c||void 0,c[a]=!0,1))};a.deprecated=function(b,c,d,f){var g=f?"are":"is";if(a.isDeprecated(b,c,d,f))throw Error(b+" "+g+" no longer supported. "+d);}})(a);(function(){if(document.documentElement.animate){var c=
document.documentElement.animate([],0),e=!0;if(c&&(e=!1,"play currentTime pause reverse playbackRate cancel finish startTime playState".split(" ").forEach(function(a){void 0===c[a]&&(e=!0)})),!e)return}!function(a,c,d){function b(a){for(var b={},c=0;c<a.length;c++)for(var f in a[c])if("offset"!=f&&"easing"!=f&&"composite"!=f){var g={offset:a[c].offset,easing:a[c].easing,value:a[c][f]};b[f]=b[f]||[];b[f].push(g)}for(var d in b)if(a=b[d],0!=a[0].offset||1!=a[a.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,
name:"NotSupportedError",message:"Partial keyframes are not supported"};return b}function g(b){var f=[],g;for(g in b)for(var d=b[g],l=0;l<d.length-1;l++){var n=l,e=l+1,h=d[n].offset,t=d[e].offset,k=h,p=t;0==l&&(k=-1/0,0==t&&(e=n));l==d.length-2&&(p=1/0,1==h&&(n=e));f.push({applyFrom:k,applyTo:p,startOffset:d[n].offset,endOffset:d[e].offset,easingFunction:a.parseEasingFunction(d[n].easing),property:g,interpolation:c.propertyInterpolation(g,d[n].value,d[e].value)})}return f.sort(function(a,b){return a.startOffset-
b.startOffset}),f}c.convertEffectInput=function(f){f=a.normalizeKeyframes(f);var d=b(f),l=g(d);return function(a,b){if(null!=b)l.filter(function(a){return b>=a.applyFrom&&b<a.applyTo}).forEach(function(f){var g=b-f.startOffset,d=f.endOffset-f.startOffset;g=0==d?0:f.easingFunction(g/d);c.apply(a,f.property,f.interpolation(g))});else for(var f in d)"offset"!=f&&"easing"!=f&&"composite"!=f&&c.clear(a,f)}}}(a,d);(function(a,c,d){function b(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}
var g={};c.addPropertiesHandler=function(a,c,f){for(var d=0;d<f.length;d++){var l=a,n=c,e=b(f[d]);g[e]=g[e]||[];g[e].push([l,n])}};var n={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",
borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",
textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};c.propertyInterpolation=function(f,d,l){var e=f;/-/.test(f)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(e=b(f));"initial"!=d&&"initial"!=l||("initial"==d&&(d=n[e]),"initial"==l&&(l=n[e]));f=d==l?[]:g[e];for(e=0;f&&e<f.length;e++){var h=f[e][0](d),t=f[e][0](l);if(void 0!==h&&void 0!==t&&(h=
f[e][1](h,t))){var u=c.Interpolation.apply(null,h);return function(a){return 0==a?d:1==a?l:u(a)}}}return c.Interpolation(!1,!0,function(a){return a?l:d})}})(a,d);(function(a,c,d){function b(b){var c=a.calculateActiveDuration(b),f=function(f){return a.calculateIterationProgress(c,f,b)};return f._totalDuration=b.delay+c+b.endDelay,f}c.KeyframeEffect=function(f,g,d,e){var l,n=b(a.normalizeTimingInput(d)),h=c.convertEffectInput(g);g=function(){h(f,l)};return g._update=function(a){return null!==(l=n(a))},
g._clear=function(){h(f,null)},g._hasSameTarget=function(a){return f===a},g._target=f,g._totalDuration=n._totalDuration,g._id=e,g}})(a,d);(function(a,c){function b(a,b,c){c.enumerable=!0;c.configurable=!0;Object.defineProperty(a,b,c)}function f(a){this._element=a;this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style;this._style=a.style;this._length=0;this._isAnimatedProperty={};var b=window;this._updateSvgTransformAttr=!(!a.namespaceURI||-1==a.namespaceURI.indexOf("/svg"))&&
(d in b||(b[d]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(b.navigator.userAgent)),b[d]);this._savedTransformAttr=null;for(a=0;a<this._style.length;a++)b=this._style[a],this._surrogateStyle[b]=this._style[b];this._updateIndices()}function g(a){if(!a._webAnimationsPatchedStyle){var c=new f(a);try{b(a,"style",{get:function(){return c}})}catch(w){a.style._set=function(b,c){a.style[b]=c},a.style._clear=function(b){a.style[b]=""}}a._webAnimationsPatchedStyle=a.style}}var d="_webAnimationsUpdateSvgTransformAttr";
c={cssText:1,length:1,parentRule:1};var e={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},h={removeProperty:1,setProperty:1};f.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(a){for(var b={},c=0;c<this._surrogateStyle.length;c++)b[this._surrogateStyle[c]]=!0;this._surrogateStyle.cssText=a;this._updateIndices();for(c=0;c<this._surrogateStyle.length;c++)b[this._surrogateStyle[c]]=!0;for(var f in b)this._isAnimatedProperty[f]||
this._style.setProperty(f,this._surrogateStyle.getPropertyValue(f))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(a){return function(){return this._surrogateStyle[a]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,
{configurable:!0,enumerable:!1,value:void 0})},_set:function(b,c){this._style[b]=c;this._isAnimatedProperty[b]=!0;this._updateSvgTransformAttr&&"transform"==a.unprefixedPropertyName(b)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",a.transformToSvgMatrix(c)))},_clear:function(b){this._style[b]=this._surrogateStyle[b];this._updateSvgTransformAttr&&"transform"==a.unprefixedPropertyName(b)&&(this._savedTransformAttr?
this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null);delete this._isAnimatedProperty[b]}};for(var k in e)f.prototype[k]=function(a,b){return function(){var c=this._surrogateStyle[a].apply(this._surrogateStyle,arguments);return b&&(this._isAnimatedProperty[arguments[0]]||this._style[a].apply(this._style,arguments),this._updateIndices()),c}}(k,k in h);for(var B in document.documentElement.style)B in c||B in e||function(a){b(f.prototype,
a,{get:function(){return this._surrogateStyle[a]},set:function(b){this._surrogateStyle[a]=b;this._updateIndices();this._isAnimatedProperty[a]||(this._style[a]=b)}})}(B);a.apply=function(b,c,f){g(b);b.style._set(a.propertyName(c),f)};a.clear=function(b,c){b._webAnimationsPatchedStyle&&b.style._clear(a.propertyName(c))}})(d);(function(a){window.Element.prototype.animate=function(b,c){var f="";return c&&c.id&&(f=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,f))}})(d);(function(a,c){function b(a,c,
g){if("number"==typeof a&&"number"==typeof c)return a*(1-g)+c*g;if("boolean"==typeof a&&"boolean"==typeof c)return.5>g?a:c;if(a.length==c.length){for(var f=[],d=0;d<a.length;d++)f.push(b(a[d],c[d],g));return f}throw"Mismatched interpolation arguments "+a+":"+c;}a.Interpolation=function(a,c,g){return function(f){return g(b(a,c,f))}}})(d);(function(a,c){c=function(){function a(a,b){for(var c=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],f=0;4>f;f++)for(var g=0;4>g;g++)for(var d=0;4>d;d++)c[f][g]+=b[f][d]*
a[d][g];return c}return function(b,c,g,d,e){for(var f=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],l=0;4>l;l++)f[l][3]=e[l];for(l=0;3>l;l++)for(e=0;3>e;e++)f[3][l]+=b[e]*f[e][l];b=d[0];l=d[1];e=d[2];d=d[3];var n=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];n[0][0]=1-2*(l*l+e*e);n[0][1]=2*(b*l-e*d);n[0][2]=2*(b*e+l*d);n[1][0]=2*(b*l+e*d);n[1][1]=1-2*(b*b+e*e);n[1][2]=2*(l*e-b*d);n[2][0]=2*(b*e-l*d);n[2][1]=2*(l*e+b*d);n[2][2]=1-2*(b*b+l*l);f=a(f,n);d=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[2]&&(d[2][1]=
g[2],f=a(f,d));g[1]&&(d[2][1]=0,d[2][0]=g[0],f=a(f,d));g[0]&&(d[2][0]=0,d[1][0]=g[0],f=a(f,d));for(l=0;3>l;l++)for(e=0;3>e;e++)f[l][e]*=c[l];return 0==f[0][2]&&0==f[0][3]&&0==f[1][2]&&0==f[1][3]&&0==f[2][0]&&0==f[2][1]&&1==f[2][2]&&0==f[2][3]&&0==f[3][2]&&1==f[3][3]?[f[0][0],f[0][1],f[1][0],f[1][1],f[3][0],f[3][1]]:f[0].concat(f[1],f[2],f[3])}}();a.composeMatrix=c;a.quat=function(b,c,d){var f=a.dot(b,c);f=Math.max(Math.min(f,1),-1);var g=[];if(1===f)g=b;else for(var l=Math.acos(f),e=1*Math.sin(d*
l)/Math.sqrt(1-f*f),n=0;4>n;n++)g.push(b[n]*(Math.cos(d*l)-f*e)+c[n]*e);return g}})(d);(function(a,c,d){a.sequenceNumber=0;var b=function(a,b,c){this.target=a;this.currentTime=b;this.timelineTime=c;this.type="finish";this.cancelable=this.bubbles=!1;this.currentTarget=a;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()};c.Animation=function(b){this.id="";b&&b._id&&(this.id=b._id);this._sequenceNumber=a.sequenceNumber++;this._currentTime=0;this._startTime=null;this._paused=
!1;this._playbackRate=1;this._finishedFlag=this._inTimeline=!0;this.onfinish=null;this._finishHandlers=[];this._effect=b;this._inEffect=this._effect._update(0);this._idle=!0;this._currentTimePending=!1};c.Animation.prototype={_ensureAlive:function(){0>this.playbackRate&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime);this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,c.timeline._animations.push(this))},_tickCurrentTime:function(a,
b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a;isNaN(a)||(c.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(a,
!0),c.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(a){a=+a;isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),c.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var b=this.currentTime;this._playbackRate=a;this._startTime=null;"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,
this._idle=!1,this._ensureAlive(),c.applyDirtiedAnimation(this));null!=b&&(this.currentTime=b)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=
this._playbackRate)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1;(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null);this._idle=this._finishedFlag=!1;this._ensureAlive();c.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),
this._idle=!1):this._currentTimePending=!0;this._startTime=null;this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,c.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),c.applyDirtiedAnimation(this))},
reverse:function(){this.playbackRate*=-1;this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){"finish"==a&&(a=this._finishHandlers.indexOf(b),0<=a&&this._finishHandlers.splice(a,1))},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var c=new b(this,this._currentTime,a),f=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){f.forEach(function(a){a.call(c.target,
c)})},0);this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate));b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var a=this._effect._target;return a._activeAnimations||(a._activeAnimations=
[]),a._activeAnimations},_markTarget:function(){var a=this._targetAnimations();-1===a.indexOf(this)&&a.push(this)},_unmarkTarget:function(){var a=this._targetAnimations(),b=a.indexOf(this);-1!==b&&a.splice(b,1)}}})(a,d);(function(a,c,d){function b(a){var b=B;B=[];a<p.currentTime&&(a=p.currentTime);p._animations.sort(g);p._animations=h(a,!0,p._animations)[0];b.forEach(function(b){b[1](a)});n()}function g(a,b){return a._sequenceNumber-b._sequenceNumber}function e(){this._animations=[];this.currentTime=
window.performance&&performance.now?performance.now():0}function n(){O.forEach(function(a){a()});O.length=0}function h(a,b,f){ba=!0;w=!1;c.timeline.currentTime=a;v=!1;var d=[],g=[],l=[],e=[];return f.forEach(function(c){c._tick(a,b);c._inEffect?(g.push(c._effect),c._markTarget()):(d.push(c._effect),c._unmarkTarget());c._needsTick&&(v=!0);var f=c._inEffect||c._needsTick;(c._inTimeline=f)?l.push(c):e.push(c)}),O.push.apply(O,d),O.push.apply(O,g),v&&requestAnimationFrame(function(){}),ba=!1,[l,e]}var k=
window.requestAnimationFrame,B=[],y=0;window.requestAnimationFrame=function(a){var c=y++;return 0==B.length&&k(b),B.push([c,a]),c};window.cancelAnimationFrame=function(a){B.forEach(function(b){b[0]==a&&(b[1]=function(){})})};e.prototype={_play:function(b){b._timing=a.normalizeTimingInput(b.timing);b=new c.Animation(b);return b._idle=!1,b._timeline=this,this._animations.push(b),c.restart(),c.applyDirtiedAnimation(b),b}};var v=!1,w=!1;c.restart=function(){return v||(v=!0,requestAnimationFrame(function(){}),
w=!0),w};c.applyDirtiedAnimation=function(a){ba||(a._markTarget(),a=a._targetAnimations(),a.sort(g),h(c.timeline.currentTime,!1,a.slice())[1].forEach(function(a){a=p._animations.indexOf(a);-1!==a&&p._animations.splice(a,1)}),n())};var O=[],ba=!1,p=new e;c.timeline=p})(a,d);(function(a,c){function b(a,b){for(var c=0,f=0;f<a.length;f++)c+=a[f]*b[f];return c}function f(a,b){return[a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],
a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],a[0]*b[4]+a[4]*b[5]+a[8]*b[6]+a[12]*b[7],a[1]*b[4]+a[5]*b[5]+a[9]*b[6]+a[13]*b[7],a[2]*b[4]+a[6]*b[5]+a[10]*b[6]+a[14]*b[7],a[3]*b[4]+a[7]*b[5]+a[11]*b[6]+a[15]*b[7],a[0]*b[8]+a[4]*b[9]+a[8]*b[10]+a[12]*b[11],a[1]*b[8]+a[5]*b[9]+a[9]*b[10]+a[13]*b[11],a[2]*b[8]+a[6]*b[9]+a[10]*b[10]+a[14]*b[11],a[3]*b[8]+a[7]*b[9]+a[11]*b[10]+a[15]*b[11],a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12]*b[15],a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13]*b[15],a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+
a[14]*b[15],a[3]*b[12]+a[7]*b[13]+a[11]*b[14]+a[15]*b[15]]}function d(a){return 2*((a.deg||0)/360+(a.grad||0)/400+(a.turn||0))*Math.PI+(a.rad||0)}function g(a){switch(a.t){case "rotatex":return a=d(a.d[0]),[1,0,0,0,0,Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1];case "rotatey":return a=d(a.d[0]),[Math.cos(a),0,-Math.sin(a),0,0,1,0,0,Math.sin(a),0,Math.cos(a),0,0,0,0,1];case "rotate":case "rotatez":return a=d(a.d[0]),[Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1,
0,0,0,0,1];case "rotate3d":var b=a.d[0],c=a.d[1],f=a.d[2];a=d(a.d[3]);var g=b*b+c*c+f*f;0===g?(b=1,f=c=0):1!==g&&(g=Math.sqrt(g),b/=g,c/=g,f/=g);g=Math.sin(a/2);a=g*Math.cos(a/2);g*=g;return[1-2*(c*c+f*f)*g,2*(b*c*g+f*a),2*(b*f*g-c*a),0,2*(b*c*g-f*a),1-2*(b*b+f*f)*g,2*(c*f*g+b*a),0,2*(b*f*g+c*a),2*(c*f*g-b*a),1-2*(b*b+c*c)*g,0,0,0,0,1];case "scale":return[a.d[0],0,0,0,0,a.d[1],0,0,0,0,1,0,0,0,0,1];case "scalex":return[a.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case "scaley":return[1,0,0,0,0,a.d[0],0,0,
0,0,1,0,0,0,0,1];case "scalez":return[1,0,0,0,0,1,0,0,0,0,a.d[0],0,0,0,0,1];case "scale3d":return[a.d[0],0,0,0,0,a.d[1],0,0,0,0,a.d[2],0,0,0,0,1];case "skew":return b=d(a.d[0]),c=d(a.d[1]),[1,Math.tan(c),0,0,Math.tan(b),1,0,0,0,0,1,0,0,0,0,1];case "skewx":return a=d(a.d[0]),[1,0,0,0,Math.tan(a),1,0,0,0,0,1,0,0,0,0,1];case "skewy":return a=d(a.d[0]),[1,Math.tan(a),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case "translate":return b=a.d[0].px||0,c=a.d[1].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,b,c,0,1];case "translatex":return b=
a.d[0].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,b,0,0,1];case "translatey":return c=a.d[0].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,c,0,1];case "translatez":return f=a.d[0].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,f,1];case "translate3d":return b=a.d[0].px||0,c=a.d[1].px||0,f=a.d[2].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,b,c,f,1];case "perspective":return[1,0,0,0,0,1,0,0,0,0,1,a.d[0].px?-1/a.d[0].px:0,0,0,0,1];case "matrix":return[a.d[0],a.d[1],0,0,a.d[2],a.d[3],0,0,0,0,1,0,a.d[4],a.d[5],0,1];case "matrix3d":return a.d}}function e(a){return 0===
a.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:a.map(g).reduce(f)}var h=function(){function a(a){return a[0][0]*a[1][1]*a[2][2]+a[1][0]*a[2][1]*a[0][2]+a[2][0]*a[0][1]*a[1][2]-a[0][2]*a[1][1]*a[2][0]-a[1][2]*a[2][1]*a[0][0]-a[2][2]*a[0][1]*a[1][0]}function c(a){var b=f(a);return[a[0]/b,a[1]/b,a[2]/b]}function f(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])}function d(a,b,c,f){return[c*a[0]+f*b[0],c*a[1]+f*b[1],c*a[2]+f*b[2]]}return function(g){g=[g.slice(0,4),g.slice(4,8),g.slice(8,12),g.slice(12,
16)];if(1!==g[3][3])return null;for(var l=[],e=0;4>e;e++)l.push(g[e].slice());for(e=0;3>e;e++)l[e][3]=0;if(0===a(l))return null;var n=[];if(g[0][3]||g[1][3]||g[2][3]){n.push(g[0][3]);n.push(g[1][3]);n.push(g[2][3]);n.push(g[3][3]);var h=1/a(l),k=l[0][0],t=l[0][1];e=l[0][2];var u=l[1][0],F=l[1][1],A=l[1][2],w=l[2][0],B=l[2][1],y=l[2][2];h=[[(F*y-A*B)*h,(e*B-t*y)*h,(t*A-e*F)*h,0],[(A*w-u*y)*h,(k*y-e*w)*h,(e*u-k*A)*h,0],[(u*B-F*w)*h,(w*t-k*B)*h,(k*F-t*u)*h,0]];k=[];for(t=0;3>t;t++){for(u=e=0;3>u;u++)e+=
l[3][u]*h[u][t];k.push(e)}l=(k.push(1),h.push(k),h);l=[[l[0][0],l[1][0],l[2][0],l[3][0]],[l[0][1],l[1][1],l[2][1],l[3][1]],[l[0][2],l[1][2],l[2][2],l[3][2]],[l[0][3],l[1][3],l[2][3],l[3][3]]];h=[];for(k=0;4>k;k++){for(e=t=0;4>e;e++)t+=n[e]*l[e][k];h.push(t)}n=h}else n=[0,0,0,1];l=g[3].slice(0,3);h=[];h.push(g[0].slice(0,3));k=[];k.push(f(h[0]));h[0]=c(h[0]);t=[];h.push(g[1].slice(0,3));t.push(b(h[0],h[1]));h[1]=d(h[1],h[0],1,-t[0]);k.push(f(h[1]));h[1]=c(h[1]);t[0]/=k[1];h.push(g[2].slice(0,3));t.push(b(h[0],
h[2]));h[2]=d(h[2],h[0],1,-t[1]);t.push(b(h[1],h[2]));h[2]=d(h[2],h[1],1,-t[2]);k.push(f(h[2]));h[2]=c(h[2]);t[1]/=k[2];t[2]/=k[2];g=h[1];e=h[2];if(0>b(h[0],[g[1]*e[2]-g[2]*e[1],g[2]*e[0]-g[0]*e[2],g[0]*e[1]-g[1]*e[0]]))for(e=0;3>e;e++)k[e]*=-1,h[e][0]*=-1,h[e][1]*=-1,h[e][2]*=-1;var p,v;g=h[0][0]+h[1][1]+h[2][2]+1;return 1E-4<g?(p=.5/Math.sqrt(g),v=[(h[2][1]-h[1][2])*p,(h[0][2]-h[2][0])*p,(h[1][0]-h[0][1])*p,.25/p]):h[0][0]>h[1][1]&&h[0][0]>h[2][2]?(p=2*Math.sqrt(1+h[0][0]-h[1][1]-h[2][2]),v=[.25*
p,(h[0][1]+h[1][0])/p,(h[0][2]+h[2][0])/p,(h[2][1]-h[1][2])/p]):h[1][1]>h[2][2]?(p=2*Math.sqrt(1+h[1][1]-h[0][0]-h[2][2]),v=[(h[0][1]+h[1][0])/p,.25*p,(h[1][2]+h[2][1])/p,(h[0][2]-h[2][0])/p]):(p=2*Math.sqrt(1+h[2][2]-h[0][0]-h[1][1]),v=[(h[0][2]+h[2][0])/p,(h[1][2]+h[2][1])/p,.25*p,(h[1][0]-h[0][1])/p]),[l,k,t,v,n]}}();a.dot=b;a.makeMatrixDecomposition=function(a){return[h(e(a))]};a.transformListToMatrix=e})(d);(function(a){function b(a,b){var c=a.exec(b);if(c)return c=a.ignoreCase?c[0].toLowerCase():
c[0],[c,b.substr(c.length)]}function c(a,b){b=b.replace(/^\s*/,"");if(a=a(b))return[a[0],a[1].replace(/^\s*/,"")]}function f(a,b){for(var c=a,f=b;c&&f;)c>f?c%=f:f%=c;return a*b/(c+f)}function d(a,b,c,g,d){for(var h=[],l=[],e=[],n=f(g.length,d.length),k=0;k<n;k++){var t=b(g[k%g.length],d[k%d.length]);if(!t)return;h.push(t[0]);l.push(t[1]);e.push(t[2])}return[h,l,function(b){b=b.map(function(a,b){return e[b](a)}).join(c);return a?a(b):b}]}a.consumeToken=b;a.consumeTrimmed=c;a.consumeRepeated=function(a,
f,g){a=c.bind(null,a);for(var d=[];;){var h=a(g);if(!h||(d.push(h[0]),g=h[1],!(h=b(f,g))||""==h[1]))return[d,g];g=h[1]}};a.consumeParenthesised=function(a,b){for(var c=0,f=0;f<b.length&&(!/\s|,/.test(b[f])||0!=c);f++)if("("==b[f])c++;else if(")"==b[f]&&(c--,0==c&&f++,0>=c))break;a=a(b.substr(0,f));return void 0==a?void 0:[a,b.substr(f)]};a.ignore=function(a){return function(b){b=a(b);return b&&(b[0]=void 0),b}};a.optional=function(a,b){return function(c){return a(c)||[b,c]}};a.consumeList=function(b,
c){for(var f=[],g=0;g<b.length;g++){c=a.consumeTrimmed(b[g],c);if(!c||""==c[0])return;void 0!==c[0]&&f.push(c[0]);c=c[1]}if(""==c)return f};a.mergeNestedRepeated=d.bind(null,null);a.mergeWrappedNestedRepeated=d;a.mergeList=function(a,b,c){for(var f=[],g=[],d=[],h=0,l=0;l<c.length;l++)if("function"==typeof c[l]){var e=c[l](a[h],b[h++]);f.push(e[0]);g.push(e[1]);d.push(e[2])}else!function(a){f.push(!1);g.push(!1);d.push(function(){return c[a]})}(l);return[f,g,function(a){for(var b="",c=0;c<a.length;c++)b+=
d[c](a[c]);return b}]}})(d);(function(a){function b(b){var c={inset:!1,lengths:[],color:null};if((b=a.consumeRepeated(function(b){var f=a.consumeToken(/^inset/i,b);return f?(c.inset=!0,f):(f=a.consumeLengthOrPercent(b))?(c.lengths.push(f[0]),f):(f=a.consumeColor(b))?(c.color=f[0],f):void 0},/^/,b))&&b[0].length)return[c,b[1]]}var c=function(b,c,g,d){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var h=[],e=[],l=0;l<g.length||l<d.length;l++){var n=g[l]||f(d[l].inset),
k=d[l]||f(g[l].inset);h.push(n);e.push(k)}return a.mergeNestedRepeated(b,c,h,e)}.bind(null,function(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var f,g=[],d=[[],0],h=[[],0],e=0;e<b.lengths.length;e++){var l=a.mergeDimensions(b.lengths[e],c.lengths[e],2==e);d[0].push(l[0]);h[0].push(l[1]);g.push(l[2])}b.color&&c.color&&
(c=a.mergeColors(b.color,c.color),d[1]=c[0],h[1]=c[1],f=c[2]);return[d,h,function(a){for(var c=b.inset?"inset ":" ",d=0;d<g.length;d++)c+=g[d](a[0][d])+" ";return f&&(c+=f(a[1])),c}]}},", ");a.addPropertiesHandler(function(c){if((c=a.consumeRepeated(b,/^,/,c))&&""==c[1])return c[0]},c,["box-shadow","text-shadow"])})(d);(function(a,c){function b(a){return a.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function f(a,b,c){return Math.min(b,Math.max(a,c))}function g(a){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a))return Number(a)}
function d(a,c){return function(g,d){return[g,d,function(g){return b(f(a,c,g))}]}}function h(a){a=a.trim().split(/\s*[\s,]\s*/);if(0!==a.length){for(var b=[],c=0;c<a.length;c++){var f=g(a[c]);if(void 0===f)return;b.push(f)}return b}}a.clamp=f;a.addPropertiesHandler(h,function(a,c){if(a.length==c.length)return[a,c,function(a){return a.map(b).join(" ")}]},["stroke-dasharray"]);a.addPropertiesHandler(g,d(0,1/0),["border-image-width","line-height"]);a.addPropertiesHandler(g,d(0,1),["opacity","shape-image-threshold"]);
a.addPropertiesHandler(g,function(a,b){if(0!=a)return d(0,1/0)(a,b)},["flex-grow","flex-shrink"]);a.addPropertiesHandler(g,function(a,b){return[a,b,function(a){return Math.round(f(1,1/0,a))}]},["orphans","widows"]);a.addPropertiesHandler(g,function(a,b){return[a,b,Math.round]},["z-index"]);a.parseNumber=g;a.parseNumberList=h;a.mergeNumbers=function(a,c){return[a,c,b]};a.numberToString=b})(d);(function(a,c){a.addPropertiesHandler(String,function(a,b){if("visible"==a||"visible"==b)return[0,1,function(c){return 0>=
c?a:1<=c?b:"visible"}]},["visibility"])})(d);(function(a,c){function b(a){a=a.trim();g.fillStyle="#000";g.fillStyle=a;var b=g.fillStyle;if(g.fillStyle="#fff",g.fillStyle=a,b==g.fillStyle)return g.fillRect(0,0,1,1),a=g.getImageData(0,0,1,1).data,g.clearRect(0,0,1,1),b=a[3]/255,[a[0]*b,a[1]*b,a[2]*b,b]}function f(b,c){return[b,c,function(b){if(b[3])for(var c=0;3>c;c++)b[c]=Math.round(Math.max(0,Math.min(255,b[c]/b[3])));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}c=document.createElementNS("http://www.w3.org/1999/xhtml",
"canvas");c.width=c.height=1;var g=c.getContext("2d");a.addPropertiesHandler(b,f,"background-color border-bottom-color border-left-color border-right-color border-top-color color fill flood-color lighting-color outline-color stop-color stroke text-decoration-color".split(" "));a.consumeColor=a.consumeParenthesised.bind(null,b);a.mergeColors=f})(d);(function(a,c){function b(a){function b(){var b=h.exec(a);d=b?b[0]:void 0}function c(){if("("!==d){var a=Number(d);return b(),a}b();a=g();return")"!==d?
NaN:(b(),a)}function f(){for(var a=c();"*"===d||"/"===d;){var f=d;b();var g=c();"*"===f?a*=g:a/=g}return a}function g(){for(var a=f();"+"===d||"-"===d;){var c=d;b();var g=f();"+"===c?a+=g:a-=g}return a}var d,h=/([\+\-\w\.]+|[\(\)\*\/])/g;return b(),g()}function f(a,c){if("0"==(c=c.trim().toLowerCase())&&0<="px".search(a))return{px:0};if(/^[^(]*$|^calc/.test(c)){c=c.replace(/calc\(/g,"(");var f={};c=c.replace(a,function(a){return f[a]=null,"U"+a});a="U("+a.source+")";for(var g=c.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,
"N").replace(new RegExp("N"+a,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),d=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],h=0;h<d.length;)d[h].test(g)?(g=g.replace(d[h],"$1"),h=0):h++;if("D"==g){for(var e in f){g=b(c.replace(new RegExp("U"+e,"g"),"").replace(new RegExp(a,"g"),"*0"));if(!isFinite(g))return;f[e]=g}return f}}}function g(a,b){return d(a,b,!0)}function d(b,c,f){var g,d=[];for(g in b)d.push(g);for(g in c)0>d.indexOf(g)&&d.push(g);return b=d.map(function(a){return b[a]||0}),
c=d.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,g){return 1==b.length&&f&&(c=Math.max(c,0)),a.numberToString(c)+d[g]}).join(" + ");return 1<b.length?"calc("+c+")":c}]}var h=f.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g);c=f.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g);var e=f.bind(null,/deg|rad|grad|turn/g);a.parseLength=h;a.parseLengthOrPercent=c;a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,c);a.parseAngle=e;a.mergeDimensions=
d;h=a.consumeParenthesised.bind(null,h);h=a.consumeRepeated.bind(void 0,h,/^/);var k=a.consumeRepeated.bind(void 0,h,/^,/);a.consumeSizePairList=k;h=a.mergeNestedRepeated.bind(void 0,g," ");e=a.mergeNestedRepeated.bind(void 0,h,",");a.mergeNonNegativeSizePair=h;a.addPropertiesHandler(function(a){if((a=k(a))&&""==a[1])return a[0]},e,["background-size"]);a.addPropertiesHandler(c,g,"border-bottom-width border-image-width border-left-width border-right-width border-top-width flex-basis font-size height line-height max-height max-width outline-width width".split(" "));
a.addPropertiesHandler(c,d,"border-bottom-left-radius border-bottom-right-radius border-top-left-radius border-top-right-radius bottom left letter-spacing margin-bottom margin-left margin-right margin-top min-height min-width outline-offset padding-bottom padding-left padding-right padding-top perspective right shape-margin stroke-dashoffset text-indent top vertical-align word-spacing".split(" "))})(d);(function(a,c){function b(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function f(c){if((c=
a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,b,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],c))&&4==c[0].length)return c[0]}c=a.mergeWrappedNestedRepeated.bind(null,function(a){return"rect("+a+")"},function(b,c){return"auto"==b||"auto"==c?[!0,!1,function(f){f=f?b:c;if("auto"==f)return"auto";f=a.mergeDimensions(f,f);return f[2](f[0])}]:a.mergeDimensions(b,c)},", ");a.parseBox=f;a.mergeBoxes=c;a.addPropertiesHandler(f,
c,["clip"])})(d);(function(a,c){function b(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function f(a){return a}function g(b){if("none"==(b=b.toLowerCase().trim()))return[];for(var c,f=/\s*(\w+)\(([^)]*)\)/g,g=[],d=0;(c=f.exec(b))&&c.index==d;){d=c.index+c[0].length;var h=c[1],e=v[h];if(!e)break;c=c[2].split(",");e=e[0];if(e.length<c.length)break;for(var l=[],n=0;n<e.length;n++){var k=c[n];var t=e[n];if(void 0===(k=k?{A:function(b){return"0"==b.trim()?y:a.parseAngle(b)},
N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[t.toUpperCase()](k):{a:y,n:l[0],t:p}[t]))return;l.push(k)}if(g.push({t:h,d:l}),f.lastIndex==b.length)return g}}function d(a){return a.toFixed(6).replace(".000000","")}function h(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var f=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var g=a.makeMatrixDecomposition(c)}return null==f[0]||null==g[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(f[0].push(0),
g[0].push(1),[f,g,function(b){var c=a.quat(f[0][3],g[0][3],b[5]);return a.composeMatrix(b[0],b[1],b[2],c,b[4]).map(d).join(",")}])}function e(a){return a.replace(/(x|y|z|3d)?$/,"3d")}var k=null,p={px:0},y={deg:0},v={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],f],matrix3d:["NNNNNNNNNNNNNNNN",f],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",b([k,k,1]),f],scalex:["N",b([k,1,1]),b([k,1])],scaley:["N",b([1,k,1]),b([1,k])],scalez:["N",b([1,
1,k])],scale3d:["NNN",f],skew:["Aa",null,f],skewx:["A",null,b([k,y])],skewy:["A",null,b([y,k])],translate:["Tt",b([k,k,p]),f],translatex:["T",b([k,p,p]),b([k,p])],translatey:["T",b([p,k,p]),b([p,k])],translatez:["L",b([p,p,k])],translate3d:["TTL",f]};a.addPropertiesHandler(g,function(b,c){var f=a.makeMatrixDecomposition&&!0,g=!1;if(!b.length||!c.length){b.length||(g=!0,b=c,c=[]);for(var d=0;d<b.length;d++){var l=b[d].t,n=b[d].d,k="scale"==l.substr(0,5)?1:0;c.push({t:l,d:n.map(function(a){if("number"==
typeof a)return k;var b={},c;for(c in a)b[c]=k;return b})})}}n=[];var t=[],u=[];if(b.length!=c.length){if(!f)return;var p=h(b,c);n=[p[0]];t=[p[1]];u=[["matrix",[p[2]]]]}else for(d=0;d<b.length;d++){l=b[d].t;var F=c[d].t,A=b[d].d,w=c[d].d;p=v[l];var y=v[F];if("perspective"==l&&"perspective"==F||!("matrix"!=l&&"matrix3d"!=l||"matrix"!=F&&"matrix3d"!=F)){if(!f)return;p=h([b[d]],[c[d]]);n.push(p[0]);t.push(p[1]);u.push(["matrix",[p[2]]])}else{if(l!=F)if(p[2]&&y[2]&&l.replace(/[xy]/,"")==F.replace(/[xy]/,
""))l=l.replace(/[xy]/,""),A=p[2](A),w=y[2](w);else{if(!p[1]||!y[1]||e(l)!=e(F)){if(!f)return;p=h(b,c);n=[p[0]];t=[p[1]];u=[["matrix",[p[2]]]];break}l=e(l);A=p[1](A);w=y[1](w)}y=[];F=[];for(var B=[],r=0;r<A.length;r++)p=("number"==typeof A[r]?a.mergeNumbers:a.mergeDimensions)(A[r],w[r]),y[r]=p[0],F[r]=p[1],B.push(p[2]);n.push(y);t.push(F);u.push([l,B])}}g&&(b=n,n=t,t=b);return[n,t,function(a){return a.map(function(a,b){a=a.map(function(a,c){return u[b][1][c](a)}).join(",");return"matrix"==u[b][0]&&
16==a.split(",").length&&(u[b][0]="matrix3d"),u[b][0]+"("+a+")"}).join(" ")}]},["transform"]);a.transformToSvgMatrix=function(b){b=a.transformListToMatrix(g(b));return"matrix("+d(b[0])+" "+d(b[1])+" "+d(b[4])+" "+d(b[5])+" "+d(b[12])+" "+d(b[13])+")"}})(d);(function(a){function b(b){return b=100*Math.round(b/100),b=a.clamp(100,900,b),400===b?"normal":700===b?"bold":String(b)}a.addPropertiesHandler(function(a){a=Number(a);if(!(isNaN(a)||100>a||900<a||0!=a%100))return a},function(a,c){return[a,c,b]},
["font-weight"])})(d);(function(a){function b(b){return a.consumeToken(/^(left|center|right|top|bottom)\b/i,b)||a.consumeLengthOrPercent(b)}function c(c,f){if((f=a.consumeRepeated(b,/^/,f))&&""==f[1]&&(f=f[0],f[0]=f[0]||"center",f[1]=f[1]||"center",3==c&&(f[2]=f[2]||{px:0}),f.length==c)){if(/top|bottom/.test(f[0])||/left|right/.test(f[1]))c=f[0],f[0]=f[1],f[1]=c;if(/left|right|center|Object/.test(f[0])&&/top|bottom|center|Object/.test(f[1]))return f.map(function(a){return"object"==typeof a?a:d[a]})}}
function f(c){if(c=a.consumeRepeated(b,/^/,c)){for(var f=c[0],g=[{"%":50},{"%":50}],h=0,e=!1,l=0;l<f.length;l++){var n=f[l];if("string"==typeof n)e=/bottom|right/.test(n),h={left:0,right:0,center:h,top:1,bottom:1}[n],g[h]=d[n],"center"==n&&h++;else{if(e){e=void 0;var k={};for(e in n)k[e]=-n[e];n=k;n["%"]=(n["%"]||0)+100}g[h]=n;h++;e=!1}}return[g,c[1]]}}var d={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},h=a.mergeNestedRepeated.bind(null,a.mergeDimensions," ");a.addPropertiesHandler(c.bind(null,
3),h,["transform-origin"]);a.addPropertiesHandler(c.bind(null,2),h,["perspective-origin"]);a.consumePosition=f;a.mergeOffsetList=h;h=a.mergeNestedRepeated.bind(null,h,", ");a.addPropertiesHandler(function(b){if((b=a.consumeRepeated(f,/^,/,b))&&""==b[1])return b[0]},h,["background-position","object-position"])})(d);(function(a){var b=a.consumeParenthesised.bind(null,a.parseLengthOrPercent),c=a.consumeRepeated.bind(void 0,b,/^/),f=a.mergeNestedRepeated.bind(void 0,a.mergeDimensions," "),d=a.mergeNestedRepeated.bind(void 0,
f,",");a.addPropertiesHandler(function(f){var d=a.consumeToken(/^circle/,f);return d&&d[0]?["circle"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),b,a.ignore(a.consumeToken.bind(void 0,/^at/)),a.consumePosition,a.ignore(a.consumeToken.bind(void 0,/^\)/))],d[1])):(d=a.consumeToken(/^ellipse/,f))&&d[0]?["ellipse"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),c,a.ignore(a.consumeToken.bind(void 0,/^at/)),a.consumePosition,a.ignore(a.consumeToken.bind(void 0,
/^\)/))],d[1])):(f=a.consumeToken(/^polygon/,f))&&f[0]?["polygon"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),a.optional(a.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),a.consumeSizePairList,a.ignore(a.consumeToken.bind(void 0,/^\)/))],f[1])):void 0},function(b,c){if(b[0]===c[0])return"circle"==b[0]?a.mergeList(b.slice(1),c.slice(1),["circle(",a.mergeDimensions," at ",a.mergeOffsetList,")"]):"ellipse"==b[0]?a.mergeList(b.slice(1),c.slice(1),["ellipse(",a.mergeNonNegativeSizePair,
" at ",a.mergeOffsetList,")"]):"polygon"==b[0]&&b[1]==c[1]?a.mergeList(b.slice(2),c.slice(2),["polygon(",b[1],d,")"]):void 0},["shape-outside"])})(d);(function(a,c){function b(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(f[a]=b);d[b]=a})}var f={},d={};b("transform",["webkitTransform","msTransform"]);b("transformOrigin",["webkitTransformOrigin"]);b("perspective",["webkitPerspective"]);b("perspectiveOrigin",["webkitPerspectiveOrigin"]);a.propertyName=function(a){return f[a]||
a};a.unprefixedPropertyName=function(a){return d[a]||a}})(d)})();(function(){if(void 0===document.createElement("div").animate([]).oncancel){var a=window.performance&&performance.now?function(){return performance.now()}:function(){return Date.now()};var d=function(a,b,c){this.target=a;this.currentTime=b;this.timelineTime=c;this.type="cancel";this.cancelable=this.bubbles=!1;this.currentTarget=a;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()},b=window.Element.prototype.animate;
window.Element.prototype.animate=function(c,h){c=b.call(this,c,h);c._cancelHandlers=[];c.oncancel=null;var f=c.cancel;c.cancel=function(){f.call(this);var b=new d(this,null,a()),c=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0)};var g=c.addEventListener;c.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):g.call(this,a,b)};var e=c.removeEventListener;return c.removeEventListener=
function(a,b){"cancel"==a?(a=this._cancelHandlers.indexOf(b),0<=a&&this._cancelHandlers.splice(a,1)):e.call(this,a,b)},c}}})();(function(a){var c=document.documentElement,b=null,d=!1;try{var e="0"==getComputedStyle(c).getPropertyValue("opacity")?"1":"0";b=c.animate({opacity:[e,e]},{duration:1});b.currentTime=0;d=getComputedStyle(c).getPropertyValue("opacity")==e}catch(l){}finally{b&&b.cancel()}if(!d){var f=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){$jscomp.initSymbol();
$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),f.call(this,b,c)}}})(a);k.true=e}({},function(){return this}());p("vendor/web-animations-min",function(){});p("app/polyfills",["vendor/web-animations-min"],function(e){return!0});p("lib/util/contextTrigger",["jquery"],function(){function e(a,d){this.selector=a;this.callback=
d;this.processed=!1}function k(a,d){if(a.contextTriggerProcessed)for(a=a.firstChild;a;)1===a.nodeType&&k(a,d),a=a.nextSibling;else d.push(a)}function a(a){var c,b=a.length;for(c=0;c<b;c++)a[c].contextTriggerProcessed=!0}var d={events:[],add:function(a,h){d.events.push(new e(a,h));d.invalidate()},remove:function(a,h){for(var b,c=d.events.length-1;0<=c;c--)if(b=d.events[c],b.selector===a&&b.callback===h)return d.events.splice(c,1),!0;return!1},run:function(a){},invalidate:function(){var a=this;d.events.length&&
!this.validationTimeout&&(this.validationTimeout=setTimeout(function(){a.validationTimeout=null;var c,b=document.body.querySelectorAll("*"),g=b.length,e=!document.body.contextTriggerProcessed;for(c=0;!e&&c<g;c++)b[c].contextTriggerProcessed||(e=!0);e&&(c=[],k(document.body,c),d.validate(c))},50))},validate:function(c){function e(){this.contextTriggerProcessed||n.callback.call(this,this)}c=$(c||"body");var b=$(document.body);if(!c.length)return!1;for(var g=0;g<d.events.length;g++){var n=d.events[g];
var f=n.processed?c:b;n.processed=!0;f=f.find(n.selector);f=f.add(c.filter(n.selector));f.length&&f.each(e)}a(c.add(c.find("*")))}};window.MutationObserver?function(){var a=window.document.body;(new MutationObserver(function(a){var b,c=a.length;for(b=0;b<c;b++)if(a[b].addedNodes.length){d.invalidate();break}})).observe(a,{subtree:!0,childList:!0})}():setInterval(function(){d.invalidate()},1E3);return d});p("lib/util/ModuleManager",["lib/util/contextTrigger"],function(e){function k(f,e){b||(a(),b=
!0,setTimeout(function(){b=!1},0));g=d();f=new f;var l=f.init(e);var n={id:e.id,jsHook:e.className.split(" ").filter(function(a){return"js-"===a.substr(0,3)})[0],ns:l.ns};if(l&&l.storeInstance){var k=$(e);k.data("moduleInstance",l);l.___el=e;h.push(l);$(e).attr("data-has-module","yes");k=document.createEvent("CustomEvent");k.initCustomEvent("requirejs:module_loaded",!1,!1,n);window.dispatchEvent(k)}c(l?l.ns:f?f.ns:"unknown module",e)}function a(){for(var a,b,c=h.length-1;0<=c;c--)if(b=h[c],a=b.___el,
!jQuery.contains(document.documentElement,a)){try{b.___el=null,b.destroy()}catch(F){}h.splice(c,1)}}function d(){return window.performance&&performance.now?performance.now():new Date}function c(a,b){n+=d()-g;f.push({Module:a,Element:b,"Time (ms)":Math.round(10*(d()-g))/10})}var h=[],b=!1;window.MutationObserver?function(){function b(){clearTimeout(f);a()}var c=window.document.body;(new MutationObserver(function(a){var c,d=a.length;for(c=0;c<d;c++)if(a[c].removedNodes.length){clearTimeout(f);f=setTimeout(b,
50);break}})).observe(c,{subtree:!0,childList:!0});var f}():setInterval(a,2500);var g,n=0,f=[];setTimeout(function(){void 0;console.table&&0<f.length&&void 0;f=[]},5E3);return{connect:function(a,b){k(a,b)},add:function(a,b){"string"===typeof Module?e.add(b,function(){var b=this;r([a],function(a){k(a,b)})}):e.add(b,function(){k(a,this)})},checkGarbage:a}});p("app/modules/global/Claustrophobia",["jquery","app/modules/BaseModule","lib/browser/Accessibility"],function(e,k,a){var d={selector:".js-claustrophobia",
dataTarget:"claustrophobia-target",elements:{selector:".js-claustrophobia--element"},claustrophobiaClassName:"has-claustrophobia"};a=function(){this.ns=k.ns("claustrophobia")};a.prototype=new k;var c=a.prototype,h=c.init,b=c.destroy;c.init=function(a){h.call(this,a);this.config=e.extend(!0,{},d);var b=this;this.$target=this.timeout=null;null!==this.$el.data(this.config.dataTarget)&&(this.$target=e(this.$el.data(this.config.dataTarget)));this.on(window,"resize",function(){b.onResize()});this.onResize();
return this};c.destroy=function(){b.call(this)};c.onResize=function(){var a=this;this.timeout&&clearTimeout(this.timeout);this.timeout=setTimeout(function(){a.update()},50)};c.update=function(){this.setClaustrophobia(!1);var a=this.hasClaustrophobia();this.setClaustrophobia(a)};c.hasClaustrophobia=function(){var a=0,b=this.$el.innerWidth(),c=this.$el.find(this.config.elements.selector),d=e(c[0]),h=d.parent(),k=!1;h.innerWidth()<b&&(b=d.parent().innerWidth());"table-cell"===d.css("display")&&"table"===
h.css("display")&&"fixed"===h.css("table-layout")&&(k=!0,c.css({width:"auto"}),h.css("table-layout","initial"));e.each(c,function(){var b=e(this);b.css({position:"absolute",opacity:"0"});a=k?b.outerWidth()*c.length>a?b.outerWidth()*c.length:a:a+b.outerWidth(!0);b.css({position:"",opacity:""})});k&&(c.css({width:""}),h.css("table-layout",""));return a>b};c.setClaustrophobia=function(a){"undefined"===typeof a||a?(this.$el.addClass(this.config.claustrophobiaClassName),this.$target.length&&this.$target.addClass(this.config.claustrophobiaClassName)):
(this.$el.removeClass(this.config.claustrophobiaClassName),this.$target.length&&this.$target.removeClass(this.config.claustrophobiaClassName))};return a});p("app/modules/global/ScrollTo",["jquery","app/modules/BaseModule","lib/browser/Accessibility"],function(e,k,a){var d={appName:"ScrollTo",selector:".js-scrollto",dataTarget:"scrollto-target",speed:4E3,minDuration:300,offset:100},c=function(){this.ns=k.ns(d.appName)};c.prototype=new k;var h=c.prototype,b=h.init,g=h.destroy;h.init=function(a){b.call(this,
a);this.config=e.extend(!0,{},d);a=this.$el.data(this.config.dataTarget)||this.$el.attr("href");if("undefined"!==typeof a&&("#"===a.substring(0,1)||"."===a.substring(0,1))&&(this.$target=e("#"===a?"body":a),0!==this.$target.length))return this.on("click",this.bind(this.scrollTo)),this};h.destroy=function(){g.call(this)};h.scrollTo=function(b){var c=this.$target.offset().top-this.config.offset,d=this.getScrollDuration(c);e("html, body").animate({scrollTop:c},d,function(){a.focusFirst(this.$target.get(0))}.bind(this));
b.preventDefault()};h.getScrollDuration=function(a){return Math.max(Math.abs(a-document.documentElement.scrollTop)/this.config.speed*1E3,this.config.minDuration)};return c});p("app/modules/global/Headermenu",["jquery","app/modules/BaseModule","lib/browser/KeyCode","lib/browser/Accessibility"],function(e,k,a,d){var c=e("body"),h=e("html"),b={appName:"HeaderMenu",selector:".js-headermenu",container:{selector:".js-headermenu--menucontainer",visibleClassName:"is-visible",menu:{selector:".js-headermenu--menu",
visibleClassName:"is-visible",dataTargetName:"headermenu"}},trigger:{selector:".js-headermenu--trigger",activeClassName:"is-active",dataTargetName:"headermenu"},html:{activeClassName:"headermenu-is-active",fullscreenClassName:"headermenu-is-fullscreen",noOverflowClassname:"no-overflow"}};var g=function(){this.$el=null;this.ns=k.ns(b.appName);this.nstemp=this.ns+"_temp";this.isOpen=null};g.prototype=new k;var n=g.prototype,f=n.init,l=n.destroy;n.init=function(a){f.call(this,a);this.config=e.extend(!0,
{},b);this.isOpen=!1;this.$activeMenu=this.$activeTrigger=this.scrollPos=null;this.$triggers=this.$el.find(this.config.trigger.selector);this.$menuContainer=this.$el.find(this.config.container.selector);this.$menus=this.$menuContainer.find(this.config.container.menu.selector);this.initEvents();return this};n.destroy=function(){l.call(this)};n.initEvents=function(){this.on("click",this.config.trigger.selector,this.onOpenRequest);this.on("mouseenter",this.config.trigger.selector+".js-link-indicator-item",
this.openSoon);this.on(window,"resize",function(){this.updatePos()})};n.updatePos=function(){if(null!==this.$activeMenu&&1===this.$activeMenu.length&&this.$activeMenu.hasClass("align-right")){var a=this.$activeTrigger.offset().left,b=this.$activeTrigger.outerWidth();a+=b;a=c.width()-a;this.$activeMenu.css("right",a)}};n.onOpenRequest=function(a){this.cancelOpen();var b=e(a.currentTarget),c=e("#"+b.data("headermenu-blocker"));if(0<c.length)b=e(c.find("a, :input")).first(),0<b.length?d.focus(b):d.focusFirst(c);
else if("undefined"!==typeof b.data(this.config.trigger.dataTargetName))if(this.$activeTrigger)if(this.$activeTrigger.get(0)!==b.get(0))this.isOpen&&this.changeMenu(b);else{if(!b.attr("href")||b.hasClass("header_search--handle"))this.closeMenu(),a.preventDefault();return}else this.openMenu(b);else b=this.$activeTrigger,this.closeMenu(),b.focus();a.preventDefault()};n.getItem=function(a,b,c){var f=null;e.each(a,function(){var a=e(this);null===f&&a.data(c)===b&&(f=a)});return f};n.activateBodyEventListeners=
function(a){var b=this;if(a){var c=document.getElementById("body");this.openByHover&&this.on(document,"mouseover"+this.nstemp,function(a){0===e(a.target).closest(b.config.trigger.selector+", "+b.config.container.selector).length?this.closeTimeout||(this.closeTimeout=setTimeout(function(){b.closeMenu()},a.target===c?1E3:250)):this.cancelClose()});this.on(document,"touchstart"+this.nstemp,function(a){a.target===c&&(a.preventDefault(),b.closeMenu())});e(document).on("click"+this.nstemp,function(a){0===
e(a.target).closest(b.config.trigger.selector+", "+b.config.container.selector).length&&b.closeMenu()});e(document).on("keydown"+this.nstemp,this.bind(this.keydownHandler))}else e(document).off("click"+b.ns),e(document).off(this.nstemp)};n.getTarget=function(a){a=a.data(this.config.trigger.dataTargetName);return this.getItem(this.$menus,a,this.config.container.menu.dataTargetName)||this.$menus.filter("."+this.config.container.menu.visibleClassName)};n.openMenu=function(a){var b=this.getTarget(a);
if(null!==b&&1==b.length){if("true"===b.data("headermenu-fullscreen")||!0===b.data("headermenu-fullscreen"))h.addClass(this.config.html.fullscreenClassName),this.scrollPos=e(document).scrollTop(),h.addClass(this.config.html.noOverflowClassname);h.addClass(this.config.html.activeClassName);this.$activeTrigger=a;this.$activeMenu=b;this.$activeTrigger.addClass(this.config.trigger.activeClassName).trigger("activate").attr("aria-expanded","true");this.$activeMenu.addClass(this.config.container.menu.visibleClassName);
this.$menuContainer.addClass(this.config.container.visibleClassName);this.updatePos();this.releaseFocus=d.keepFocus(this.$activeMenu,!0);d.focusFirst(this.$activeMenu,d.FOCUSABLE);this.activateBodyEventListeners(!0);this.isOpen=!0}};n.openSoon=function(a){var b=this;this.cancelOpen();if(this.isOpen)this.onOpenRequest(a);else this.openTimeout=setTimeout(function(){b.openByHover=!0;b.onOpenRequest(a)},250),this.$el.on("mouseleave"+this.nstemp,function(a){b.cancelOpen()})};n.cancelOpen=function(){clearTimeout(this.openTimeout);
this.openTimeout=null;this.$el.off("mouseleave"+this.nstemp)};n.cancelClose=function(){clearTimeout(this.closeTimeout);this.closeTimeout=null};n.closeMenu=function(){this.cancelOpen();this.cancelClose();this.openByHover=!1;null!==this.$activeMenu&&1==this.$activeMenu.length&&("true"!==this.$activeMenu.data("headermenu-fullscreen")&&!0!==this.$activeMenu.data("headermenu-fullscreen")||null===this.scrollPos||(e("html, body").scrollTop(this.scrollPos),this.scrollPos=null),h.removeClass(this.config.html.noOverflowClassname).removeClass(this.config.html.activeClassName).removeClass(this.config.html.fullscreenClassName),
this.$activeTrigger.removeClass(this.config.trigger.activeClassName).trigger("deactivate").attr("aria-expanded","false"),this.$activeMenu.removeClass(this.config.container.menu.visibleClassName),this.$menuContainer.removeClass(this.config.container.visibleClassName),this.$activeMenu=this.$activeTrigger=null,this.updatePos(),this.isOpen=!1,this.activateBodyEventListeners(!1),this.releaseFocus&&this.releaseFocus())};n.changeMenu=function(a){var b=this.getTarget(a);this.isOpen?"true"===b.data("headermenu-fullscreen")||
!0===b.data("headermenu-fullscreen")?(this.closeMenu(),this.openMenu(a)):null!==b&&1==b.length&&("true"===b.data("headermenu-fullscreen")||!0===b.data("headermenu-fullscreen")?h.addClass(this.config.html.noOverflowClassname):h.removeClass(this.config.html.noOverflowClassname),this.$activeTrigger.removeClass(this.config.trigger.activeClassName).attr("aria-expanded","false").trigger("deactivate"),this.$activeMenu.removeClass(this.config.container.menu.visibleClassName).attr("aria-hidden","true"),this.$activeTrigger=
a,this.$activeMenu=b,this.$activeTrigger.addClass(this.config.trigger.activeClassName).trigger("activate").attr("aria-expanded","true").focus(),this.$activeMenu.addClass(this.config.container.menu.visibleClassName).attr("aria-hidden","false"),d.focusFirst(this.$activeMenu,d.FOCUSABLE),this.updatePos()):this.openMenu(a)};n.keydownHandler=function(b){if(b.keyCode==a.ESC){var c=this.$activeTrigger;this.closeMenu();c.focus();b.preventDefault()}};return g});p("app/modules/global/Skiplinks",["jquery","app/modules/BaseModule",
"lib/browser/Accessibility"],function(e,k,a){function d(){this.ns=k.ns("Skiplinks");this.activeModule=null}function c(){var a={os:"other",name:"other"},b=window.navigator,c=b.platform.toLowerCase();0<=c.indexOf("mac")?a.os="mac":0<=c.indexOf("win")&&(a.os="win");c=b.vendor.toLowerCase();b.vendor.toLowerCase();0<=c.indexOf("google")?a.name="chrome":0<=c.indexOf("apple")?a.name="safari":0<=b.userAgent.indexOf("Firefox")?a.name="firefox":0<=b.userAgent.indexOf("Trident")&&(a.name="ie");return a}d.prototype=
new k;d.prototype.init=function(d){this.element=d;this.$el=e(d);var b="ALT + SHIFT + #";try{var g=c();if("mac"==g.os)b="CTRL + ALT + #";else if("ie"==g.name||"safari"==g.name)b="ALT + #"}catch(n){}this.$el.find("a[accesskey]").each(function(){var a=e(this),c=a.attr("accesskey");c="["+b.replace("#",c)+"]";a.attr("title",c)});this.on("click","a[href^\x3d'#']",function(b){b=e("#"+e(b.target).attr("href").slice(1));a.focus(b)});return this};return d});!function(e,k){"object"==typeof exports&&"undefined"!=
typeof module?module.exports=k():"function"==typeof p&&p.amd?p("vendor/muuri.min",[],k):e.Muuri=k(e.Hammer)}(this,function(e){function k(){this._events={};this._queue=[];this._counter=0;this._isDestroyed=!1}function a(a,b){var c=aa&&aa.get(a);return c||(c=window.getComputedStyle(a,null),aa&&aa.set(a,c)),c.getPropertyValue("transform"===b?qa:b)}function d(a,b){for(var c in b)a.style["transform"===c?L:c]=b[c]}function c(a){this._element=a;this._callback=this._animation=null;this._props=[];this._values=
[];this._keyframes=[];this._options={};this._isDestroyed=!1;this._onFinish=this._onFinish.bind(this)}function h(){this._nextTick=null;this._queue=[];this._reads={};this._writes={};this._batch=[];this._batchReads={};this._batchWrites={};this._flush=this._flush.bind(this)}function b(a,b,c){a=a.length;c=Math.max(0,c?a:a-1);return c<b?c:0>b?Math.max(c+b+1,0):b}function g(a,c,f){2>a.length||(c=b(a,c),f=b(a,f),c!==f&&a.splice(f,0,a.splice(c,1)[0]))}function n(a,c,f){if(!(2>a.length)){var d;c=b(a,c);f=b(a,
f);c!==f&&(d=a[c],a[c]=a[f],a[f]=d)}}function f(a,b){var c;return 0<b?function(f){void 0!==c&&(c=window.clearTimeout(c),"finish"===f&&a());"cancel"!==f&&"finish"!==f&&(c=window.setTimeout(function(){c=void 0;a()},b))}:function(b){"cancel"!==b&&a()}}function l(b){var c=a(b,"transform");if(!c||"none"===c)return!1;b=a(b,"display");return"inline"!==b&&"none"!==b}function t(b,c){for(b=(c?b:b.parentElement)||document;b&&b!==document&&"static"===a(b,"position")&&!l(b);)b=b.parentElement||document;return b}
function u(b,c){return parseFloat(a(b,c))||0}function p(a,b){var c;b=b||{};return b.left=0,b.top=0,a===document||(b.left=window.pageXOffset||0,b.top=window.pageYOffset||0,a.self===window.self||(c=a.getBoundingClientRect(),b.left+=c.left,b.top+=c.top,b.left+=u(a,"border-left-width"),b.top+=u(a,"border-top-width"))),b}function A(a,b,c){return ra.left=0,ra.top=0,a===b||c&&(a=t(a,!0))===(b=t(b,!0))||(p(a,sa),p(b,K),ra.left=K.left-sa.left,ra.top=K.top-sa.top),ra}function B(b){U.x=0;U.y=0;b=a(b,"transform");
if(!b)return U;b=b.replace("matrix(","").split(",");return U.x=parseFloat(b[4])||0,U.y=parseFloat(b[5])||0,U}function y(a,b){return"translateX("+a+"px) translateY("+b+"px)"}function v(a,b,c){c="number"==typeof c?c:-1;0>c&&(c=a.length-c+1);a.splice.apply(a,fa.concat(c,0,b));fa.length=0}function w(a){return"object"==typeof a&&"[object Object]"===Ga.call(a)}function r(a){if(!e)throw Error("[Muuri] required dependency Hammer is not defined.");null===Aa&&(Aa=ca());var b,c=this,d=a._element,g=a.getGrid(),
h=g._settings,M="function"==typeof h.dragStartPredicate?h.dragStartPredicate:r.defaultStartPredicate,l=0;this._item=a;this._gridId=g._id;this._hammer=a=new e.Manager(d);this._isMigrating=this._isDestroyed=!1;this._reset();this._onScroll=this._onScroll.bind(this);this._prepareMove=this._prepareMove.bind(this);this._applyMove=this._applyMove.bind(this);this._prepareScroll=this._prepareScroll.bind(this);this._applyScroll=this._applyScroll.bind(this);this._checkOverlap=this._checkOverlap.bind(this);this._forceResolveStartPredicate=
function(a){this._isDestroyed||1!==l||(l=2,this._onStart(a))};this._checkOverlapDebounce=f(this._checkOverlap,h.dragSortInterval);a.add(new e.Pan({event:"drag",pointers:1,threshold:0,direction:e.DIRECTION_ALL}));a.add(new e.Press({event:"draginit",pointers:1,threshold:1E3,time:0}));w(h.dragHammerSettings)&&a.set(h.dragHammerSettings);a.on("draginit dragstart dragmove",function(a){0===l&&(l=1);1===l?!0===(b=M(c._item,a))?(l=2,c._onStart(a)):!1===b&&(l=3):2===l&&c._isActive&&c._onMove(a)}).on("dragend dragcancel draginitup",
function(a){var b=2===l;M(c._item,a);l=0;b&&c._isActive&&c._onEnd(a)});d.addEventListener("dragstart",ba,!1)}function ba(a){a.preventDefault&&a.preventDefault()}function C(a,b){return a.left+a.width<=b.left||b.left+b.width<=a.left||a.top+a.height<=b.top||b.top+b.height<=a.top?0:(Math.min(a.left+a.width,b.left+b.width)-Math.max(a.left,b.left))*(Math.min(a.top+a.height,b.top+b.height)-Math.max(a.top,b.top))/(Math.min(a.width,b.width)*Math.min(a.height,b.height))*100}function Y(b,c){c=c||[];var f=b.parentNode;
if(Aa){if("fixed"===a(b,"position"))return c;for(;f&&f!==document&&f!==document.documentElement;)x(f)&&c.push(f),f="fixed"===a(f,"position")?null:f.parentNode;return null!==f&&c.push(window),c}for(;f&&f!==document;)("fixed"!==a(b,"position")||l(f))&&(x(f)&&c.push(f),b=f),f=f.parentNode;return c[c.length-1]===document.documentElement?c[c.length-1]=window:c.push(window),c}function x(b){var c=a(b,"overflow");return"auto"===c||"scroll"===c||"auto"===(c=a(b,"overflow-x"))||"scroll"===c||"auto"===(c=a(b,
"overflow-y"))||"scroll"===c}function ca(){if(!ea)return!0;if(!document.body)return null;var a=[0,1].map(function(a,b){return(a=document.createElement("div")).style.position=b?"fixed":"absolute",a.style.display="block",a.style.visibility="hidden",a.style.left=b?"0px":"1px",a.style[L]="none",a}),b=document.body.appendChild(a[0]);a=b.appendChild(a[1]);var c=a.getBoundingClientRect().left;b.style[L]="scale(1)";a=c===a.getBoundingClientRect().left;return document.body.removeChild(b),a}function T(){this._queue=
[];this._isDestroyed=!1}function E(a){this._item=a;this._isInterrupted=this._isDestroyed=this._isActive=!1;this._currentStyles={};this._targetStyles={};this._offsetTop=this._offsetLeft=this._currentTop=this._currentLeft=0;this._skipNextAnimation=!1;this._animateOptions={onFinish:this._finish.bind(this)};this._queue=new T;this._setupAnimation=this._setupAnimation.bind(this);this._startAnimation=this._startAnimation.bind(this)}function V(a){this._item=a;this._container=this._isDestroyed=this._isActive=
!1;this._containerDiffY=this._containerDiffX=0}function da(a){this._item=a;this._isPositioningStarted=this._isDestroyed=this._isActive=!1;this._containerDiffY=this._containerDiffX=0}function Q(a){var b=a._isActive,c=a._element,f=a.getGrid()._settings;this._item=a;this._isDestroyed=!1;this._isHidden=!b;this._isShowing=this._isHiding=!1;this._queue=new T;this._finishShow=this._finishShow.bind(this);this._finishHide=this._finishHide.bind(this);c.style.display=b?"block":"none";P(c,b?f.itemVisibleClass:
f.itemHiddenClass);d(a._child,b?f.visibleStyles:f.hiddenStyles)}function I(b,f,d){var g=b._settings;this._id=++m;this._gridId=b._id;this._isDestroyed=!1;this._top=this._left=0;this._element=f;this._child=f.children[0];f.parentNode!==b._element&&b._element.appendChild(f);P(f,g.itemClass);"boolean"!=typeof d&&(d="none"!==a(f,"display"));this._isActive=d;f.style.left="0";f.style.top="0";f.style[L]=y(0,0);this._animate=new c(f);this._animateChild=new c(this._child);this._visibility=new Q(this);this._layout=
new E(this);this._migrate=new V(this);this._release=new da(this);this._drag=g.dragEnabled?new r(this):null;this._refreshDimensions();this._refreshSortData()}function R(){this._slots=[];this._slotSizes=[];this._freeSlots=[];this._newSlots=[];this._rectItem={};this._rectStore=[];this._rectId=0;this._layout={slots:null,setWidth:!1,setHeight:!1,width:!1,height:!1};this._sortRectsLeftTop=this._sortRectsLeftTop.bind(this);this._sortRectsTopLeft=this._sortRectsTopLeft.bind(this)}function H(a){a=Object.prototype.toString.call(a);
return"[object HTMLCollection]"===a||"[object NodeList]"===a}function ka(a){return H(a)?Array.prototype.slice.call(a):Array.prototype.concat(a)}function D(a,b){var c,d,g,e,h,l=this;if(a=this._element="string"==typeof a?document.querySelector(a):a,!document.body.contains(a))throw Error("Container element must be an existing DOM element");"function"!=typeof(c=this._settings=(e=D.defaultOptions,h=ma({},e),b&&(h=ma(h,b)),h.visibleStyles=(b||0).visibleStyles||(e||0).visibleStyles,h.hiddenStyles=(b||0).hiddenStyles||
(e||0).hiddenStyles,h)).dragSort&&(c.dragSort=!!c.dragSort);this._id=++m;Z[this._id]=l;this._isDestroyed=!1;this._layout={id:0,items:[],slots:[],setWidth:!1,setHeight:!1,width:0,height:0};this._emitter=new k;P(a,c.containerClass);this._items=[];"string"==typeof(d=c.items)?ka(a.children).forEach(function(a){("*"===d||va.call(a,d))&&l._items.push(new I(l,a))}):(Array.isArray(d)||H(d))&&(this._items=ka(d).map(function(a){return new I(l,a)}));"number"!=typeof(g=c.layoutOnResize)&&(g=!0===g?0:-1);0<=g&&
window.addEventListener("resize",l._resizeHandler=f(function(){l.refreshItems().layout()},g));c.layoutOnInit&&this.layout(!0)}function ma(a,b){var c,f,d=Object.keys(b),g=d.length;for(f=0;f<g;f++){var e=w(b[c=d[f]]);w(a[c])&&e?a[c]=ma(ma({},a[c]),b[c]):e?a[c]=ma({},b[c]):Array.isArray(b[c])?a[c]=b[c].slice(0):a[c]=b[c]}return a}var Z={};k.prototype.on=function(a,b){if(this._isDestroyed)return this;var c=this._events[a];return c||(c=this._events[a]=[]),c.push(b),this};k.prototype.once=function(a,b){if(this._isDestroyed)return this;
var c=function(){this.off(a,c);b.apply(null,arguments)}.bind(this);return this.on(a,c)};k.prototype.off=function(a,b){if(this._isDestroyed)return this;a=this._events[a];if(!a||!a.length)return this;if(!b)return a.length=0,this;for(var c=a.length;c--;)b===a[c]&&a.splice(c,1);return this};k.prototype.emit=function(a,b,c,f){if(this._isDestroyed)return this;var d=this._events[a];if(!d||!d.length)return this;var g,e=this._queue,h=e.length,l=arguments.length-1;for(g=0;g<d.length;g++)e.push(d[g]);++this._counter;
g=h;for(h=e.length;g<h;g++)if(0===l?e[g]():1===l?e[g](b):2===l?e[g](b,c):e[g](b,c,f),this._isDestroyed)return this;return--this._counter,this._counter||(e.length=0),this};var ea=!(k.prototype.destroy=function(){if(this._isDestroyed)return this;var a,b=this._events;for(a in this._isDestroyed=!0,this._queue.length=this._counter=0,b)b[a]&&(b[a].length=0,b[a]=void 0);return this}),qa="transform",L="transform";["","Webkit","Moz","O","ms"].forEach(function(a){if(!ea){var b=a?a+"Transform":"transform";void 0!==
document.documentElement.style[b]&&(a=a.toLowerCase(),qa=a?"-"+a+"-transform":"transform",L=b,ea=!0)}});var aa="function"==typeof WeakMap?new WeakMap:null,ha=/([A-Z])/g;c.prototype.start=function(a,b,c){if(!this._isDestroyed){var f=this._animation,g=this._props,e=this._values;c=c||0;var h=!1;if(f){var l,q=0,M;for(M in b)if(++q,-1===(l=g.indexOf(M))||b[M]!==e[l]){h=!0;break}h||q===g.length||(h=!0)}if(h&&f.cancel(),this._callback="function"==typeof c.onFinish?c.onFinish:null,!f||h){for(M in g.length=
e.length=0,b)g.push(M),e.push(b[M]);f=this._keyframes;f[0]=a;f[1]=b;a=this._options;a.duration=c.duration||300;a.easing=c.easing||"ease";c=this._element;(f=c.animate(f,a)).onfinish=this._onFinish;this._animation=f;d(c,b)}}};c.prototype.stop=function(b){if(!this._isDestroyed&&this._animation){var c,f=this._element,g=this._props,e=this._values;if(b)d(f,b);else for(c=0;c<g.length;c++){var h=a(f,(b=g[c]).replace(ha,"-$1").toLowerCase());f.style["transform"===b?L:b]=h}this._animation.cancel();this._animation=
this._callback=null;g.length=e.length=0}};c.prototype.isAnimating=function(){return!!this._animation};c.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=this._options=this._keyframes=null,this._isDestroyed=!0)};c.prototype._onFinish=function(){var a=this._callback;this._animation=this._callback=null;this._props.length=this._values.length=0;a&&a()};var na=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||
function(a){return window.setTimeout(a,16)}).bind(window);h.prototype.add=function(a,b,c,f){var d=this._queue.indexOf(a);-1<d&&(this._queue[d]=void 0);f?this._queue.unshift(a):this._queue.push(a);this._reads[a]=b;this._writes[a]=c;this._nextTick||(this._nextTick=na(this._flush))};h.prototype.cancel=function(a){var b=this._queue.indexOf(a);-1<b&&(this._queue[b]=void 0,this._reads[a]=void 0,this._writes[a]=void 0)};h.prototype._flush=function(){var a,b,c=this._queue,f=this._reads,d=this._writes,g=this._batch,
e=this._batchReads,h=this._batchWrites,l=c.length;this._nextTick=null;for(b=0;b<l;b++)(a=c[b])&&(g.push(a),e[a]=f[a],f[a]=void 0,h[a]=d[a],d[a]=void 0);for(b=c.length=0;b<l;b++)e[a=g[b]]&&(e[a](),e[a]=void 0);for(b=0;b<l;b++)h[a=g[b]]&&(h[a](),h[a]=void 0);g.length=0;!this._nextTick&&c.length&&(this._nextTick=na(this._flush))};var S=new h,oa=Element.prototype,va=oa.matches||oa.matchesSelector||oa.webkitMatchesSelector||oa.mozMatchesSelector||oa.msMatchesSelector||oa.oMatchesSelector,P="classList"in
Element.prototype?function(a,b){a.classList.add(b)}:function(a,b){va.call(a,"."+b)||(a.className+=" "+b)},sa={},K={},ra={},U={},fa=[],Ga=Object.prototype.toString,la,G,ta,Ba,J="classList"in Element.prototype?function(a,b){a.classList.remove(b)}:function(a,b){va.call(a,"."+b)&&(a.className=(" "+a.className+" ").replace(" "+b+" "," ").trim())},Aa=ca();r.defaultStartPredicate=function(a,b,c){var f=a._drag,d=f._startPredicateData||f._setupStartPredicate(c);if(!b.isFinal)return!(!d.handleElement&&(d.handleElement=
f._getStartPredicateHandle(b),!d.handleElement))&&(d.delay&&(d.event=b,d.delayTimer||(d.delayTimer=window.setTimeout(function(){d.delay=0;f._resolveStartPredicate(d.event)&&(f._forceResolveStartPredicate(d.event),f._resetStartPredicate())},d.delay))),f._resolveStartPredicate(b));f._finishStartPredicate(b)};r.defaultSortPredicate=(la={},G={},ta={},Ba=[],function(a,b){var c=a._drag,f=c._getGrid(),d=b&&"number"==typeof b.threshold?b.threshold:50;b=b&&"swap"===b.action?"swap":"move";la.width=a._width;
la.height=a._height;la.left=c._elementClientX;la.top=c._elementClientY;var g;var e,h,l=null;var q=f._settings.dragSort;var k=-1;if(!0===q?(Ba[0]=f,e=Ba):e=q.call(f,a),Array.isArray(e)){for(q=0;q<e.length;q++)(h=e[q])._isDestroyed||(h._updateBoundingRect(),G.width=h._width,G.height=h._height,G.left=h._left,G.top=h._top,(g=C(la,G))>d&&k<g&&(k=g,l=h));g=(Ba.length=0,l)}else g=l;if(!g)return!1;var n,M,m,za;h=e=0;l=-1;g===f?(la.left=c._gridX+a._marginLeft,la.top=c._gridY+a._marginTop):(g._updateBorders(1,
0,1,0),e=g._left+g._borderLeft,h=g._top+g._borderTop);for(c=0;c<g._items.length;c++)(m=g._items[c])._isActive&&m!==a&&(M=!0,G.width=m._width,G.height=m._height,G.left=m._left+m._marginLeft+e,G.top=m._top+m._marginTop+h,(za=C(la,G))>l&&(n=c,l=za));return l<d&&a.getGrid()!==g&&(n=M?-1:0,l=1/0),d<=l&&(ta.grid=g,ta.index=n,ta.action=b,ta)});r.prototype.stop=function(){var a=this._item,b=a._element,c=this._getGrid();return this._isActive&&(this._isMigrating?this._finishMigration():(S.cancel(a._id+"move"),
S.cancel(a._id+"scroll"),this._unbindScrollListeners(),this._checkOverlapDebounce("cancel"),b.parentNode!==c._element&&(c._element.appendChild(b),b.style[L]=y(this._gridX,this._gridY)),J(b,c._settings.itemDraggingClass),this._reset())),this};r.prototype.destroy=function(){return this._isDestroyed||(this.stop(),this._hammer.destroy(),this._item._element.removeEventListener("dragstart",ba,!1),this._isDestroyed=!0),this};r.prototype._getGrid=function(){return Z[this._gridId]||null};r.prototype._reset=
function(){this._isActive=!1;this._lastScrollEvent=this._lastEvent=this._containingBlock=this._container=null;this._scrollers=[];this._containerDiffY=this._containerDiffX=this._elementClientY=this._elementClientX=this._gridY=this._gridX=this._top=this._left=0};r.prototype._bindScrollListeners=function(){var a=this._getGrid()._element;var b=this._container;var c=this._scrollers;if(c.length=0,Y(this._item._element,c),b!==a)for(Y(a,b=[]),b.push(a),a=0;a<b.length;a++)0>c.indexOf(b[a])&&c.push(b[a]);for(a=
0;a<c.length;a++)c[a].addEventListener("scroll",this._onScroll)};r.prototype._unbindScrollListeners=function(){var a,b=this._scrollers;for(a=0;a<b.length;a++)b[a].removeEventListener("scroll",this._onScroll);b.length=0};r.prototype._setupStartPredicate=function(a){a=a||this._getGrid()._settings.dragStartPredicate||0;return this._startPredicateData={distance:Math.abs(a.distance)||0,delay:Math.max(a.delay,0)||0,handle:"string"==typeof a.handle&&a.handle}};r.prototype._getStartPredicateHandle=function(a){var b=
this._startPredicateData,c=this._item._element,f=c;if(!b.handle)return f;for(f=(a.changedPointers[0]||0).target;f&&!va.call(f,b.handle);)f=f!==c?f.parentElement:null;return f||null};r.prototype._resolveStartPredicate=function(a){var b,c,f,d,g,e=this._startPredicateData,h=a.changedPointers[0],l=h&&h.pageX||0;h=h&&h.pageY||0;if(!(a.distance<e.distance||e.delay))return c=(b=e.handleElement.getBoundingClientRect()).left+(window.pageXOffset||0),f=b.top+(window.pageYOffset||0),d=b.width,g=b.height,this._resetStartPredicate(),
d&&g&&c<=l&&l<c+d&&f<=h&&h<f+g};r.prototype._finishStartPredicate=function(a){var b=this._item._element;this._resetStartPredicate();2>Math.abs(a.deltaX)&&2>Math.abs(a.deltaY)&&200>a.deltaTime&&"a"===b.tagName.toLowerCase()&&(a=b.getAttribute("href"))&&((b=b.getAttribute("target"))&&"_self"!==b?window.open(a,b):window.location.href=a)};r.prototype._resetStartPredicate=function(){var a=this._startPredicateData;a&&(a.delayTimer&&(a.delayTimer=window.clearTimeout(a.delayTimer)),this._startPredicateData=
null)};r.prototype._checkOverlap=function(){if(this._isActive){var a,c,f,d,e,h,l,q=this._item,k=this._getGrid()._settings;(a="function"==typeof k.dragSortPredicate?k.dragSortPredicate(q,this._lastEvent):r.defaultSortPredicate(q,k.dragSortPredicate))&&"number"==typeof a.index&&(l=(c=q.getGrid())!==(d=a.grid||c),f=c._items.indexOf(q),e=b(d._items,a.index,l),h="swap"===a.action?"swap":"move",l?(c._hasListeners("beforeSend")&&c._emit("beforeSend",{item:q,fromGrid:c,fromIndex:f,toGrid:d,toIndex:e}),d._hasListeners("beforeReceive")&&
d._emit("beforeReceive",{item:q,fromGrid:c,fromIndex:f,toGrid:d,toIndex:e}),q._gridId=d._id,this._isMigrating=q._gridId!==this._gridId,c._items.splice(f,1),v(d._items,q,e),q._sortData=null,c._hasListeners("send")&&c._emit("send",{item:q,fromGrid:c,fromIndex:f,toGrid:d,toIndex:e}),d._hasListeners("receive")&&d._emit("receive",{item:q,fromGrid:c,fromIndex:f,toGrid:d,toIndex:e}),c.layout(),d.layout()):f!==e&&(("swap"===h?n:g)(c._items,f,e),c._hasListeners("move")&&c._emit("move",{item:q,fromIndex:f,
toIndex:e,action:h}),c.layout()))}};r.prototype._finishMigration=function(){var a,b,c=this._item,f=c._release,g=c._element,e=c._isActive,h=c.getGrid(),l=h._element;h=h._settings;var q=h.dragContainer||l,k=this._getGrid()._settings,n=g.parentNode;this._isMigrating=!1;this.destroy();J(g,k.itemClass);J(g,k.itemVisibleClass);J(g,k.itemHiddenClass);P(g,h.itemClass);P(g,e?h.itemVisibleClass:h.itemHiddenClass);q!==n&&(q.appendChild(g),b=A(n,q,!0),(a=B(g)).x-=b.left,a.y-=b.top);c._refreshDimensions();c._refreshSortData();
b=A(q,l,!0);f._containerDiffX=b.left;f._containerDiffY=b.top;c._drag=h.dragEnabled?new r(c):null;q!==n&&(g.style[L]=y(a.x,a.y));c._child.removeAttribute("style");d(c._child,e?h.visibleStyles:h.hiddenStyles);f.start()};r.prototype._onStart=function(a){var b=this._item;if(b._isActive){var c,f=b._element,d=this._getGrid(),g=d._settings,e=b._release,h=b._migrate,l=d._element,q=g.dragContainer||l,k=t(q,!0),n=B(f),m=n.x;n=n.y;var M=f.getBoundingClientRect(),N=q!==l;N&&(c=A(k,l));b.isPositioning()&&b._layout.stop(!0,
{transform:y(m,n)});h._isActive&&(m-=h._containerDiffX,n-=h._containerDiffY,h.stop(!0,{transform:y(m,n)}));b.isReleasing()&&e._reset();this._isActive=!0;this._lastEvent=a;this._container=q;this._containingBlock=k;this._elementClientX=M.left;this._elementClientY=M.top;this._left=this._gridX=m;this._top=this._gridY=n;d._emit("dragInit",b,a);N&&(this._containerDiffX=c.left,this._containerDiffY=c.top,f.parentNode===q?(this._gridX=m-this._containerDiffX,this._gridY=n-this._containerDiffY):(this._left=
m+this._containerDiffX,this._top=n+this._containerDiffY,q.appendChild(f),f.style[L]=y(this._left,this._top)));P(f,g.itemDraggingClass);this._bindScrollListeners();d._emit("dragStart",b,a)}};r.prototype._onMove=function(a){var b=this._item;if(b._isActive){var c=this._getGrid()._settings.dragAxis,f=a.deltaX-this._lastEvent.deltaX,d=a.deltaY-this._lastEvent.deltaY;this._lastEvent=a;"y"!==c&&(this._left+=f,this._gridX+=f,this._elementClientX+=f);"x"!==c&&(this._top+=d,this._gridY+=d,this._elementClientY+=
d);S.add(b._id+"move",this._prepareMove,this._applyMove,!0)}else this.stop()};r.prototype._prepareMove=function(){this._item._isActive&&this._getGrid()._settings.dragSort&&this._checkOverlapDebounce()};r.prototype._applyMove=function(){var a=this._item;a._isActive&&(a._element.style[L]=y(this._left,this._top),this._getGrid()._emit("dragMove",a,this._lastEvent))};r.prototype._onScroll=function(a){var b,c,f,d=this._item;d._isActive?(this._lastScrollEvent=a,b=d._id,c=this._prepareScroll,f=this._applyScroll,
S.add(b+"scroll",c,f,!0)):this.stop()};r.prototype._prepareScroll=function(){var a=this._item;if(a._isActive){var b,c=a._element,f=this._getGrid();a=f._settings;var d=a.dragAxis;f=f._element;var g=c.getBoundingClientRect();c=this._elementClientX-g.left;g=this._elementClientY-g.top;this._container!==f&&(b=A(this._containingBlock,f),this._containerDiffX=b.left,this._containerDiffY=b.top);"y"!==d&&(this._left+=c,this._gridX=this._left-this._containerDiffX);"x"!==d&&(this._top+=g,this._gridY=this._top-
this._containerDiffY);a.dragSort&&this._checkOverlapDebounce()}};r.prototype._applyScroll=function(){var a=this._item;a._isActive&&(a._element.style[L]=y(this._left,this._top),this._getGrid()._emit("dragScroll",a,this._lastScrollEvent))};r.prototype._onEnd=function(a){var b=this._item,c=b._element,f=this._getGrid(),d=f._settings,g=b._release;b._isActive?(S.cancel(b._id+"move"),S.cancel(b._id+"scroll"),d.dragSort&&this._checkOverlapDebounce("finish"),this._unbindScrollListeners(),g._containerDiffX=
this._containerDiffX,g._containerDiffY=this._containerDiffY,this._reset(),J(c,d.itemDraggingClass),f._emit("dragEnd",b,a),this._isMigrating?this._finishMigration():g.start()):this.stop()};T.prototype.add=function(a){return this._isDestroyed||this._queue.push(a),this};T.prototype.flush=function(a,b){if(this._isDestroyed)return this;var c=this._queue;var f=c.length;if(!f)return this;var d=1===f,g=d?c[0]:c.slice(0);if(c.length=0,d)return g(a,b),this;for(c=0;c<f&&(g[c](a,b),!this._isDestroyed);c++);return this};
T.prototype.destroy=function(){return this._isDestroyed||(this._isDestroyed=!0,this._queue.length=0),this};E.prototype.start=function(a,b){if(!this._isDestroyed){var c,f,g,e,h=this._item,l=h._element,q=h._release,k=h.getGrid()._settings,n=this._isActive,m=q._isActive&&!1===q._isPositioningStarted,M=m?k.dragReleaseDuration:k.layoutDuration;k=m?k.dragReleaseEasing:k.layoutEasing;a=!a&&!this._skipNextAnimation&&0<M;return n&&this._queue.flush(!0,h),m&&(q._isPositioningStarted=!0),"function"==typeof b&&
this._queue.add(b),a?(this._isActive=!0,this._animateOptions.easing=k,this._animateOptions.duration=M,this._isInterrupted=n,f=h._id,g=this._setupAnimation,e=this._startAnimation,S.add(f+"layout",g,e),this):(this._updateOffsets(),this._updateTargetStyles(),n&&S.cancel(h._id+"layout"),c=h._animate.isAnimating(),this.stop(!1,this._targetStyles),!c&&d(l,this._targetStyles),this._skipNextAnimation=!1,this._finish())}};E.prototype.stop=function(a,b){if(this._isDestroyed||!this._isActive)return this;var c=
this._item;return S.cancel(c._id+"layout"),c._animate.stop(b),J(c._element,c.getGrid()._settings.itemPositioningClass),this._isActive=!1,a&&this._queue.flush(!0,c),this};E.prototype.destroy=function(){return this._isDestroyed||(this.stop(!0,{}),this._queue.destroy(),this._item=this._currentStyles=this._targetStyles=this._animateOptions=null,this._isDestroyed=!0),this};E.prototype._updateOffsets=function(){if(!this._isDestroyed){var a=this._item,b=a._migrate;a=a._release;this._offsetLeft=a._isActive?
a._containerDiffX:b._isActive?b._containerDiffX:0;this._offsetTop=a._isActive?a._containerDiffY:b._isActive?b._containerDiffY:0}};E.prototype._updateTargetStyles=function(){if(!this._isDestroyed){var a=this._item;this._targetStyles.transform=y(a._left+this._offsetLeft,a._top+this._offsetTop)}};E.prototype._finish=function(){if(!this._isDestroyed){var a=this._item,b=a._migrate,c=a._release;this._isActive&&(this._isActive=!1,J(a._element,a.getGrid()._settings.itemPositioningClass));c._isActive&&c.stop();
b._isActive&&b.stop();this._queue.flush(!1,a)}};E.prototype._setupAnimation=function(){var a=B(this._item._element);this._currentLeft=a.x;this._currentTop=a.y};E.prototype._startAnimation=function(){var a=this._item,b=a._element,c=a.getGrid()._settings;if(this._updateOffsets(),this._updateTargetStyles(),a._left===this._currentLeft-this._offsetLeft&&a._top===this._currentTop-this._offsetTop)return this._isInterrupted&&this.stop(!1,this._targetStyles),this._isActive=!1,void this._finish();!this._isInterrupted&&
P(b,c.itemPositioningClass);this._currentStyles.transform=y(this._currentLeft,this._currentTop);a._animate.start(this._currentStyles,this._targetStyles,this._animateOptions)};var Ca={};V.prototype.start=function(a,c,f){if(this._isDestroyed)return this;var g,e,h,l,q,k,n=this._item,m=n._element,M=n.isVisible(),t=n.getGrid(),za=t._settings,N=a._settings,X=a._element,u=a._items,Da=t._items.indexOf(n);f=f||document.body;if("number"==typeof c)c=b(u,c,!0);else{if(!(c=a._getItem(c)))return this;c=u.indexOf(c)}return(n.isPositioning()||
this._isActive||n.isReleasing())&&(q=(l=B(m)).x,k=l.y),n.isPositioning()&&n._layout.stop(!0,{transform:y(q,k)}),this._isActive&&(q-=this._containerDiffX,k-=this._containerDiffY,this.stop(!0,{transform:y(q,k)})),n.isReleasing()&&(q-=n._release._containerDiffX,k-=n._release._containerDiffY,n._release.stop(!0,{transform:y(q,k)})),n._visibility._stopAnimation(),n._drag&&n._drag.destroy(),n._visibility._queue.flush(!0,n),t._hasListeners("beforeSend")&&t._emit("beforeSend",{item:n,fromGrid:t,fromIndex:Da,
toGrid:a,toIndex:c}),a._hasListeners("beforeReceive")&&a._emit("beforeReceive",{item:n,fromGrid:t,fromIndex:Da,toGrid:a,toIndex:c}),J(m,za.itemClass),J(m,za.itemVisibleClass),J(m,za.itemHiddenClass),P(m,N.itemClass),P(m,M?N.itemVisibleClass:N.itemHiddenClass),t._items.splice(Da,1),v(u,n,c),n._gridId=a._id,f!==(g=m.parentNode)&&(f.appendChild(m),e=A(f,g,!0),l||(q=(l=B(m)).x,k=l.y),m.style[L]=y(q+e.left,k+e.top)),n._child.removeAttribute("style"),d(n._child,M?N.visibleStyles:N.hiddenStyles),m.style.display=
M?"block":"hidden",h=A(f,X,!0),n._refreshDimensions(),n._refreshSortData(),n._drag=N.dragEnabled?new r(n):null,this._isActive=!0,this._container=f,this._containerDiffX=h.left,this._containerDiffY=h.top,t._hasListeners("send")&&t._emit("send",{item:n,fromGrid:t,fromIndex:Da,toGrid:a,toIndex:c}),a._hasListeners("receive")&&a._emit("receive",{item:n,fromGrid:t,fromIndex:Da,toGrid:a,toIndex:c}),this};V.prototype.stop=function(a,b){if(this._isDestroyed||!this._isActive)return this;var c,f=this._item,g=
f._element,e=f.getGrid()._element;return this._container!==e&&(b||(a?(c=B(g),Ca.transform=y(c.x-this._containerDiffX,c.y-this._containerDiffY)):Ca.transform=y(f._left,f._top),b=Ca),e.appendChild(g),d(g,b)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0,this};V.prototype.destroy=function(){return this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0),this};var W={};da.prototype.start=function(){if(this._isDestroyed||this._isActive)return this;
var a=this._item,b=a.getGrid();return this._isActive=!0,P(a._element,b._settings.itemReleasingClass),b._emit("dragReleaseStart",a),a._layout.start(!1),this};da.prototype.stop=function(a,b){if(this._isDestroyed||!this._isActive)return this;var c,f=this._item,g=f._element,e=f.getGrid(),h=e._element;return this._reset(),g.parentNode!==h&&(b||(a?(c=B(g),W.transform=y(c.x-this._containerDiffX,c.y-this._containerDiffY)):W.transform=y(f._left,f._top),b=W),h.appendChild(g),d(g,b)),a||e._emit("dragReleaseEnd",
f),this};da.prototype.destroy=function(){return this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0),this};da.prototype._reset=function(){if(!this._isDestroyed){var a=this._item;this._isPositioningStarted=this._isActive=!1;this._containerDiffY=this._containerDiffX=0;J(a._element,a.getGrid()._settings.itemReleasingClass)}};Q.prototype.show=function(a,b){if(this._isDestroyed)return this;var c=this._item,f=c._element,d=this._queue;b="function"==typeof b?b:null;var g=c.getGrid()._settings;
return this._isShowing||this._isHidden?this._isShowing&&!a?b&&d.add(b):(this._isShowing||(d.flush(!0,c),J(f,g.itemHiddenClass),P(f,g.itemVisibleClass),this._isHiding||(f.style.display="block")),b&&d.add(b),c._isActive=this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,a,this._finishShow)):b&&b(!1,c),this};Q.prototype.hide=function(a,b){if(this._isDestroyed)return this;var c=this._item,f=c._element,d=this._queue;b="function"==typeof b?b:null;var g=c.getGrid()._settings;return!this._isHiding&&
this._isHidden?b&&b(!1,c):this._isHiding&&!a?b&&d.add(b):(this._isHiding||(d.flush(!0,c),P(f,g.itemHiddenClass),J(f,g.itemVisibleClass)),b&&d.add(b),this._isHidden=this._isHiding=!0,c._isActive=this._isShowing=!1,this._startAnimation(!1,a,this._finishHide)),this};Q.prototype.destroy=function(){if(this._isDestroyed)return this;var a=this._item,b=a._element,c=a.getGrid(),f=this._queue;c=c._settings;return this._stopAnimation({}),f.flush(!0,a).destroy(),J(b,c.itemVisibleClass),J(b,c.itemHiddenClass),
this._item=null,this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0,this};Q.prototype._startAnimation=function(b,c,f){if(!this._isDestroyed){var g,e=this._item,h=e.getGrid()._settings,l=b?h.visibleStyles:h.hiddenStyles,q=parseInt(b?h.showDuration:h.hideDuration)||0,n=(b?h.showEasing:h.hideEasing)||"ease";b=c||0>=q;if(l){if(S.cancel(e._id+"visibility"),b)return e._animateChild.isAnimating()?e._animateChild.stop(l):d(e._child,l),void(f&&f());S.add(e._id+"visibility",function(){var b=
e._child,c={},f;for(f in l)c[f]=a(b,f.replace(ha,"-$1").toLowerCase());g=c},function(){e._animateChild.start(g,l,{duration:q,easing:n,onFinish:f})})}else f&&f()}};Q.prototype._stopAnimation=function(a){if(!this._isDestroyed){var b=this._item;S.cancel(b._id+"visibility");b._animateChild.stop(a)}};Q.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._queue.flush(!1,this._item))};var xa={};Q.prototype._finishHide=function(){if(this._isHidden){var a=this._item;this._isHiding=!1;
xa.transform=y(0,0);a._layout.stop(!0,xa);a._element.style.display="none";this._queue.flush(!1,a)}};var z,pa,ia,ja,q,X,wa,ua,m=0;I.prototype.getGrid=function(){return Z[this._gridId]};I.prototype.getElement=function(){return this._element};I.prototype.getWidth=function(){return this._width};I.prototype.getHeight=function(){return this._height};I.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};I.prototype.getPosition=
function(){return{left:this._left,top:this._top}};I.prototype.isActive=function(){return this._isActive};I.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};I.prototype.isShowing=function(){return!(!this._visibility||!this._visibility._isShowing)};I.prototype.isHiding=function(){return!(!this._visibility||!this._visibility._isHiding)};I.prototype.isPositioning=function(){return!(!this._layout||!this._layout._isActive)};I.prototype.isDragging=function(){return!(!this._drag||
!this._drag._isActive)};I.prototype.isReleasing=function(){return!(!this._release||!this._release._isActive)};I.prototype.isDestroyed=function(){return this._isDestroyed};I.prototype._refreshDimensions=function(){var a={top:0,right:0,bottom:0,left:0,width:0,height:0};if(!this._isDestroyed&&!this._visibility._isHidden){var b=this._element;try{var c=b.getBoundingClientRect();this._width=c.width;this._height=c.height;this._marginLeft=Math.max(0,u(b,"margin-left"));this._marginRight=Math.max(0,u(b,"margin-right"));
this._marginTop=Math.max(0,u(b,"margin-top"));this._marginBottom=Math.max(0,u(b,"margin-bottom"))}catch(Fa){c=a,this._width=c.width,this._height=c.height,this._marginBottom=this._marginTop=this._marginRight=this._marginLeft=0}}};I.prototype._refreshSortData=function(){if(!this._isDestroyed){var a,b=this._sortData={},c=this.getGrid()._settings.sortData;for(a in c)b[a]=c[a](this,this._element)}};I.prototype._destroy=function(a){if(!this._isDestroyed){var b=this._element,c=this.getGrid(),f=c._settings,
d=c._items.indexOf(this);this._release.destroy();this._migrate.destroy();this._layout.destroy();this._visibility.destroy();this._animate.destroy();this._animateChild.destroy();this._drag&&this._drag.destroy();b.removeAttribute("style");this._child.removeAttribute("style");J(b,f.itemClass);-1<d&&c._items.splice(d,1);a&&b.parentNode.removeChild(b);this._isActive=!1;this._isDestroyed=!0}};R.prototype.getLayout=function(a,b,c,f,d){var g=this._layout,e=!(!d||!d.fillGaps),h=!(!d||!d.horizontal),l=!(!d||
!d.alignRight),q=!(!d||!d.alignBottom);d=!(!d||!d.rounding);var n=this._slotSizes;if(g.slots=f||this._slots,g.width=h?0:d?Math.round(b):b,g.height=h?d?Math.round(c):c:0,g.setWidth=h,g.setHeight=!h,g.slots.length=0,n.length=0,!a.length)return g;for(b=0;b<a.length;b++)this._addSlot(a[b],h,e,d,l||q);if(l)for(b=0;b<g.slots.length;b+=2)g.slots[b]=g.width-(g.slots[b]+n[b]);if(q)for(b=1;b<g.slots.length;b+=2)g.slots[b]=g.height-(g.slots[b]+n[b]);return n.length=0,this._freeSlots.length=0,this._newSlots.length=
0,this._rectId=0,g};R.prototype._addSlot=(z={},function(a,b,c,f,d){var g,e,h,l=this._layout,q=this._freeSlots,n=this._newSlots;n.length=0;z.left=null;z.top=null;z.width=a._width+a._marginLeft+a._marginRight;z.height=a._height+a._marginTop+a._marginBottom;f&&(z.width=Math.round(z.width),z.height=Math.round(z.height));for(a=0;a<q.length;a++)if((e=q[a])&&(g=this._getRect(e),z.width<=g.width+.001&&z.height<=g.height+.001)){z.left=g.left;z.top=g.top;break}null===z.left&&(z.left=b?l.width:0,z.top=b?0:l.height,
c||(h=!0));!b&&z.top+z.height>l.height&&(0<z.left&&n.push(this._addRect(0,l.height,z.left,1/0)),z.left+z.width<l.width&&n.push(this._addRect(z.left+z.width,l.height,l.width-z.left-z.width,1/0)),l.height=z.top+z.height);b&&z.left+z.width>l.width&&(0<z.top&&n.push(this._addRect(l.width,0,1/0,z.top)),z.top+z.height<l.height&&n.push(this._addRect(l.width,z.top+z.height,1/0,l.height-z.top-z.height)),l.width=z.left+z.width);for(a=c?0:h?q.length:a;a<q.length;a++)if(e=q[a])for(g=this._getRect(e),c=this._splitRect(g,
z),h=0;h<c.length;h++)e=c[h],.49<(g=this._getRect(e)).width&&.49<g.height&&(!b&&g.top<l.height||b&&g.left<l.width)&&n.push(e);n.length&&this._purgeRects(n).sort(b?this._sortRectsLeftTop:this._sortRectsTopLeft);b?l.width=Math.max(l.width,z.left+z.width):l.height=Math.max(l.height,z.top+z.height);l.slots.push(z.left,z.top);d&&this._slotSizes.push(z.width,z.height);this._freeSlots=n;this._newSlots=q});R.prototype._addRect=function(a,b,c,f){var d=++this._rectId,g=this._rectStore;return g[d]=a||0,g[++this._rectId]=
b||0,g[++this._rectId]=c||0,g[++this._rectId]=f||0,d};R.prototype._getRect=function(a,b){b=b||this._rectItem;var c=this._rectStore;return b.left=c[a]||0,b.top=c[++a]||0,b.width=c[++a]||0,b.height=c[++a]||0,b};R.prototype._splitRect=(pa=[],function(a,b){return pa.length=0,this._doRectsOverlap(a,b)?(a.left<b.left&&pa.push(this._addRect(a.left,a.top,b.left-a.left,a.height)),a.left+a.width>b.left+b.width&&pa.push(this._addRect(b.left+b.width,a.top,a.left+a.width-(b.left+b.width),a.height)),a.top<b.top&&
pa.push(this._addRect(a.left,a.top,a.width,b.top-a.top)),a.top+a.height>b.top+b.height&&pa.push(this._addRect(a.left,b.top+b.height,a.width,a.top+a.height-(b.top+b.height)))):pa.push(this._addRect(a.left,a.top,a.width,a.height)),pa});R.prototype._doRectsOverlap=function(a,b){return!(a.left+a.width<=b.left||b.left+b.width<=a.left||a.top+a.height<=b.top||b.top+b.height<=a.top)};R.prototype._isRectWithinRect=function(a,b){return a.left>=b.left&&a.top>=b.top&&a.left+a.width<=b.left+b.width&&a.top+a.height<=
b.top+b.height};R.prototype._purgeRects=(ia={},ja={},function(a){for(var b,c=a.length;c--;)if(b=a.length,a[c])for(this._getRect(a[c],ia);b--;)if(a[b]&&c!==b&&this._isRectWithinRect(ia,this._getRect(a[b],ja))){a[c]=0;break}return a});R.prototype._sortRectsTopLeft=(wa={},ua={},function(a,b){return this._getRect(a,wa),this._getRect(b,ua),wa.top<ua.top?-1:ua.top<wa.top?1:wa.left<ua.left?-1:ua.left<wa.left?1:0});R.prototype._sortRectsLeftTop=(q={},X={},function(a,b){return this._getRect(a,q),this._getRect(b,
X),q.left<X.left?-1:X.left<q.left?1:q.top<X.top?-1:X.top<q.top?1:0});var N=new R,ya=function(){};return D.Item=I,D.ItemLayout=E,D.ItemVisibility=Q,D.ItemRelease=da,D.ItemMigrate=V,D.ItemAnimate=c,D.ItemDrag=r,D.Emitter=k,D.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!0},layoutOnResize:100,
layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragStartPredicate:{distance:0,delay:0,handle:!1},dragAxis:null,dragSort:!0,dragSortInterval:100,dragSortPredicate:{threshold:50,action:"move"},dragReleaseDuration:300,dragReleaseEasing:"ease",dragHammerSettings:{touchAction:"none"},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",
itemReleasingClass:"muuri-item-releasing"},D.prototype.on=function(a,b){return this._emitter.on(a,b),this},D.prototype.once=function(a,b){return this._emitter.once(a,b),this},D.prototype.off=function(a,b){return this._emitter.off(a,b),this},D.prototype.getElement=function(){return this._element},D.prototype.getItems=function(a){if(this._isDestroyed||!a&&0!==a)return this._items.slice(0);var b,c=[],f=ka(a);for(a=0;a<f.length;a++)(b=this._getItem(f[a]))&&c.push(b);return c},D.prototype.refreshItems=
function(a){if(this._isDestroyed)return this;var b=this.getItems(a);for(a=0;a<b.length;a++)b[a]._refreshDimensions();return this},D.prototype.refreshSortData=function(a){if(this._isDestroyed)return this;var b=this.getItems(a);for(a=0;a<b.length;a++)b[a]._refreshSortData();return this},D.prototype.synchronize=function(){if(this._isDestroyed)return this;var a,b,c,f=this._element,d=this._items;if(d.length){for(c=0;c<d.length;c++)(b=d[c]._element).parentNode===f&&(a=a||document.createDocumentFragment()).appendChild(b);
a&&f.appendChild(a)}return this._emit("synchronize"),this},D.prototype.layout=function(b,c){function f(){if(!(0<--k)){var a=e._layout.id!==q;t&&m(a,N);!a&&e._hasListeners("layoutEnd")&&e._emit("layoutEnd",l.items.slice(0))}}if(this._isDestroyed)return this;var d,g,e=this,h=this._element,l=this._updateLayout(),q=l.id,n=l.items.length,k=n,m="function"==typeof b?b:c,t="function"==typeof m,N=t?l.items.slice(0):null;if((l.setHeight&&"number"==typeof l.height||l.setWidth&&"number"==typeof l.width)&&(d=
"border-box"===a(h,"box-sizing")),l.setHeight&&("number"==typeof l.height?h.style.height=(d?l.height+this._borderTop+this._borderBottom:l.height)+"px":h.style.height=l.height),l.setWidth&&("number"==typeof l.width?h.style.width=(d?l.width+this._borderLeft+this._borderRight:l.width)+"px":h.style.width=l.width),this._hasListeners("layoutStart")&&this._emit("layoutStart",l.items.slice(0)),!n)return f(),this;for(c=0;c<n;c++)(g=l.items[c])&&(g._left=l.slots[2*c],g._top=l.slots[2*c+1],g.isDragging()?f():
g._layout.start(!0===b,f));return this},D.prototype.add=function(a,b){if(this._isDestroyed||!a)return[];a=ka(a);if(!a.length)return a;var c,f=b||0,d=f.layout?f.layout:void 0===f.layout,g=this._items,e=!1;for(c=0;c<a.length;c++)b=new I(this,a[c],f.isActive),(a[c]=b)._isActive&&(e=!0,b._layout._skipNextAnimation=!0);return v(g,a,f.index),this._hasListeners("add")&&this._emit("add",a.slice(0)),e&&d&&this.layout("instant"===d,"function"==typeof d?d:void 0),a},D.prototype.remove=function(a,b){if(this._isDestroyed)return this;
var c;b=b||0;var f=b.layout?b.layout:void 0===b.layout,d=!1,g=this.getItems(),e=this.getItems(a),h=[];for(c=0;c<e.length;c++)a=e[c],h.push(g.indexOf(a)),a._isActive&&(d=!0),a._destroy(b.removeElements);return this._hasListeners("remove")&&this._emit("remove",e.slice(0),h),d&&f&&this.layout("instant"===f,"function"==typeof f?f:void 0),e},D.prototype.show=function(a,b){return this._isDestroyed||this._setItemsVisibility(a,!0,b),this},D.prototype.hide=function(a,b){return this._isDestroyed||this._setItemsVisibility(a,
!1,b),this},D.prototype.filter=function(a,b){if(this._isDestroyed||!this._items.length)return this;var c,f=[],d=[],g="function"==typeof a;var e=b||0;b=!0===e.instant;var h=e.layout?e.layout:void 0===e.layout,l="function"==typeof e.onFinish?e.onFinish:null,q=-1,n=ya;if(l&&(n=function(){++q&&l(f.slice(0),d.slice(0))}),g||"string"==typeof a)for(c=0;c<this._items.length;c++)e=this._items[c],(g?a(e):va.call(e._element,a))?f.push(e):d.push(e);return f.length?this.show(f,{instant:b,onFinish:n,layout:!1}):
n(),d.length?this.hide(d,{instant:b,onFinish:n,layout:!1}):n(),(f.length||d.length)&&(this._hasListeners("filter")&&this._emit("filter",f.slice(0),d.slice(0)),h&&this.layout("instant"===h,"function"==typeof h?h:void 0)),this},D.prototype.sort=function(){function a(a){for(var b={},c=0;c<a.length;c++)b[a[c]._id]=c;return b}function b(a,b){a=h[a._id];b=h[b._id];return g?b-a:a-b}function c(c,f){for(var l,q,n,k,m=0,t=0;t<d.length;t++)if(l=d[t][0],q=d[t][1],n=(c._sortData?c:c._refreshSortData())._sortData[l],
k=(f._sortData?f:f._refreshSortData())._sortData[l],m="desc"===q||!q&&g?k<n?-1:n<k?1:0:n<k?-1:k<n?1:0)return m;return m||(h||(h=a(e)),m=b(c,f)),m}function f(c,f){var l=d(c,f);return g&&l&&(l=-l),l||(h||(h=a(e)),b(c,f))}var d,g,e,h;return function(a,b){if(this._isDestroyed||2>this._items.length)return this;var l=this._items,q=b||0;b=q.layout?q.layout:void 0===q.layout;if(d=a,g=!!q.descending,e=l.slice(0),h=null,"function"==typeof d)l.sort(f);else if("string"==typeof d)d=a.trim().split(" ").map(function(a){return a.split(":")}),
l.sort(c);else{if(!Array.isArray(d))return this;if(d.length!==l.length)throw Error("[Muuri] sort reference items do not match with grid items.");for(a=0;a<l.length;a++){if(0>d.indexOf(l[a]))throw Error("[Muuri] sort reference items do not match with grid items.");l[a]=d[a]}g&&l.reverse()}return this._hasListeners("sort")&&this._emit("sort",l.slice(0),e),b&&this.layout("instant"===b,"function"==typeof b?b:void 0),this}}(),D.prototype.move=function(a,b,c){if(this._isDestroyed||2>this._items.length)return this;
var f,d,e=this._items,h=c||0;c=h.layout?h.layout:void 0===h.layout;var l=(h="swap"===h.action)?"swap":"move";a=this._getItem(a);b=this._getItem(b);return a&&b&&a!==b&&(f=e.indexOf(a),d=e.indexOf(b),h?n(e,f,d):g(e,f,d),this._hasListeners("move")&&this._emit("move",{item:a,fromIndex:f,toIndex:d,action:l}),c&&this.layout("instant"===c,"function"==typeof c?c:void 0)),this},D.prototype.send=function(a,b,c,f){if(this._isDestroyed||b._isDestroyed||this===b||!(a=this._getItem(a)))return this;f=f||0;var d=
f.layoutSender?f.layoutSender:void 0===f.layoutSender,g=f.layoutReceiver?f.layoutReceiver:void 0===f.layoutReceiver;return a._migrate.start(b,c,f.appendTo||document.body),a._migrate._isActive&&a._isActive&&(d&&this.layout("instant"===d,"function"==typeof d?d:void 0),g&&b.layout("instant"===g,"function"==typeof g?g:void 0)),this},D.prototype.destroy=function(a){if(this._isDestroyed)return this;var b,c=this._element,f=this._items.slice(0);this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler);
for(b=0;b<f.length;b++)f[b]._destroy(a);return J(c,this._settings.containerClass),c.style.height="",c.style.width="",this._emit("destroy"),this._emitter.destroy(),Z[this._id]=void 0,this._isDestroyed=!0,this},D.prototype._getItem=function(a){if(this._isDestroyed||!a&&0!==a)return null;if("number"==typeof a)return this._items[-1<a?a:this._items.length+a]||null;if(a instanceof I)return a._gridId===this._id?a:null;for(var b=0;b<this._items.length;b++)if(this._items[b]._element===a)return this._items[b];
return null},D.prototype._updateLayout=function(){var a,b,c,f,d=this._layout,g=this._settings.layout;++d.id;for(f=d.items.length=0;f<this._items.length;f++)this._items[f]._isActive&&d.items.push(this._items[f]);return this._refreshDimensions(),a=this._width-this._borderLeft-this._borderRight,b=this._height-this._borderTop-this._borderBottom,c="function"==typeof g?g(d.items,a,b):N.getLayout(d.items,a,b,d.slots,g),d.slots=c.slots,d.setWidth=!!c.setWidth,d.setHeight=!!c.setHeight,d.width=c.width,d.height=
c.height,d},D.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)},D.prototype._hasListeners=function(a){a=this._emitter._events[a];return!(!a||!a.length)},D.prototype._updateBoundingRect=function(){var a=this._element.getBoundingClientRect();this._width=a.width;this._height=a.height;this._left=a.left;this._top=a.top},D.prototype._updateBorders=function(a,b,c,f){var d=this._element;a&&(this._borderLeft=u(d,"border-left-width"));b&&(this._borderRight=u(d,
"border-right-width"));c&&(this._borderTop=u(d,"border-top-width"));f&&(this._borderBottom=u(d,"border-bottom-width"))},D.prototype._refreshDimensions=function(){this._updateBoundingRect();this._updateBorders(1,1,1,1)},D.prototype._setItemsVisibility=function(a,b,c){var f,d=this;a=this.getItems(a);var g=c||0;c=!0===g.instant;var e=g.onFinish;g=g.layout?g.layout:void 0===g.layout;var h=a.length;var l=b?"showStart":"hideStart";var q=b?"showEnd":"hideEnd",n=b?"show":"hide",k=!1,m=[],t=[];if(h){this._hasListeners(l)&&
this._emit(l,a.slice(0));for(f=0;f<a.length;f++)l=a[f],(b&&!l._isActive||!b&&l._isActive)&&(k=!0),b&&!l._isActive&&(l._layout._skipNextAnimation=!0),b&&l._visibility._isHidden&&t.push(l),l._visibility[n](c,function(a,b){a||m.push(b);1>--h&&("function"==typeof e&&e(m.slice(0)),d._hasListeners(q)&&d._emit(q,m.slice(0)))});t.length&&this.refreshItems(t);k&&g&&this.layout("instant"===g,"function"==typeof g?g:void 0)}else"function"==typeof e&&e(a)},D});p("app/modules/global/MuuriGrid",["jquery","app/modules/BaseModule",
"vendor/muuri.min"],function(e,k,a){var d=function(){this.ns=k.ns("MuuriGrid")};d.prototype=new k;d.prototype.init=function(c){this.$el=e(c);this.$gridEl=this.$el.find(".js-muuri_grid-grid");this.grid=new a(this.$gridEl[0],{layout:{fillGaps:!0,layoutOnInit:!1,rounding:!1}});this.grid.once("layoutEnd",function(){this.setIsLoading(!1)}.bind(this));this.grid.layout();setTimeout(function(){this.grid.layout()}.bind(this),400);this.bindListeners();return this};d.prototype.bindListeners=function(){};d.prototype.setIsLoading=
function(a){a?(this.$el.addClass("is-loading"),this.$el.removeClass("is-ready")):(this.$el.removeClass("is-loading"),this.$el.addClass("is-ready"))};d.prototype.addItems=function(a,d){this.setIsLoading(!0);setTimeout(function(){this.grid.once("layoutEnd",function(){this.setIsLoading(!1);d&&d()}.bind(this));this.grid.add(a)}.bind(this),200)};d.prototype.clearGrid=function(){this.grid.remove(this.grid.getItems(),{removeElements:!0})};d.prototype.refreshLayout=function(){this.grid.refreshItems()};return d});
p("app/modules/global/LinkIndicator",["jquery","app/modules/BaseModule"],function(e,k){var a={appName:"LinkIndicator",selector:".js-link-indicator",items:{selector:".js-link-indicator-item",activeClassName:"is-active",widthDataName:"linkindecator-width",defaultWidth:"outer"},indicator:{selector:".js-link-indicator-indicator",visibleClassName:"is-visible",container:{selector:".js-link-indicator-container"}}};var d=function(){this.$el=null;this.ns=k.ns(a.appName);this.oldX=0;this.moveTimeout=this.moveBackTimeout=
null};d.prototype=new k;var c=d.prototype,h=c.init,b=c.destroy;c.init=function(b){h.call(this,b);this.config=e.extend(!0,{},a);var c=this;this.$currentElement=null;this.$indicatorItems=this.$el.find(this.config.items.selector);this.$activeIndicatorItem=this.getFirstActiveElement();this.$indicatorContainer=this.$el.find(this.config.indicator.container.selector);this.$indicator=this.$indicatorContainer.find(this.config.indicator.selector);this.oldX=this.$indicatorContainer.offset().left;this.$indicatorItems.on("mouseenter activate",
function(a){a=e(this);clearTimeout(c.moveBackTimeout);c.moveIndicator(a)});this.on("mouseleave deactivate",this.config.items.selector,function(a){if("deactivate"!=a.type||e(a.currentTarget).is(this.$currentElement))clearTimeout(this.moveBackTimeout),this.moveBackTimeout=setTimeout(function(){this.moveIndicator(this.getFirstActiveElement(),15)}.bind(this),50)}.bind(this));e(window).on("resize"+this.ns,function(){var a=c.$currentElement;a&&1===a.length&&c.moveIndicator(a)});this.moveIndicator(this.$activeIndicatorItem);
return this};c.destroy=function(){b.call(this)};c.getFirstActiveElement=function(){return e(this.$indicatorItems.filter("."+this.config.items.activeClassName).get(0))};c.moveIndicator=function(a,b){var c=this;clearTimeout(this.moveTimeout);this.moveTimeout=setTimeout(function(){"undefined"===typeof b&&(b=15);var f=0,d="removeClass";if(a.length){var g=a.offset().left-c.$indicatorContainer.offset().left;f="outer"===(a.data(c.config.items.widthDataName)||c.config.items.defaultWidth)?a.outerWidth():a.innerWidth()-
parseInt(a.css("padding-left"))-parseInt(a.css("padding-right"));d="addClass"}else g=c.oldX;c.$indicator.css({transform:"translateX("+g+"px) translateZ(0)",width:f,"transition-duration":Math.min(200,Math.sqrt(Math.abs(g-c.oldX))*b)+"ms"})[d](c.config.indicator.visibleClassName);c.oldX=g;c.$currentElement=a},10)};return d});p("app/modules/global/LanguageSelect",["jquery","app/modules/BaseModule"],function(e,k){var a={appName:"LanguageSelect",selector:".js-languageselect"},d=function(){this.ns=k.ns(a.appName)};
d.prototype=new k;var c=d.prototype,h=c.init;c.init=function(b){h.call(this,b);this.config=e.extend(!0,{},a);this.$el.val(this.$el.find("option[selected]").val());this.on("change",this.bind(this.onChange));return this};c.onChange=function(){var a=this.$el.val();"undefined"!==typeof a&&null!==a&&""!==a&&this.redirect(a)};c.redirect=function(a){window.location=a};return d});p("lib/animation/AnimationFrame",[],function(){for(var e=0,k=["ms","moz","webkit","o"],a=0;a<k.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=
window[k[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[a]+"CancelAnimationFrame"]||window[k[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),b=window.setTimeout(function(){a(c+d)},d);e=c+d;return b});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});return{request:function(){return requestAnimationFrame.apply(null,arguments)},cancel:function(){return cancelAnimationFrame.apply(null,
arguments)}}});p("app/modules/global/Searchbar",["jquery","app/modules/BaseModule","lib/browser/KeyCode","lib/animation/AnimationFrame"],function(e,k,a,d){e("body");e("html");var c={appName:"SearchBar",selector:".js-searchbar",dirtyClassName:"has-changed",input:{selector:".js-searchbar--input"},result:{selector:".js-searchbar--result",item:{selector:".js-searchbar--result--item",allResultsBtn:".js-searchbar--result--item.link-arrow"}},close:{selector:".js-searchbar--result--close"},mouseoutclosedelay:1E3};
var h=function(){this.$el=null;this.ns=k.ns(c.appName)};h.prototype=new k;var b=h.prototype,g=b.init,n=b.destroy;b.init=function(a){g.call(this,a);this.config=e.extend(!0,{},c);this.$close=e(this.config.close.selector).hide();this.$input=this.$el.find(this.config.input.selector);this.mouseoutTimeout=null;this.resultsAreOpen=!1;this.initEvents();return this};b.destroy=function(){n.call(this)};b.initEvents=function(){this.on("keyup",this.config.input.selector+", "+this.config.result.item.selector,this.bind(this.onType));
this.on("change",this.config.input.selector+", "+this.config.result.item.selector,this.bind(this.onType));this.on("keydown",this.config.input.selector+", "+this.config.result.item.selector,this.bind(this.onNavigate));this.$close.on("click",this.bind(this.close))};b.markItem=function(a){var b=this.$input.add(this.$el.find(this.config.result.item.selector));b.get(a%b.length).focus()};b.close=function(a){this.$input.focus();this.closeResults();this.$close.hide();a.preventDefault()};b.onType=function(b){this.resultsAreOpen||
b.which===a.ESC||this.openResults();switch(b.which){case a.DOWN_ARROW:var c=this.$input.add(this.$el.find(this.config.result.item.selector));(c=c.index(c.filter(":focus")))&&this.markItem(c)}b.which!==a.ESC&&d.request(function(){this.updateSize()}.bind(this));this.$close.show()};b.onNavigate=function(b){var c=this.$input.add(this.$el.find(this.config.result.item.selector));switch(b.which){case a.TAB:var f=c.index(c.filter(":focus"));b.shiftKey&&0<=f&&f<=c.length-1?(this.$input.focus(),b.preventDefault()):
!b.shiftKey&&0<=f&&f<c.length-1&&(this.markItem(c.length-1),b.preventDefault());break;case a.ESC:this.resultsAreOpen&&b.stopPropagation();b.preventDefault();this.close(b);break;case a.UP_ARROW:f=c.index(c.filter(":focus"))||0;this.markItem(f-1);b.preventDefault();break;case a.DOWN_ARROW:f=c.index(c.filter(":focus"))||0,this.markItem(f+1),b.preventDefault()}};b.updateSize=function(a){a=e("\x3cspan\x3e").text(this.$input.val()||this.$input.attr("placeholder"));this.$input.parent().append(a);var b=a.width();
a.remove();this.$input.width(b+20);0===this.$input.val().length&&this.closeResults()};b.closeIfOutside=function(a){this.$el.is(a.target)||e.contains(this.$el.get(0),a.target)||this.closeResults()};b.closeResults=function(a){e(document).off(this.ns);this.$el.removeClass(this.config.dirtyClassName);this.$el.find(this.config.result.selector).attr("aria-hidden","true");this.resultsAreOpen=!1};b.openResults=function(a){clearTimeout(this.mouseoutTimeout);this.$el.addClass(this.config.dirtyClassName);a=
this.$el.find(this.config.result.selector);a.attr("aria-hidden","false");if(this.isLayover="absolute"==a.css("position"))this.on(document,"mousedown",this.closeIfOutside),this.on(document,"touchstart",this.closeIfOutside);this.resultsAreOpen=!0};return h});p("lib/animation/Easing",["jquery"],function(e){e.extend(e.easing,{bounceOut:function(e,a){var d=e/100,c=Math.floor(Math.log(.005/Math.pow(10,e))/-d),h=a*Math.PI/c;return function(a,g,e,f,l){a=g/l;if(1<=a)return 1;if(0>=a)return 0;a*=c;return 1-
Math.pow(Math.E,-d*a)*Math.cos(h*a)}}(1,2)});jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,d,c,h){return jQuery.easing[jQuery.easing.def](e,a,d,c,h)},easeInQuad:function(e,a,d,c,h){return c*(a/=h)*a+d},easeOutQuad:function(e,a,d,c,h){return-c*(a/=h)*(a-2)+d},easeInOutQuad:function(e,a,d,c,h){return 1>(a/=h/2)?c/2*a*a+d:-c/2*(--a*(a-2)-1)+d},easeInCubic:function(e,a,d,c,h){return c*(a/=h)*a*a+d},easeOutCubic:function(e,a,d,c,h){return c*((a=a/h-1)*a*a+1)+d},easeInOutCubic:function(e,
a,d,c,h){return 1>(a/=h/2)?c/2*a*a*a+d:c/2*((a-=2)*a*a+2)+d},easeInQuart:function(e,a,d,c,h){return c*(a/=h)*a*a*a+d},easeOutQuart:function(e,a,d,c,h){return-c*((a=a/h-1)*a*a*a-1)+d},easeInOutQuart:function(e,a,d,c,h){return 1>(a/=h/2)?c/2*a*a*a*a+d:-c/2*((a-=2)*a*a*a-2)+d},easeInQuint:function(e,a,d,c,h){return c*(a/=h)*a*a*a*a+d},easeOutQuint:function(e,a,d,c,h){return c*((a=a/h-1)*a*a*a*a+1)+d},easeInOutQuint:function(e,a,d,c,h){return 1>(a/=h/2)?c/2*a*a*a*a*a+d:c/2*((a-=2)*a*a*a*a+2)+d},easeInSine:function(e,
a,d,c,h){return-c*Math.cos(a/h*(Math.PI/2))+c+d},easeOutSine:function(e,a,d,c,h){return c*Math.sin(a/h*(Math.PI/2))+d},easeInOutSine:function(e,a,d,c,h){return-c/2*(Math.cos(Math.PI*a/h)-1)+d},easeInExpo:function(e,a,d,c,h){return 0==a?d:c*Math.pow(2,10*(a/h-1))+d},easeOutExpo:function(e,a,d,c,h){return a==h?d+c:c*(-Math.pow(2,-10*a/h)+1)+d},easeInOutExpo:function(e,a,d,c,h){return 0==a?d:a==h?d+c:1>(a/=h/2)?c/2*Math.pow(2,10*(a-1))+d:c/2*(-Math.pow(2,-10*--a)+2)+d},easeInCirc:function(e,a,d,c,h){return-c*
(Math.sqrt(1-(a/=h)*a)-1)+d},easeOutCirc:function(e,a,d,c,h){return c*Math.sqrt(1-(a=a/h-1)*a)+d},easeInOutCirc:function(e,a,d,c,h){return 1>(a/=h/2)?-c/2*(Math.sqrt(1-a*a)-1)+d:c/2*(Math.sqrt(1-(a-=2)*a)+1)+d},easeInElastic:function(e,a,d,c,h){e=0;var b=c;if(0==a)return d;if(1==(a/=h))return d+c;e||(e=.3*h);b<Math.abs(c)?(b=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/b);return-(b*Math.pow(2,10*--a)*Math.sin(2*(a*h-c)*Math.PI/e))+d},easeOutElastic:function(e,a,d,c,h){var b=0,g=c;if(0==a)return d;if(1==(a/=
h))return d+c;b||(b=.3*h);g<Math.abs(c)?(g=c,e=b/4):e=b/(2*Math.PI)*Math.asin(c/g);return g*Math.pow(2,-10*a)*Math.sin(2*(a*h-e)*Math.PI/b)+c+d},easeInOutElastic:function(e,a,d,c,h){var b=0,g=c;if(0==a)return d;if(2==(a/=h/2))return d+c;b||(b=.3*h*1.5);g<Math.abs(c)?(g=c,e=b/4):e=b/(2*Math.PI)*Math.asin(c/g);return 1>a?-.5*g*Math.pow(2,10*--a)*Math.sin(2*(a*h-e)*Math.PI/b)+d:g*Math.pow(2,-10*--a)*Math.sin(2*(a*h-e)*Math.PI/b)*.5+c+d},easeInBack:function(e,a,d,c,h,b){void 0==b&&(b=1.70158);return c*
(a/=h)*a*((b+1)*a-b)+d},easeOutBack:function(e,a,d,c,h,b){void 0==b&&(b=1.70158);return c*((a=a/h-1)*a*((b+1)*a+b)+1)+d},easeInOutBack:function(e,a,d,c,h,b){void 0==b&&(b=1.70158);return 1>(a/=h/2)?c/2*a*a*(((b*=1.525)+1)*a-b)+d:c/2*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)+d},easeInBounce:function(e,a,d,c,h){return c-jQuery.easing.easeOutBounce(e,h-a,0,c,h)+d},easeOutBounce:function(e,a,d,c,h){return(a/=h)<1/2.75?7.5625*c*a*a+d:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+.75)+d:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*
a+.9375)+d:c*(7.5625*(a-=2.625/2.75)*a+.984375)+d},easeInOutBounce:function(e,a,d,c,h){return a<h/2?.5*jQuery.easing.easeInBounce(e,2*a,0,c,h)+d:.5*jQuery.easing.easeOutBounce(e,2*a-h,0,c,h)+.5*c+d}})});p("lib/animation/SizeAnimation",["jquery","lib/animation/Easing"],function(e){function k(a,d){a&&this.init(a);this.options=d||{}}k.prototype.init=function(a){this.$el=e(a);this.$el.stop().css({overflow:"",height:"",width:""});this.widthBefore=this.$el.outerWidth();this.heightBefore=this.$el.outerHeight()};
k.prototype.complete=function(a){var d=this.$el,c=this.heightBefore,h=this.$el.outerHeight(),b=this.widthBefore,g=this.$el.outerWidth(),n=e.extend({duration:250,easing:"easeOutQuint"},this.options,{complete:function(){d.css({overflow:"",height:"",width:""});a&&"function"===typeof a&&a()}});if(c!==h||b!=g)this.$el.css({overflow:"hidden",height:c,width:b}),this.$el.stop().animate({height:h,width:g},n)};return k});p("lib/browser/ScrollParent",["jquery"],function(e){function k(a){a&&this.init(e(a).get(0))}
k.extraOffset=0;k.prototype.init=function(a){a:{for(;a=a.offsetParent;){var d=window.getComputedStyle(a);if("fixed"===d.position||a.scrollHeight>a.clientHeight&&"visible"!==d.overflow&&"visible"!==d.overflowX&&"visible"!==d.overflowY)break a}a=document.scrollingElement||document.documentElement}this.scrollParentEl=a;this.$scrollParent=e(this.scrollParentEl);this.isDocument=this.$scrollParent.is(document)||this.$scrollParent.is("html")||this.$scrollParent.is("body")};k.prototype.getElement=function(){return this.scrollParentEl};
k.prototype.scrollTop=function(){return this.$scrollParent.scrollTop()};k.prototype.getOffset=function(a){for(var d=0;a&&a!==this.scrollParentEl;)d+=a.offsetTop,a=a.offsetParent;return d-k.extraOffset};k.prototype.getHeight=function(){return this.isDocument?e(window).height():this.scrollParentEl.clientHeight};k.prototype.scrollTo=function(a,d){var c=e(this.isDocument?"html, body":this.scrollParentEl);d?c.stop().delay(d.delay||0).animate({scrollTop:a},e.extend({duration:250,easing:"easeInOutQuart"},
d)):c.scrollTop(a)};return k});p("app/modules/global/StickyBox",["jquery","app/modules/BaseModule","lib/animation/SizeAnimation","lib/browser/ScrollParent"],function(e,k,a,d){e(window);var c={selector:".js-stickybox",detatchedClassName:"is-detached",box:{selector:".js-stickybox--element"},offset:0,yTrigger:"top"},h=function(){this.ns=k.ns("StickyBox")};h.prototype=new k;var b=h.prototype,g=b.init;b.init=function(a){g.call(this,a);this.config=e.extend(!0,{},c);this.el=this.$el.get(0);this.lastKnownScrollY=
0;this.isLiftUp=this.isDetached=!1;this._initBox();this.onMyScroll=this.bind(this.onScroll);document.addEventListener("scroll",this.onMyScroll,!0);this.on(window,"resize",this.onResize);this.onResize();return this};b._initBox=function(){this.$box=this.$el.find(this.config.box.selector);this.box=this.$box.get(0);if(this.$box&&!(1>this.$box.length)){var a=this.$el.data("stickybox-liftupelement"),b=this.$el.data("stickybox-yTrigger"),c=this.$el.data("stickybox-offset");this.$liftUpEl=e(a);this.hasLiftUp=
0<this.$liftUpEl.length;this.config.offset=isNaN(c)?this.config.offset:c;this.config.yTrigger=-1<["top","bottom"].indexOf(b)?b:this.config.yTrigger}};b.onResize=function(){this.update()};b.onScroll=function(){var a=e(document).scrollTop();0<a&&1>Math.abs(this.lastKnownScrollY-a)||(this.update(),this.lastKnownScrollY=a)};b.setContainerHeight=function(a){var b=0;a?(b=this.$el.height(),this.$el.height(b)):this.$el.height("");d.extraOffset=b};b.update=function(){this.detach(this.isDetachable());this.hasLiftUp&&
this.liftUpIfLowerThan(this.$liftUpEl)};b.isDetachable=function(){return!this.isContainerBelowTop()};b.detach=function(b){if(this.isDetached===b)return this.isDetached&&this.setContainerHeight(!0),!1;var c=[];this.$el.find(".js-stickybox--animsize").each(function(){c.push(new a(this))});this.setContainerHeight(b);this._setDetachClassToContainer(b);for(var f=0;f<c.length;f++)c[f].complete();this.isDetached=b};b._setDetachClassToContainer=function(a){a?this.$el.addClass(this.config.detatchedClassName):
this.$el.removeClass(this.config.detatchedClassName)};b.isContainerBelowTop=function(){return 0<=this.el.getBoundingClientRect()[this.config.yTrigger]+this.config.offset};b.liftUpIfLowerThan=function(a){this.$box.css({transform:"translateY(0px)"});var b=this.box.getBoundingClientRect().bottom;a=a.get(0).getBoundingClientRect().top;b=Math.round(b-a);0<b?(this.isLiftUp=!0,this.$box.css({transform:"translateY(-"+b+"px)"})):this.isLiftUp&&(this.$box.css({transform:"translateY(0px)"}),this.isLiftUp=!1)};
var n=b.destroy;b.destroy=function(){document.removeEventListener("scroll",this.onMyScroll,!0);n.call(this)};return h});p("app/modules/basics/Table",["jquery","app/modules/BaseModule","lib/browser/Accessibility"],function(e,k,a){function d(){this.ns=k.ns("Table")}d.prototype=new k;d.prototype.init=function(a){if(e("html").hasClass("lt-ie10"))return!1;this.$el=e(a);this.on(window,"resize",this.invalidate);this.validate();this.on("click",".js-table--showtable",this.showAccessibiltyTable);this.$el.find(".js-table--showtable").on("focusin"+
this.ns,this.bind(this.onButtonFocus));return this};d.prototype.showAccessibiltyTable=function(c){c.preventDefault();this.$el.removeClass("has-claustrophobia");this.$el.addClass("is-accessible");this.$el.find(".js-table--showtable").off("focusin"+this.ns).remove();a.focusFirst(this.$el,"table")};d.prototype.onButtonFocus=function(a){e(a.currentTarget).addClass("had-focus")};d.prototype.invalidate=function(){this.validate()};d.prototype.validate=function(){this.$el.removeClass("has-claustrophobia");
var a=this.$el.get(0),d=a.scrollWidth>a.clientWidth;d||(a=this.$el.find("table"),"fixed"==a.css("table-layout")&&a.find("th,td").each(function(){if(this.scrollWidth>this.clientWidth)return d=!0,!1}));!this.$el.hasClass("is-accessible")&&d&&this.$el.addClass("has-claustrophobia")};d.prototype.destroy=function(){this.find(".js-table--showtable").off("focusin"+this.ns);k.prototype.destroy.call(this)};return d});p("lib/browser/Pointer",[],function(){function e(){}function k(a,c){if(!c)return a;a=a.split(" ");
for(var d=a.length-1;0<=d;d--)a[d]+=c;return a.join(" ")}var a={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend"],pointerdown:["pointermove","pointerup"],MSPointerDown:["MSPointerMove","MSPointerUp"]};e.dragstart=function(a){return k("touchstart mousedown pointerdown MSPointerDown",a)};e.dragmove=function(d,c){return c?k(a[c.type][0],d):k("touchmove mousemove pointermove MSPointerMove",d)};e.dragend=function(d,c){return c?k(a[c.type][1],d):k("touchend mouseup pointerup MSPointerUp",
d)};e.getEventPosition=function(a,c){c||(c="page");return a.originalEvent.touches?{x:a.originalEvent.touches[0][c+"X"],y:a.originalEvent.touches[0][c+"Y"]}:void 0!==a.originalEvent.pageX?{x:a.originalEvent[c+"X"],y:a.originalEvent[c+"Y"]}:{x:a[c+"X"],y:a[c+"Y"]}};e.isTouchEvent=function(a){return a?"touchstart"===a.type||"touch"===a.pointerType:!1};return e});p("app/modules/various/Slider",["jquery","app/modules/BaseModule","lib/browser/Pointer","lib/browser/Accessibility"],function(e,k,a,d){function c(a,
b,c){c?a.addClass(b):a.removeClass(b)}var h={accelerated:!0};var b=function(){this.$el=null;this.ns=k.ns("Slider")};b.prototype=new k;b.prototype.init=function(a){this.$el=e(a);this.options=e.extend({},h,this.$el.data("options"));this.initVariables();this.bindUIActions();this.relayout();this.options.centerOnClick&&this.initCenterOnClick();return this};b.prototype.initVariables=function(){this.slideWidth=[];this.x=this.numSlides=this.numPages=0;this.$wrapper=this.$el.find(".js-slider--container");
this.$content=this.$el.find(".js-slider--list");this.$slides=this.$el.find(".js-slider--list--item");this.slideIndex=this.$slides.filter(".is-active").index();this.gestureLock=!1;this.accelerated=Modernizr.csstransforms3d&&this.options.accelerated;this.$currPageIndicator=this.$el.find(".js-slider--current_page");this.setFocus=!1};b.prototype.bindUIActions=function(){var a=this;this.on("click",".js-slider--btn-prev",this._slideByHandler(-1));this.on("click",".js-slider--btn-next",this._slideByHandler(1));
this.on("dragstart",function(a){a.preventDefault()});this.on(window,"resize",function(){var b;return function(){clearTimeout(b);b=setTimeout(function(){a.relayout()},500)}}());(function(){var b,c;a.touchmove(a.$el.get(0),{start:function(){b=a.x;clearTimeout(c);a.gestureLock=!0},step:function(c){if(0>=a.slideIndex&&0<c||a.slideIndex+1>=a.numSlides&&0>c)c=500*Math.atan(c/500)/4;a.move(b+c);(new Date).getTime()},complete:function(b){!1!==b&&a.slideBy(-b);c=setTimeout(function(){a.gestureLock=!1},1)}})})()};
b.prototype.initCenterOnClick=function(){var a=this;this.$content.on("click"+this.ns,".is-active-previous, .is-active-next",function(b){a.gestureLock||a.slideBy(e(b.currentTarget).hasClass("is-active-previous")?-1:1)})};b.prototype.relayout=function(){this.$el&&this.$el.is(":visible")&&(this.measure(),this.render())};b.prototype.render=function(a){var b=this;this.$slides.attr("aria-hidden","true");this.$slides.removeAttr("tabindex");void 0===a&&(a=!0);if(this.$content.children().length){var f=this.slideWidth[this.slideIndex],
g=this.getPageIndex();this.$currPageIndicator.html(g+1);this.$slides.eq(g).attr("aria-hidden","false");this.$slides.eq(g).attr("tabindex","0");var h=this.$el.find(".js-slider--btn-prev"),k=this.$el.find(".js-slider--btn-next"),p=function(){b.setFocus&&(d.focusFirst(b.$slides.eq(g)),b.setFocus=!1)};c(h,"is-disabled",0>=g);c(k,"is-disabled",g>=this.numPages-1);h.is(":button")&&h.prop("disabled",0>=g);k.is(":button")&&k.prop("disabled",g>=this.numPages-1);a?e({x:this.x}).stop().animate({x:-f},{duration:300,
step:function(a){b.move(a)},done:function(a){p()}}):(this.move(-f),p());this.markActiveChildren()}};b.prototype.move=function(a){this.x=a=Math.round(a);var b=this.$content.children();b.length&&(this.accelerated?b.css({transform:"translateX("+a+"px) translateZ(0)"}):Modernizr.csstransforms?b.css({transform:"translate("+a+"px,0px)"}):b.css({left:a}))};b.prototype.markActiveChildren=function(){this.$content.children().removeClass("is-active is-active-previous is-active-next").slice(this.getSlideIndex(),
this.getSlideIndex()+this.getSlidesPerPage()).addClass("is-active has-once-been-active");var a=this.getSlideIndex()-1,b=this.getSlideIndex()+1;0<=a&&this.$content.children().eq(this.getSlideIndex()-1).addClass("is-active-previous");b<=this.numSlides&&this.$content.children().eq(this.getSlideIndex()+1).addClass("is-active-next")};b.prototype.measure=function(){var a=this.$content.children();if(a.length){var b=a.first().position().left,c=0;this.slideWidth=[0];this.numSlides=a.length;for(var d=1;d<this.numSlides;d++)c=
a.eq(d).position().left-b,this.slideWidth.push(c);b=c/(this.numSlides-1);a.last().outerWidth(!0);a=this.$content.outerWidth(!0);this.slidesPerPage=Math.floor((a+1)/b);if(!this.slidesPerPage||1>this.slidesPerPage)this.slidesPerPage=1;this.setNumPages(Math.ceil(this.numSlides/this.slidesPerPage))}};b.prototype.slideBy=function(a){var b=this.getSlidesPerPage();this.slideTo(this.getSlideIndex()+a*b)};b.prototype.slideTo=function(a){var b=this.getSlidesPerPage();a=Math.round(a/b);a=Math.max(0,Math.min(this.numPages-
1,a));this.slideIndex=a*b;this.$content.children().css("transition","");this.setFocus=!0;this.render()};b.prototype.getSlideIndex=function(){return this.slideIndex||0};b.prototype.getPageIndex=function(){return Math.floor(this.slideIndex/this.numSlides*this.numPages)};b.prototype.getSlidesPerPage=function(){return this.slidesPerPage};b.prototype.setNumPages=function(a){if(this.numPages!==a&&(this.numPages=a,this.$indicators&&0<this.$indicators.length)){this.$indicators.children().remove();for(var b=
0;b<this.numPages;b++)a=this.$indicator.clone(),a.find("a").text(b+1),a.appendTo(this.$indicators)}};b.prototype._slideByHandler=function(a){var b=this;return function(c){c.preventDefault();b.gestureLock||b.slideBy(a)}};b.prototype._slideToHandler=function(a){var b=this;return function(c){c.preventDefault();b.gestureLock||(c=a||e(c.currentTarget).index()*b.getSlidesPerPage()||0,b.slideTo(c))}};b.prototype.touchmove=function(b,c){function f(f){var d=a.getEventPosition(f);if(d[O]!==r){r=p;p=d[O];if(!w)if(Math.abs(p-
k)>c.min)c.start&&c.start.call(b,0),e(b).on("click"+n,g),w=!0;else return;f.preventDefault();v=(new Date).getTime();c.step&&c.step.call(b,p-k)}}function d(a){if(w){a.preventDefault();var f=(new Date).getTime()-v,d=p-k;d=d/Math.abs(d)||0;0>(p-k)*(p-r)&&(d=0);f=Math.abs(p-r)/f*1E3;Math.abs(p-k)<c.size/2&&100>f&&(d=0);c.complete&&c.complete.call(b,d||0)}else c.complete&&c.complete.call(b,!1);h(a)}function g(a){a.preventDefault();a.stopPropagation()}function h(){e(document).off(n);w?setTimeout(function(){e(b).off(n)},
0):e(b).off(n);w=!1}var n=this.ns+"_drag",k,p,r,v,w;c=e.extend({min:5,direction:"x",size:c&&"y"===c.direction?b.clientHeight:b.clientWidth,start:null,step:null,complete:null},c);var O=c.direction;e(b).on(a.dragstart(this.ns),function(b){r=p=k=a.getEventPosition(b)[O];v=(new Date).getTime();e(document).on(a.dragmove(n,b),f);e(document).on(a.dragend(n,b),d)});e(b).css("-ms-touch-action","pan-y")};return b});p("lib/util/EventDispatcher",[],function(){function e(a,b){this.target=a;this.method=b}function k(a){var b=
a.indexOf(".");return 0<=b?{name:a.substr(0,b),ns:a.substr(b+1)}:{name:a,ns:"d_e_f_a_u_l_t"}}function a(a,b,c){for(var d=a.length-1;0<=d;d--)if(a[d].isEqual(b,c))return d;return-1}function d(c,b,d){if(c)if(d)d=a(c,b,d),0<=d&&c.splice(d,1);else for(d=c.length-1;0<=d;d--)b&&c[d].target!==b||c.splice(d,1)}function c(){}e.prototype.call=function(a,b){return"string"===typeof this.method?this.target[this.method].apply(this.target||b,a):this.method.apply(this.target||b,a)};e.prototype.isEqual=function(a,
b){return this.target===a&&this.method===b};c.prototype.addEventListener=function(c,b,d){c=k(c);"undefined"===typeof this.eventListeners&&(this.eventListeners={});"undefined"===typeof this.eventListeners[c.name]&&(this.eventListeners[c.name]={});"undefined"===typeof this.eventListeners[c.name][c.ns]&&(this.eventListeners[c.name][c.ns]=[]);c=this.eventListeners[c.name][c.ns];if(0>a(c,d,b)){var g=new e(d,b);c.push(g)}return g};c.prototype.removeEventListener=function(a,b,c){var g;"undefined"===typeof this.eventListeners&&
(this.eventListeners={});if(a){var f=k(a);a=f.name;var e=f.ns;if(!a&&e)for(g in this.eventListeners)d(this.eventListeners[g][e],c,b);else if(f=this.eventListeners[a],b||c)if("d_e_f_a_u_l_t"!==e)d(f[e],c,b);else for(g in f)d(f[g],c,b);else"d_e_f_a_u_l_t"!==e?f[e]=[]:this.eventListeners[a]={}}else for(g in this.eventListeners)this.removeEventListener(g,b,c)};c.prototype.removeAllEventListeners=function(a){"string"===typeof a?this.removeEventListener(a):this.removeEventListenersOf(a)};c.prototype.removeEventListenersOf=
function(a){this.removeEventListener(null,null,a)};c.prototype.trigger=function(a){var b,c=[];for(b=1;b<arguments.length;b++)c.push(arguments[b]);var d=!0;"undefined"===typeof this.eventListeners&&(this.eventListeners={});for(var f in this.eventListeners[a]){var e=this.eventListeners[a][f];for(b=e.length-1;0<=b;b--){var h=e[b].call(c,this);d&=!1!==h}}return d};return c});p("lib/util/DeferredState",["lib/util/EventDispatcher"],function(e){function k(a,c){a[c]=function(a,b){(a=this.addEventListener(c,
a,b))&&c==this.state&&a.call([this.state],this);return this}}function a(a){this.___states=[];if(a)for(var c=a.length-1;0<=c;c--)this.___states.push(a[c]),k(this,a[c])}a.prototype=new e;a.prototype.set=function(a){a!=this.state&&(this.state=a,this.trigger(this.state));return this};a.prototype.unlisten=function(a,c){"string"==typeof a||"function"==typeof a||c?this.removeEventListener(null,a,c):this.removeEventListenersOf(a)};return a});p("lib/util/DeferredBoolean",["lib/util/DeferredState"],function(e){function k(a){"undefined"!==
typeof a&&this.set(a)}k.prototype=new e(["yes","no"]);k.prototype._set=k.prototype.set;k.prototype.set=function(a){return this._set(a?"yes":"no")};k.prototype.get=function(a){return"yes"==this.state};k.prototype.then=k.prototype.yes;k.prototype.otherwise=k.prototype.no;return k});p("lib/browser/MediaDispatcher",["jquery","lib/util/DeferredBoolean"],function(e,k){function a(){for(var a=h.length-1;0<=a;a--)h[a].validate()}function d(a,b){this.name=a;this.index=b;this.isOrBelow=new k;this.isOrAbove=
new k;this.isExactly=new k}var c=e(window),h=[],b=new k(!1);new k(!0);c.resize(a);a();c=function(a){this.element=document.body;this.pseudo="after";this.mediaIndex=-1;this.triggerPoints=[];a&&this.setTriggerPoints(a);h.push(this);this.validate()};c.prototype.setTriggerPoints=function(a){this.triggerPoints=[];this.triggerPoints.push(new d("default",0));for(var b=0;b<a.length;b++)this.triggerPoints.push(new d(a[b],this.triggerPoints.length))};c.prototype.is=function(a,b){return this._is(a,0,"isExactly",
b)};c.prototype.isOrAbove=function(a,b){return this._is(a,0,"isOrAbove",b)};c.prototype.isOrBelow=function(a,b){return this._is(a,0,"isOrBelow",b)};c.prototype.isAbove=function(a,b){return this._is(a,-1,"isOrAbove",b)};c.prototype.isBelow=function(a,b){return this._is(a,1,"isOrBelow",b)};c.prototype._is=function(a,c,f,d){var e=this._getTrigger(a);if(!e)throw Error("Media Trigger point '"+a+"' doesn't exist.");c&&(e=this.triggerPoints[e.index+c]);a=e?e[f]:b;d&&a.then(d);return a};c.prototype._getTrigger=
function(a){for(var b=this.triggerPoints.length-1;0<=b;b--)if(this.triggerPoints[b].name===a)return this.triggerPoints[b];return null};c.prototype._setMediaIndex=function(a){if(a!==this.mediaIndex)for(this.mediaIndex=a,a=this.triggerPoints.length-1;0<=a;a--){var b=this.triggerPoints[a];b.isOrBelow.set(a<=this.mediaIndex);b.isExactly.set(a===this.mediaIndex);b.isOrAbove.set(a>=this.mediaIndex)}};c.prototype._setMedia=function(a){for(var b=this.triggerPoints.length-1;0<b;b--)if(this.triggerPoints[b].name===
a){this._setMediaIndex(b);return}this._setMediaIndex(0)};c.prototype.validate=function(a){var b;window.getComputedStyle&&(b=window.getComputedStyle(this.element,":"+this.pseudo).getPropertyValue("content").replace(/['"]+/g,""));b||(b=this.getFallback());this._setMedia(b)};c.prototype.unlisten=function(a,b){for(var c=this.triggerPoints.length-1;0<=c;c--){var d=this.triggerPoints[c];d.isExactly.unlisten(a,b);d.isOrAbove.unlisten(a,b);d.isOrBelow.unlisten(a,b)}};c.prototype.getFallback=function(){this.$fallback||
(this.$fallback=e('\x3cdiv class\x3d"media-dispatcher-fallback"\x3e\x3c/div\x3e'),this.$fallback.css({position:"absolute",left:-1E3}),this.$fallback.appendTo("body"));var a=parseInt(this.$fallback.css("margin-bottom"),10);return(a=this.triggerPoints[a])?a.name:"unknown"};return c});p("app/plugins/mediaDispatcher",["lib/browser/MediaDispatcher"],function(e){return new e(["tablet","tablet-portrait","mobile","mobile-portrait"])});p("app/modules/various/BreakpointLink",["jquery","app/modules/BaseModule",
"app/plugins/mediaDispatcher"],function(e,k,a){function d(){this.ns=k.ns("BreakpointLink")}d.prototype.init=function(c){var d=c.getAttribute("href"),b=c.getAttribute("data-href-mobile");this.setMobileHref=function(){c.setAttribute("href",b)};this.setDesktopHref=function(){c.setAttribute("href",d)};a.isOrBelow("mobile").then(this.setMobileHref).otherwise(this.setDesktopHref);return this};d.prototype.destroy=function(){a.unlisten(this.setMobileHref);a.unlisten(this.setDesktopHref)};return d});p("app/modules/various/ModalDialog",
["jquery","app/modules/BaseModule","lib/browser/KeyCode","lib/browser/Accessibility"],function(e,k,a,d){function c(){this.ns=k.ns("ModalDialog")}c.prototype=new k;c.prototype.init=function(a){this.$el=e(a);this.id=a.id;this.bgTemp="bgClick";this.bindEvents();return this};c.prototype.bindEvents=function(){var a=this;this.on(document,"click"+this.ns,".js-modal_dialog-trigger",function(b){b.currentTarget.getAttribute("data-target")===a.id&&(b.preventDefault(),a.open())});this.on("click",".js-modal_dialog-close",
this.close);this.on(document,"keydown"+this.ns,this.onKeydown.bind(this))};c.prototype.open=function(){document.documentElement.classList.add("has-modal-dialog");this.$el.addClass("is-open");this.$el.on("click.temp",".js-modal_dialog-bg",this.close.bind(this));d.focusFirst(this.$el.find(".js-modal_dialog-body"))};c.prototype.close=function(){document.documentElement.classList.remove("has-modal-dialog");this.$el.removeClass("is-open");this.$el.off("click.temp")};c.prototype.onKeydown=function(c){c.keyCode==
a.ESC&&(this.close(),c.preventDefault())};return c});p("app/modules/various/Autofocus",["jquery","app/modules/BaseModule","lib/browser/Accessibility"],function(e,k,a){function d(){this.ns=k.ns("Autofocus")}d.prototype=new k;d.prototype.init=function(c){this.$el=e(c);a.focus(this.$el);if("keepfocus"==this.$el.data("autofocus"))this.on(document,"focusin",this.bind(function(c){var b=this.$el[0];b&&!b.contains(c.target)&&(c.stopPropagation(),a.focus(this.$el))}));return this};return d});p("lib/animation/scrollToView",
["jquery","lib/browser/ScrollParent","lib/animation/Easing"],function(e,k){return function(a,d){d=e.extend({forceTopAlign:!1,align:"top",marginTop:0,marginBottom:0,animation:{duration:250},delay:0},d);var c=e(a);a=c.get(0);var h=new k(a),b=h.scrollTop(),g=h.getHeight(),n=1E9,f=0;c.each(function(){var b=h.getOffset(a),c=b+e(this).outerHeight();b<n&&(n=b);c>f&&(f=c)});var l=-1,t=-1;c=-1;n<b&&(l=n-d.marginTop);f>b+g&&(t=f-g-d.marginBottom);d.forceTopAlign?c=n:"bottom"===d.align?c=0<=t?t:l:"top"===d.align&&
(c=0<=l?n:Math.min(n-d.marginTop,t));if(0>c)return!1;d=e.extend({delay:d.delay},d.animation);h.scrollTo(c,d)}});p("app/modules/various/ItemVisible",["jquery","app/modules/BaseModule","lib/animation/scrollToView"],function(e,k,a){var d=[{jsHook:"js-collapsible",open:function(b,c,d){window.scrollTo(0,50);var f=window.performance.now()+1E4,e=function(c){c<=f&&(window.pf&&window.pf.ui&&window.pf.ui.getCollapsible(b)?(c=window.pf.ui.getCollapsible(b),c.$el.hasClass("is-opened")?a(d||b,{forceTopAlign:!0}):
c.open(function(){setTimeout(function(){a(d||b,{forceTopAlign:!0})},250)},!0,!0)):requestAnimationFrame(e))};requestAnimationFrame(e)}},{jsHook:"js-scrollslider",open:function(b,c){50>=window.scrollY&&window.scrollTo(0,50);c=e(b).find("#"+c).closest("th");var d=c.prevAll(".visuallyhidden"),f=c.index();0<d.length&&(f-=d.length);var g=window.performance.now()+1E4,h=function(c){c<=g&&(window.pf&&window.pf.ui&&window.pf.ui.getScrollSlider(b)?setTimeout(function(){a(b);window.pf.ui.getScrollSlider(b).scrollBy(-9999,
!0);0<f&&window.pf.ui.getScrollSlider(b).scrollBy(f)},350):requestAnimationFrame(h))};requestAnimationFrame(h)}}],c=function(){this.ns=k.ns("ItemVisible");this.storeInstance=!1};c.prototype=new k;var h=c.prototype.init;c.prototype.init=function(a){h.call(this,a);this.checkForHash(a);this.on(document,"click."+this.ns,function(b){"A"===b.target.tagName&&b.target.getAttribute("href")===window.location.hash&&(b.preventDefault(),b.stopPropagation(),this.checkForHash(a))});this.on(window,"hashchange",function(b){b.preventDefault();
this.checkForHash(a)}.bind(this));return this};c.prototype.checkForHash=function(a){var b=window.location.hash.substr(1)||void 0;if(b&&1===e(a).find("#"+b).addBack("#"+b).length){var c=e(a).find("#"+b)[0];this.activateItem(a,b,c)}};c.prototype.activateItem=function(a,c,e){for(var b=d.length;b--;)if(a.classList.contains(d[b].jsHook)){d[b].open(a,c,e);break}};c.prototype.destroy=function(){};return c});p("lib/util/Capabilities",[],function(){var e=!!window.navigator.msPointerEnabled,k=window.PointerEvent,
a="ontouchstart"in window||e||k;Capabilities={touch:a};Capabilities.TOUCHSTART=k?e?"MSPointerDown":"pointerdown":"touchstart";Capabilities.TOUCHMOVE=k?e?"MSPointerMove":"pointermove":"touchmove";Capabilities.TOUCHEND=k?e?"MSPointerUp":"pointerup":"touchend";Capabilities.DRAGSTART=a?Capabilities.TOUCHSTART:"mousedown";Capabilities.DRAGMOVE=a?Capabilities.TOUCHMOVE:"mousemove";Capabilities.DRAGEND=a?Capabilities.TOUCHEND:"mouseup";return Capabilities});p("lib/browser/prepareTransition",["jquery"],function(e){return function(k,
a,d){function c(a,c){for(var b=0,f=0,d=c.length;f<d;f++){var e=parseFloat(a.css(c[f]));e&&e>b&&(b=1E3*e)}return b}var h={deepSearch:!1,callback:void 0};"boolean"===typeof a?(h.deepSearch=a,h.callback=d):"function"===typeof a?(h.callback=a,h.deepSearch=d):e.extend(h,a);return k.each(function(){var a=e(this),d=["transition-duration","-webkit-transition-duration","-o-transition-duration"],k=0;k=c(a,d);if(h.deepSearch)for(var f=a.find("*"),l=0,t=f.length;l<t;l++)k=Math.max(k,c(f.eq(l),d));0!==k?(a.addClass("is-transitioning"),
a[0].offsetWidth,(d=a.data("transition-timeout"))&&clearTimeout(d),k=setTimeout(function(){a.removeClass("is-transitioning");h.callback&&h.callback.call()},k),a.data("transition-timeout",k)):h.callback&&h.callback.call()})}});p("app/modules/various/ContentOverlay","jquery app/modules/BaseModule lib/util/Templates lib/util/Capabilities lib/browser/KeyCode lib/browser/Accessibility lib/browser/prepareTransition".split(" "),function(e,k,a,d,c,h,b){function g(){this.ns=k.ns("ContentOverlay");this.nstemp=
this.ns+"_temp"}g.prototype=new k;g.prototype.init=function(a){this.$el=e(a);this.initVariables();this.bindUIActions();return this};g.prototype.initVariables=function(){this.target=this.$el.data("target");"#"===this.target.charAt(0)&&(this.inline=!0,this.$flyout=e(this.target),this.$flyout.addClass("is-inline"))};g.prototype.bindUIActions=function(){this.$el.on("click"+this.ns,this.bind(this.toggleOverlay));e(window).on("resize"+this.ns,this.bind(this.positionTooltip))};g.prototype.toggleOverlay=
function(a){a.preventDefault();this.visible?this.closeOverlay():this.prepareOverlay()};g.prototype.prepareOverlay=function(){var b=this;this.$el.attr("aria-expanded","true").addClass("is-active");if(!this.visible)if(this.inline)this.openOverlay();else if(!this.$flyout){var c=e("body");this.$xhr&&this.$xhr.abort();this.$xhr=e.ajax({type:"GET",url:this.target,dataType:"html",success:function(f){f=e(f).find(".js-content_overlay_body");b.$flyout=e(a.render("template-content-overlay",{id:"",content:f.html()}));
b.$flyout.appendTo(c);b.openOverlay()}})}};g.prototype.openOverlay=function(){this.$closeBtn=this.$flyout.find(".js-content_overlay_flyout--close_btn");this.visible=!0;this.positionTooltip();b(this.$flyout).addClass("is-active");this.initOverlayUIActions()};g.prototype.initOverlayUIActions=function(){var a=this;this.$closeBtn.on("click"+this.nstemp,this.bind(this.closeOverlay));e(document).on("keydown"+this.nstemp,this.bind(this.keydownHandler));e(document).on(d.DRAGSTART+this.nstemp,function(b){e.contains(a.$flyout[0],
b.target)||a.$flyout.is(e(b.target))||a.$el.is(e(b.target))||a.closeOverlay()});this.releaseFocus=h.keepFocus(this.$flyout,!0);h.focusFirst(this.$flyout)};g.prototype.closeOverlay=function(){var a=this;this.$el.attr("aria-expanded","false").removeClass("is-active");this.visible=!1;e(document).off(this.nstemp);this.$closeBtn.off(this.nstemp);this.inline?b(this.$flyout).removeClass("is-active"):b(this.$flyout,function(){a.$flyout.remove();this.$closeBtn=a.$flyout=null}).removeClass("is-active");this.releaseFocus&&
this.releaseFocus();this.$el.focus()};g.prototype.positionTooltip=function(){if(this.visible){var a=e(window),b=a.width();a.height();var c=a.scrollLeft();a.scrollTop();a=this.inline?this.$el.position():this.$el.offset();var d=a.left-c,g=this.$el.outerWidth(!0);c=this.$el.outerHeight();var h=this.$flyout.outerWidth(!0);this.$flyout.outerHeight(!0);var k=0,p="auto";this.$flyout.css({left:Math.round(0),right:Math.round(p)});this.$el.offset().left+h+g>b?(b=d,p=20):b=d+g;k+=a.top+c;this.$flyout.css({top:Math.round(k),
left:Math.round(b),right:p})}};g.prototype.keydownHandler=function(a){a.keyCode==c.ESC&&(this.closeOverlay(),a.preventDefault())};return g});p("app/modules/various/LightboxState",["jquery","lib/browser/KeepFocus"],function(e,k){function a(){this.ns=".Lightbox"}a.prototype.init=function(d){a.validate();var c=e(d),h=null;c.find(".js-lightbox--container").on("scroll"+this.ns,function(a){a=0<e(a.currentTarget).scrollTop();h!==a&&(c[a?"addClass":"removeClass"]("has-scroll"),h=a)});return this};a.prototype.destroy=
function(){a.validate()};a.validate=function(){var a=e(".js-lightbox:not(.is-hidden-end)");this.focusKeeper&&(this.focusKeeper.release(),this.focusKeeper=null);0===a.length?e("html").removeClass("has-lightbox"):(e("html").addClass("has-lightbox"),this.focusKeeper=new k,this.focusKeeper.keep(a.last()))};e(document).on("close",".js-lightbox",function(){a.validate()});return a});p("app/modules/various/ResponsiveImage",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("ResponsiveImage")}
a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);if(""===this.$el.data("sizes"))return this;if(!this.check())this.on(window,"resize",this.check);return this};a.prototype.check=function(){return this.$el.get(0).offsetParent?(this.off(),this.validate(),!0):!1};a.prototype.validate=function(){function c(a){function c(){var b=document.createEvent("CustomEvent");b.initCustomEvent("imageLoad:placeholder",!1,!1,{el:d.get(0),imageData:a});window.dispatchEvent(b)}d.on("error",function(){c()});
b?d.attr("src",a.src):(d.css("background-image",'url("'+a.src+'")'),c())}var d=this.$el,b=this.$el.is("img"),e=this.$el.data("sizes")||"",k=a._getMinimumWidth(this.$el);try{var f=a.findBestImage(e,k,{returnInfo:!0});c(f)}catch(l){void 0}};a._getMinimumWidth=function(c){if(c.is("img"))return c.parent().width();var d=c.data("sizes")||"",b=c.outerWidth(),e=c.css("background-size");if("cover"!==e&&"auto"!==e)return b;c=c.outerHeight();d=a.parseSizes(d)[0];return d.width*Math.max(b/d.width,c/d.height)};
a.parseSizes=function(a){var c=/(\d+)x(\d+):(\S+)/g;a=a||"";for(var b=[],d;d=c.exec(a);)b.push({width:parseInt(d[1],10),height:parseInt(d[2],10),src:d[3]});b.sort(function(a,b){return a.width-b.width});return b};var d={returnInfo:!1,minimalSize:1,optimalSize:1.5};a.findBestImage=function(c,h,b){b=e.extend({},d,b);if(!c)return!1;"string"===typeof c&&(c=a.parseSizes(c));var g=h*b.minimalSize;h*=b.optimalSize;for(var k=c[0],f=Math.abs(c[0].width-h),l=1;l<c.length;l++){var t=c[l].width;if(Math.abs(t-
h)<f||k.width<g)k=c[l],f=Math.abs(t-h);else break}return b.returnInfo?k:k.src};return a});p("app/modules/various/ScrollSlider",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("ScrollSlider")}a.prototype=new k;var d=a.prototype.destroy;a.prototype.init=function(a){this.$el=e(a);this.$scrollView=this.$el.find(".js-scrollslider--area");this.$scrollView.length||(this.$scrollView=this.$el);this.invalidate();this.on(window,"resize",this.invalidate);this.$scrollView.on("scroll",
this.bind(this.validateScroll));this.on("click",".js-scrollslider--left",this.scrollToLeft);this.on("click",".js-scrollslider--right",this.scrollToRight);return this};a.prototype.destroy=function(){clearTimeout(this.delayedValidationTimeout);this.$scrollView=null;d.call(this)};a.prototype.invalidate=function(){this.validate();clearTimeout(this.delayedValidationTimeout);this.delayedValidationTimeout=setTimeout(this.bind(function(){this.delayedValidationTimeout=null;this.validate()}),1E3)};a.prototype.validate=
function(){if(this.$el&&this.$scrollView){var a=this.$scrollView.get(0);(this.hasScroll=a.scrollWidth>a.clientWidth)?(this.$el.addClass("has-scroll"),this.validateScroll()):this.$el.removeClass("has-scroll has-leftscroll has-rightscroll")}};a.prototype.validateScroll=function(){if(this.hasScroll){var a=this.$scrollView.get(0),d=a.scrollLeft;a=a.scrollWidth-a.clientWidth-1;1>=d?this.$el.removeClass("has-leftscroll"):this.$el.addClass("has-leftscroll");d>=a?this.$el.removeClass("has-rightscroll"):this.$el.addClass("has-rightscroll")}};
a.prototype.scrollBy=function(a,d){var b=this.$scrollView.get(0),c=this.$el.data("scroll-page-width")||b.clientWidth,e=Math.round(b.scrollLeft+a*c);c=b.scrollWidth-b.clientWidth;var f=b.scrollLeft+b.clientWidth/2,h,k=Number.MAX_VALUE,u=this.$el.find("tbody \x3e tr:first-child \x3e *"),p=this.$el.find("thead \x3e tr:first-child \x3e *");p.length&&u.length!==p.length&&(u=this.$el.find("thead \x3e tr:first-child \x3e *:not(.visuallyhidden)"));var r=[];u.length&&(u.each(function(){var a=this.offsetLeft+
this.offsetWidth/2;r.push(a);a=Math.abs(a-f);a<k&&(k=a,h=this)}),e=u.index(h),e=Math.min(u.length-1,Math.max(0,e+a)),1<a&&(e=Math.min(u.length-1,Math.max(0,a))),e=b.scrollLeft+r[e]-f);0>e&&(e=0);e>c&&(e=c);this.$scrollView.animate({scrollLeft:e},{duration:d?0:300})};a.prototype.scrollToLeft=function(a){a&&a.preventDefault();this.scrollBy(-1)};a.prototype.scrollToRight=function(a){a&&a.preventDefault();this.scrollBy(1)};return a});p("app/modules/various/ScrollSync",["jquery","app/modules/BaseModule"],
function(e,k){function a(){this.ns=k.ns("ScrollSync")}var d={mode:"one-way"};a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);this.options=e.extend({},d,this.$el.data("scroll-sync-options"));a=this.$el.data("scroll-sync-targets");this.$targets=e(a);this.bindScrollListener();return this};a.prototype.bindScrollListener=function(){this.on("scroll",this.onScroll);this.on(window,"resize",this.onWindowResize);if("two-way"===this.options.mode)this.$targets.on("scroll"+this.ns,this.bind(this.onScroll))};
a.prototype.onScroll=function(a){a=e(a.currentTarget);this.updateScroll(a)};a.prototype.updateScroll=function(a){var c=a.scrollLeft(),b=a.scrollTop();this.$targets.scrollLeft(c);this.$targets.scrollTop(b);a.is(this.$el)||(this.$el.scrollLeft(c),this.$el.scrollTop(b))};a.prototype.onWindowResize=function(a){this.updateScroll(this.$el)};a.prototype.destroy=function(){this.$targets.off(this.ns);k.prototype.destroy.call(this)};return a});p("lib/animation/HeightAnimation",["jquery","lib/animation/Easing"],
function(e){function k(a,d){a&&this.init(a);this.options=d||{}}k.prototype.init=function(a){this.$el=e(a);this.$el.stop().css({overflow:"",height:""});this.heightBefore=this.$el.outerHeight()};k.prototype.complete=function(a){var d=this.$el,c=this.heightBefore,h=this.$el.outerHeight(),b=e.extend({duration:250,easing:"easeInOutQuart"},this.options,{complete:function(){d.css({overflow:"",height:""});a&&"function"===typeof a&&a()}});c!==h&&(this.$el.css({overflow:"hidden",height:c}),this.$el.stop().delay(b.delay||
0).animate({height:h},b))};return k});p("app/modules/various/Collapsible","jquery app/modules/BaseModule app/plugins/mediaDispatcher lib/animation/HeightAnimation lib/animation/scrollToView lib/browser/Accessibility".split(" "),function(e,k,a,d,c){function h(){this.ns=k.ns("Collapsible")}var b={deviceMin:!1,deviceMax:!1};h.prototype=new k;h.prototype.init=function(c){var d=this;this.$el=e(c);this.id=c.id;this.options=e.extend(b,this.$el.data("collapsible-options"));this.getToggleElement();this.getContainerElement();
this.options.deviceMin&&this.options.deviceMax?a.isOrBelow(d.options.deviceMax).then(function(){a.isOrAbove(d.options.deviceMin).then(function(){d.enable()}).otherwise(function(){d.disable()})}).otherwise(function(){d.disable()}):this.enable();return this};h.prototype.enable=function(){this.$el.hasClass("is-disabled")||(this.bindListeners(),this.$toggle.attr("aria-expanded","false"),this.validate())};h.prototype.disable=function(){this.enabled=!1;this.$el.removeClass("is-opened");this.$toggle.removeClass("is-opened").removeAttr("aria-expanded");
this.$container.removeClass("is-opened");this.$el.off(this.ns)};h.prototype.validate=function(){this.$toggle.is('input[type\x3d"checkbox"], input[type\x3d"radio"]')&&this.$toggle.prop("checked")&&this.$toggle.trigger("click")};h.prototype.bindListeners=function(){this.on("click",".js-collapsible--toggle",this.onToggleClick);this.on("close",this.close)};h.prototype.onToggleClick=function(a){this.$toggle.is('input[type\x3d"checkbox"], input[type\x3d"radio"]')||(a.preventDefault(),a.stopPropagation());
this.$toggle.hasClass("is-opened")&&!this.$toggle.is('input[type\x3d"radio"]')?this.close():this.open()};h.prototype.close=function(a){var b=new d(this.$el,{duration:250});this._close();b.complete(a)};h.prototype._close=function(a){this.$el.removeClass("is-opened");this.$toggle.removeClass("is-opened").attr("aria-expanded","false");this.$container.removeClass("is-opened")};h.prototype.open=function(a,b,f){var g=this.getGroup().filter(".is-opened"),h=new d(this.$el,{duration:f?10:250});if(g.length){var k=
new d(g,{duration:f?10:250,delay:150});(f=g.data("moduleInstance"))&&f._close()}this.$el.addClass("is-opened");this.$toggle.addClass("is-opened").attr("aria-expanded","true");this.$container.addClass("is-opened");b||c(this.$el,{delay:100});k&&k.complete();h.complete(function(){a&&a()});e(window).trigger("resize")};h.prototype.getGroup=function(){var a=this.$el.data("collapsible-group");return a?e('[data-collapsible-group\x3d"'+a+'"]'):e([])};h.prototype.getToggleElement=function(){return this.$toggle||
(this.$toggle=e(this.$el.find(".js-collapsible--toggle, .js-collapsible--toggle-dummy")[0]))};h.prototype.getContainerElement=function(){return this.$container||(this.$container="undefined"!==typeof this.options.containerId?e("#"+this.options.containerId):e(this.$el.find(".js-collapsible--container")[0]))};return h});p("app/modules/various/Closable",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("Closable")}a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);
this.keepClosed=Number(this.$el.data("rememberclose"));this.on("click",".js-closable--close",function(a){this.close()});this.keepClosed&&!this.hasTimeout()&&this.open();return this};a.prototype.close=function(){this.$el.slideUp("fast");this.keepClosed&&this.setTimeout()};a.prototype.open=function(){this.$el.slideDown()};a.prototype.getStorageId=function(){return this.$el.attr("id")+"_close_timeout"};a.prototype.setTimeout=function(){var a=this.getStorageId(),c=window.localStorage;if(c){var e=new Date((new Date).getTime()+
1E3*this.keepClosed);c.setItem(a,e.getTime())}};a.prototype.hasTimeout=function(){var a=this.getStorageId(),c=window.localStorage;if(!c)return!1;var e=c.getItem(a);return e?e<(new Date).getTime()?(c.removeItem(a),!1):!0:!1};return a});p("lib/util/QueueBuffer",[],function(){var e=function(e,a){var d={},c;for(c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d};return function(k){k=e({processQueueOption:"firstComesFirst"},k);var a=[],d=!0,c=function(){if(0===
a.length)d=!0;else if("firstComesFirst"===k.processQueueOption){var b=a[0];h(b)}else"lastComesFirst"===k.processQueueOption?(b=a.length-1,b=a[b],h(b)):"onlyConsiderLast"===k.processQueueOption&&(b=a.length,1<b&&a.splice(0,b-1),b=a[0],h(b))},h=function(b){d=!1;var e=a.indexOf(b);a.splice(e,1);b.fn.apply(void 0,[c].concat(b.args))};return{add:function(b,e){void 0===e&&(e=[]);a.push({fn:b,args:e});d&&c()},clear:function(){a=[]},moveOnNow:c}}});p("app/modules/content/Expandable",["jquery","lib/util/QueueBuffer",
"lib/animation/Easing","app/modules/BaseModule"],function(e,k,a,d){a=function(){this.ns=d.ns("Expandable");window.frank=this};a.prototype=new d;a.prototype.init=function(a){this.$el=e(a);this.$reducedContent=this.$el.find(".js-expandable_reduced_content");this.$expandedContent=this.$el.find(".js-expandable_expanded_content");this.$trigger=this.$el.find(".js-expandable_trigger");this.interactionQueue=new k({processQueueOption:"onlyConsiderLast"});this.bindUiActions();return this};a.prototype.bindUiActions=
function(){this.on(this.$trigger,"click",this.onTriggerClick);this.on("focusin",".js-expandable_expanded_content",function(){this.interactionQueue.add(function(a){this.isExpanded?a():this.expand(a)}.bind(this))});this.on("focusout",".js-expandable_expanded_content",function(){this.interactionQueue.add(function(a){this.isExpanded?this.reduce(a):a()}.bind(this))})};a.prototype.onTriggerClick=function(){this.interactionQueue.add(function(a){this.isExpanded?this.reduce(a):this.expand(a)}.bind(this))};
a.prototype.expand=function(a){this.$expandedContent.addClass("is-displayed");var c=this.$reducedContent.outerHeight(),b=this.$expandedContent.outerHeight();this.$expandedContent.css({"margin-top":"-"+c+"px",height:c+"px"});this.$expandedContent.addClass("is-visible");this.$reducedContent.addClass("is-invisible");this.animateHeight(b,function(){this.$reducedContent.addClass("is-hidden is-out_of_flow");this.$expandedContent.attr("style","");a()}.bind(this));this.isExpanded=!0;this.$el.addClass("is-expanded")};
a.prototype.reduce=function(a){this.$reducedContent.removeClass("is-hidden");var c=this.$reducedContent.outerHeight();this.$reducedContent.removeClass("is-invisible");this.$expandedContent.removeClass("is-visible");this.animateHeight(c,function(){this.$reducedContent.removeClass("is-out_of_flow");this.$expandedContent.removeClass("is-displayed");this.$expandedContent.attr("style","");a()}.bind(this));this.isExpanded=!1;this.$el.removeClass("is-expanded")};a.prototype.animateHeight=function(a,d){this.$expandedContent.animate({height:a},
{duration:600,easing:"bounceOut",complete:d})};return a});var ia=null;p("lib/net/YTiFrameAPILoader",["jquery"],function(e){ia||(ia=e.Deferred(),window.onYouTubeIframeAPIReady=function(){ia.resolve()},e.ajax({url:"//www.youtube.com/iframe_api",dataType:"script",success:function(){},error:function(){ia.reject()}}));return ia.promise()});var ja=null;p("lib/net/VimeoAPILoader",["jquery"],function(e){ja||(ja=e.Deferred(),e.ajax({url:"https://player.vimeo.com/api/player.js",dataType:"script",success:function(){ja.resolve()},
error:function(){ja.reject()}}));return ja.promise()});p("app/modules/content/ArticleVideo",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("ArticleVideo")}var d={};a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);this.$link=this.$el.find(".js-article_video--link");this.options=e.extend({},d,this.$el.data("article-video-options"));this.readInfosFromUrl(this.$link.attr("href"));if(this.id)return this.bindListeners(),this;void 0};a.prototype.bindListeners=function(){this.on("click",
".js-article_video--link",this.onLinkClick);this.on(document,"articleVideo_play",this.onArticleVideoPlay)};a.prototype.onArticleVideoPlay=function(a){a=e(a.target);this.isPlaying&&!a.is(this.$el)&&this.pauseVideo()};a.prototype.onLinkClick=function(a){a.preventDefault();this.loadVideo()};a.prototype.readInfosFromUrl=function(a){-1!==a.indexOf("youtu")&&(this.type="youtube",this.id=this.getYouTubeIDFromUrl(a)[1]);return!1};a.prototype.getYouTubeIDFromUrl=function(a){return a.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|&v(?:i)?=))([^#&\?]*).*/)};
a.prototype.getVimeoIDFromUrl=function(a){var c=!1;e.ajax({url:"https://vimeo.com/api/oembed.json?url\x3d"+a,type:"GET",async:!1,success:function(a){a.video_id&&(c=a.video_id)}});return c};a.prototype.playVideo=function(){this.player&&("youtube"===this.type?this.player.playVideo():"vimeo"===this.type&&this.player.play())};a.prototype.pauseVideo=function(){this.player&&("youtube"===this.type?this.player.pauseVideo():"vimeo"===this.type&&this.player.pause())};a.prototype.loadVideo=function(){"youtube"===
this.type?this.loadYouTube():"vimeo"===this.type&&this.loadVimeo()};a.prototype.loadYouTube=function(){var a=this;r(["lib/net/YTiFrameAPILoader"],function(c){c.done(function(){a.initYouTubeVideo()}).fail(function(){void 0})})};a.prototype.initYouTubeVideo=function(){var a=this.$el.find(".js-article_video--content");this.$el.addClass("is-ready");this.player=new window.YT.Player(a[0],{videoId:this.id,width:"640",height:"360",playerVars:{autoplay:1,playsinline:1,showinfo:0,fs:0,rel:0},events:{onStateChange:this.bind(this.onYTPlayerStateChange)}})};
a.prototype.onYTPlayerStateChange=function(a){if(a&&a.data)switch(a.data){case window.YT.PlayerState.PLAYING:this.onPlayVideo();break;case window.YT.PlayerState.PAUSED:this.onPauseVideo()}};a.prototype.onPlayVideo=function(){this.isPlaying=!0;this.$el.trigger("articleVideo_play");this.$el.find("iframe")[0].contentWindow.focus()};a.prototype.onPauseVideo=function(){this.isPlaying=!1};a.prototype.loadVimeo=function(){var a=this;r(["lib/net/VimeoAPILoader"],function(c){c.done(function(){a.initVimeoVideo()}).fail(function(){void 0})})};
a.prototype.initVimeoVideo=function(){var a=this.$el.find(".js-article_video--content");this.$el.addClass("is-ready");this.player=new window.Vimeo.Player(a[0],{id:this.id,width:640,height:360,loop:!0})};return a});p("vendor/debounce",[],function(){return function(e,k,a){function d(){var f=Date.now()-g;f<k&&0<=f?c=setTimeout(d,k-f):(c=null,a||(n=e.apply(b,h),b=h=null))}var c,h,b,g,n;null==k&&(k=100);var f=function(){b=this;h=arguments;g=Date.now();var f=a&&!c;c||(c=setTimeout(d,k));f&&(n=e.apply(b,
h),b=h=null);return n};f.clear=function(){c&&(clearTimeout(c),c=null)};f.flush=function(){c&&(n=e.apply(b,h),b=h=null,clearTimeout(c),c=null)};return f}});p("app/modules/content/ArticlePagination","jquery app/modules/BaseModule lib/net/HTMLLoader vendor/debounce lib/browser/ScrollParent lib/browser/Accessibility".split(" "),function(e,k,a,d,c,h){h=function(){this.ns=k.ns("ArticlePagination")};h.prototype=new k;h.prototype.init=function(b,c){c=c||{articles:[]};this.$el=e(b);this.loader=new a;this.$articleContainer=
this.$el.find(".js-container");this.$btnPrevious=this.$el.find(".js-previous");this.$btnNext=this.$el.find(".js-next");this.articles=this.$el.data("articles")||c.articles;this.currentIndex=-1;this.scrollParent=null;this.checkIsReadDebounced=d(this.checkIsRead.bind(this),80);if(!this.articles||1>this.articles.length)void 0;else return this.bindEvents(),requestAnimationFrame(function(){this.$el[0].hasAttribute("data-initial-index")?this.load(Number(this.$el[0].getAttribute("data-initial-index"))):this.load()}.bind(this)),
this};h.prototype.bindEvents=function(){this.on(this.$btnPrevious[0],"click",this.previous.bind(this));this.on(this.$btnNext[0],"click",this.next.bind(this))};h.prototype.checkIsRead=function(){var a=this.$articleContainer[0];a.getBoundingClientRect().top+a.getBoundingClientRect().height<=0+window.innerHeight&&(this.unbindScrollEvents(),this.$el.trigger("articleRead",this.currentIndex))};h.prototype.next=function(){this.currentIndex++;this.load(this.currentIndex)};h.prototype.previous=function(){this.currentIndex--;
this.load(this.currentIndex)};h.prototype.update=function(){0===this.currentIndex?this.$btnPrevious.prop("disabled",!0):this.$btnPrevious.prop("disabled",!1);this.currentIndex===this.articles.length-1?this.$btnNext.prop("disabled",!0):this.$btnNext.prop("disabled",!1)};h.prototype.bindScrollEvents=function(){this.scrollParent=new c(this.$el[0]);this.scrollParent.$scrollParent.on("scroll",this.checkIsReadDebounced)};h.prototype.unbindScrollEvents=function(){this.scrollParent&&this.scrollParent.$scrollParent.off("scroll",
this.checkIsReadDebounced)};h.prototype.load=function(a){void 0===a&&(a=0);this.$el.trigger("articleLoading");this.$el.addClass("is-loading");this.unbindScrollEvents();this.loader.load(this.articles[a],function(b){this.$articleContainer.html(b);this.currentIndex=a;this.update();setTimeout(function(){this.$el.trigger("articleLoaded");this.$el.removeClass("is-loading");this.bindScrollEvents();this.checkIsReadDebounced()}.bind(this),200)}.bind(this))};return h});p("lib/util/LocalStorageHelper",[],function(){return{get:function(e,
k){e=localStorage.getItem(e);e="string"===typeof e?JSON.parse(e):void 0;return"undefined"===typeof e?k:e},set:function(e,k){localStorage.setItem(e,JSON.stringify(k))}}});p("app/modules/content/LearningPathSteps",["jquery","app/modules/BaseModule","app/plugins/LightboxFactory","app/modules/content/ArticlePagination","lib/util/LocalStorageHelper"],function(e,k,a,d,c){function h(){this.ns=k.ns("LearningPathSteps")}h.prototype=new k;h.prototype.init=function(a){this.$el=e(a);this.$steps=this.$el.find(".js-learning_path_step");
this.lightbox=this.articlePaginationEl=null;this.articlesList=[];void 0===c.get("pf-read-articles")&&c.set("pf-read-articles",[]);this.readArticles=c.get("pf-read-articles");this.getPaginationDOM();this.markReadArticles();this.createArticlesList();this.bindEvents();return this};h.prototype.markReadArticles=function(){this.$steps.each(function(a,c){a=c.getAttribute("data-article-id");-1<this.readArticles.indexOf(a)&&c.classList.add("is-read")}.bind(this))};h.prototype.getPaginationDOM=function(){var a=
document.getElementById(this.$el[0].getAttribute("data-article-pagination")),c=document.createElement("div");c.innerHTML=a.innerHTML;this.articlePaginationEl=c.querySelector(".js-article_pagination")};h.prototype.bindEvents=function(){this.on("click",".js-learning_path_step",this.openLightbox.bind(this))};h.prototype.createArticlesList=function(){this.articlesList=this.$steps.map(function(a,c){return c.href})};h.prototype.openLightbox=function(b){b.preventDefault();var e=this;b=Number(b.currentTarget.getAttribute("data-article-step"))-
1;var h=new d;this.articlePaginationEl.setAttribute("data-initial-index",b.toString());this.lightbox=a.show(this.articlePaginationEl);b=this.lightbox.getElement();h.init(this.articlePaginationEl,{articles:this.articlesList});h.on("articleLoading",function(){e.lightbox.setLoadingState(!0)});h.on("articleLoaded",function(){e.lightbox.setLoadingState(!1);var a=document.createEvent("CustomEvent");a.initCustomEvent("lightbox:loaded",!1,!1,{content:e.lightbox.$el.find(".js-lightbox--content").get(0)});
window.dispatchEvent(a)});h.on("articleRead",function(a,b){a=e.$steps[b].getAttribute("data-article-id");0>e.readArticles.indexOf(a)&&(e.readArticles.push(e.$steps[b].getAttribute("data-article-id")),c.set("pf-read-articles",e.readArticles));e.markReadArticles()});b.on("close",function(){h.destroy()})};return h});p("app/modules/content/MasonryGrid",["jquery","app/modules/BaseModule","lib/animation/AnimationFrame"],function(e,k,a){function d(){this.ns=k.ns("MasonryGrid")}d.prototype=new k;d.prototype.init=
function(a){this.$el=e(a);this.on(window,"resize",this.invalidate);this.$el.find("img").on("load",this.bind(this.invalidate));this.on("update",function(){this.invalidate();this.$el.find("img").on("load",this.bind(this.invalidate))});this.validate();return this};d.prototype.invalidate=function(){a.cancel(this.validationTimeout);this.validationTimeout=a.request(this.bind(this.validate))};d.prototype.validate=function(){var a=this.$el.find(".js-masonry_grid--item"),d={},b=[];if(a.length){var g=0;a.each(function(){var a=
e(this),c={};c.top=Math.round(this.offsetTop);c.left=Math.round(this.offsetLeft);var d=a.outerHeight(!0),g=a.height();a=a.children().outerHeight();c.height=Math.round(d-g+a);b.push(c)});var k=b[0].top;a.each(function(a){var c=e(this);a=b[a];var f=a.left;if(a.top>k){var h=1E13;for(n in d)d[n]<h&&(h=d[n],f=n)}else d[f]=k;var n=d[f];c.css({transform:"translate("+(f-a.left)+"px,"+(n-a.top)+"px)"});n+=a.height;n>g&&(g=n);d[f]=n});this.$el.css("height",g-k)}};return d});p("app/util/DOMUtil",["jquery"],
function(e){function k(a,h){a||(a=e(":focus"));var b=e(a),c=b.parents("form").first();c.length||(c=e("body"));var k=c.find("input:visible, select:visible, textarea:visible, button:visible");k.filter(function(a){if(0<=e(this).attr("tabindex"))return!0});var f=k.index(a);0>f||(f+=h,0<=f&&f<k.length?(b.blur(),k.eq(f).focus(),d||setTimeout(function(){k.eq(f).focus()},10)):b.blur())}function a(c){c=e(c.currentTarget);c.removeAttr("tabindex");c.off("blur",a)}var d="ontouchstart"in window;return{focusNextInput:function(a){k(a,
1)},focusPrevInput:function(a){k(a,-1)},focus:function(c){c=e(c);c.attr("tabindex")||(c.attr("tabindex","-1"),c.on("blur",a));focus(c[0])},jsondata:function(a,d){a=e(a).data(d);"string"==typeof a&&(a=a.replace(/'(.+?)':\s*'(.+?)'/g,'"$1":"$2"'),a=JSON.parse(a));return a}}});p("app/modules/content/ListFilter",["jquery","app/modules/BaseModule","lib/browser/KeyCode","app/util/DOMUtil"],function(e,k,a,d){function c(){this.ns=k.ns("ListFilter")}c.prototype=new k;c.prototype=new k;c.prototype.init=function(a){this.$el=
e(a);this.on("focus",this.bind(this.startInteraction));this.isEventsBinded=!1;return this};c.prototype.startInteraction=function(){var a;this.options=this.options||d.jsondata(this.$el,"list_filter")||{};if(!this.options.target||0===(a=e(this.options.target)).length)throw Error("Missing list filter target.");void 0===this.$resetBtn&&(this.$textInputNarrow=this.$el.parents(".pf-form_input"),this.$resetBtn=this.$el.siblings(".js-list_filter--reset_btn"));this.isEventsBinded||this.bindUIEvents();this.$items=
a.find("\x3eli, \x3etr, \x3etbody\x3etr");this.invalidate()};c.prototype.bindUIEvents=function(){this.on("blur",this.bind(this.endInteraction));this.on("change",this.bind(this.invalidate));this.on("keyup",this.bind(this.invalidate));this.on("keydown",this.bind(function(c){c.keyCode==a.ENTER?(c.preventDefault(),this.$el.blur()):this.invalidate(c)}));this.$resetBtn.on("click",this.bind(this.clearField));this.isEventsBinded=!0};c.prototype.endInteraction=function(){this.off(this.ns);this.$items=null;
this.isEventsBinded=!1;this.on("focus",this.bind(this.startInteraction))};c.prototype.invalidate=function(){clearTimeout(this.timeout);this.timeout=setTimeout(this.bind(this.validate),100)};c.prototype.clearField=function(){this.$el.val("");this.$resetBtn.removeClass("is-active");this.$textInputNarrow.removeClass("text_input-has_value");this.$el.focus()};c.prototype.validate=function(){var a=this.$el.val().toLowerCase(),b=this.$textInputNarrow.find(".js-list_filter--append_text");if(a!=this.lastValue){this.lastValue=
a;var c=[e.trim(a)];if(null!=this.$items){var d=this.$items.length;this.$items.css("display","");a?(this.$resetBtn.addClass("is-active"),this.$items.each(function(){for(var a=e(this),b=a.text().toLowerCase(),g,h=0;h<c.length;h++)if(g=c[h],0>b.indexOf(g)){a.css("display","none");d--;break}}),this.$textInputNarrow.find(".js-list_filter--count").text(d+" ").append(b.clone())):(this.$textInputNarrow.find(".js-list_filter--count").text("").append(b.clone()),this.$resetBtn.removeClass("is-active"))}}};
return c});(function(e,k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof p&&p.amd?p("vendor/es6-promise-polyfill",k):e.ES6Promise=k()})(this,function(){function e(){return function(){return process.nextTick(h)}}function k(){return"undefined"!==typeof I?function(){I(h)}:c()}function a(){var a=0,b=new D(h),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function d(){var a=new MessageChannel;a.port1.onmessage=
h;return function(){return a.port2.postMessage(0)}}function c(){var a=setTimeout;return function(){return a(h,1)}}function h(){for(var a=0;a<Q;a+=2)(0,Z[a])(Z[a+1]),Z[a]=void 0,Z[a+1]=void 0;Q=0}function b(){try{var a=r("vertx");I=a.runOnLoop||a.runOnContext;return k()}catch(P){return c()}}function g(a,b){var c=arguments,d=this,e=new this.constructor(f);void 0===e[qa]&&ca(e);var g=d._state;g?function(){var a=c[g-1];H(function(){return Y(g,e,a,d._result)})}():O(d,e,a,b);return e}function n(a){if(a&&
"object"===typeof a&&a.constructor===this)return a;var b=new this(f);B(b,a);return b}function f(){}function l(a){try{return a.then}catch(P){return na.error=P,na}}function t(a,b,c,d){try{a.call(b,c,d)}catch(ra){return ra}}function p(a,b,c){H(function(a){var d=!1,f=t(c,b,function(c){d||(d=!0,b!==c?B(a,c):v(a,c))},function(b){d||(d=!0,w(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&f&&(d=!0,w(a,f))},a)}function F(a,b){b._state===aa?v(a,b._result):b._state===ha?w(a,b._result):O(b,void 0,function(b){return B(a,
b)},function(b){return w(a,b)})}function A(a,b,c){b.constructor===a.constructor&&c===g&&b.constructor.resolve===n?F(a,b):c===na?w(a,na.error):void 0===c?v(a,b):"function"===typeof c?p(a,b,c):v(a,b)}function B(a,b){a===b?w(a,new TypeError("You cannot resolve a promise with itself")):"function"===typeof b||"object"===typeof b&&null!==b?A(a,b,l(b)):v(a,b)}function y(a){a._onerror&&a._onerror(a._result);C(a)}function v(a,b){a._state===L&&(a._result=b,a._state=aa,0!==a._subscribers.length&&H(C,a))}function w(a,
b){a._state===L&&(a._state=ha,a._result=b,H(y,a))}function O(a,b,c,d){var f=a._subscribers,e=f.length;a._onerror=null;f[e]=b;f[e+aa]=c;f[e+ha]=d;0===e&&a._state&&H(C,a)}function C(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,f,e=a._result,g=0;g<b.length;g+=3)d=b[g],f=b[g+c],d?Y(c,d,f,e):f(e);a._subscribers.length=0}}function Ea(){this.error=null}function Y(a,b,c,d){var f="function"===typeof c,e=void 0,g=void 0,h=void 0,l=void 0;if(f){try{e=c(d)}catch(G){S.error=G,e=S}e===S?(l=!0,
g=e.error,e=null):h=!0;if(b===e){w(b,new TypeError("A promises callback cannot return that same promise."));return}}else e=d,h=!0;b._state===L&&(f&&h?B(b,e):l?w(b,g):a===aa?v(b,e):a===ha&&w(b,e))}function x(a,b){try{b(function(b){B(a,b)},function(b){w(a,b)})}catch(sa){w(a,sa)}}function ca(a){a[qa]=oa++;a._state=void 0;a._result=void 0;a._subscribers=[]}function T(a,b){this._instanceConstructor=a;this.promise=new a(f);this.promise[qa]||ca(this.promise);da(b)?(this._input=b,this._remaining=this.length=
b.length,this._result=Array(this.length),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&v(this.promise,this._result))):w(this.promise,Error("Array Methods must be provided an Array"))}function E(a){this[qa]=oa++;this._result=this._state=void 0;this._subscribers=[];if(f!==a){if("function"!==typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof E)x(this,a);
else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}var V=void 0,da=V=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},Q=0,I=void 0,R=void 0,H=function(a,b){Z[Q]=a;Z[Q+1]=b;Q+=2;2===Q&&(R?R(h):ea())},ka=(V="undefined"!==typeof window?window:void 0)||{},D=ka.MutationObserver||ka.WebKitMutationObserver;ka="undefined"===typeof self&&"undefined"!==typeof process&&
"[object process]"==={}.toString.call(process);var ma="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,Z=Array(1E3),ea=void 0;ea=ka?e():D?a():ma?d():void 0===V&&"function"===typeof r?b():c();var qa=Math.random().toString(36).substring(16),L=void 0,aa=1,ha=2,na=new Ea,S=new Ea,oa=0;T.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===L&&c<a;c++)this._eachEntry(b[c],c)};T.prototype._eachEntry=function(a,
b){var c=this._instanceConstructor,d=c.resolve;d===n?(d=l(a),d===g&&a._state!==L?this._settledAt(a._state,b,a._result):"function"!==typeof d?(this._remaining--,this._result[b]=a):c===E?(c=new c(f),A(c,a,d),this._willSettleAt(c,b)):this._willSettleAt(new c(function(b){return b(a)}),b)):this._willSettleAt(d(a),b)};T.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===L&&(this._remaining--,a===ha?w(d,c):this._result[b]=c);0===this._remaining&&v(d,this._result)};T.prototype._willSettleAt=
function(a,b){var c=this;O(a,void 0,function(a){return c._settledAt(aa,b,a)},function(a){return c._settledAt(ha,b,a)})};E.all=function(a){return(new T(this,a)).promise};E.race=function(a){var b=this;return da(a)?new b(function(c,d){for(var f=a.length,e=0;e<f;e++)b.resolve(a[e]).then(c,d)}):new b(function(a,b){return b(new TypeError("You must pass an array to race."))})};E.resolve=n;E.reject=function(a){var b=new this(f);w(b,a);return b};E._setScheduler=function(a){R=a};E._setAsap=function(a){H=a};
E._asap=H;E.prototype={constructor:E,then:g,"catch":function(a){return this.then(null,a)}};E.polyfill=function(){var a=void 0;if("undefined"!==typeof global)a=global;else if("undefined"!==typeof self)a=self;else try{a=Function("return this")()}catch(K){throw Error("polyfill failed because global object is unavailable in this environment");}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(K){}if("[object Promise]"===c&&!b.cast)return}a.Promise=E};return E.Promise=
E});p("lib/browser/Promise",["vendor/es6-promise-polyfill"],function(e){var k=window.Promise;return k&&"[object Promise]"===Object.prototype.toString.call(k.resolve())&&!k.cast?k:e.Promise});p("lib/util/mediaPreloader",["lib/browser/Promise"],function(e){var k=function(){};k.prototype.tellMeWhenMediaLoaded=function(a){return new e(function(d){var c=a.length,e=0,b=function(){e++;e===c&&d()},g=function(){b();throw"MediaPreloader.js: A media element failed to load.";};if(0===c)d();else for(var k=0;k<
c;k++){var f=a[k],l=f.tagName;if(0<=["IMG","PICTURE"].indexOf(l))"PICTURE"===l&&(f=f.querySelectorAll("img")[0]),f.complete||0<f.naturalWidth?b():(f.addEventListener("load",b),f.addEventListener("error",g));else if(0<=["VIDEO","AUDIO"].indexOf(l))4===f.readyState?b():(f.addEventListener("canplaythrough",b),f.addEventListener("error",g),"auto"!==f.getAttribute("preload")&&(f.setAttribute("preload","auto"),f.preload="auto"));else throw"MediaPreloader.js: Unsupported media type.";}})};k.prototype.preloadImageSources=
function(){return new e(function(a){})};return new k});p("app/modules/content/Cards",["jquery","lib/util/QueueBuffer","lib/util/mediaPreloader","app/modules/BaseModule","lib/browser/Promise"],function(e,k,a,d,c){e(window);var h={selector:".js-card",activeClassName:"is-active",titleContentSelector:".js-cards_title_content",slide:{selector:".js-card_slide",contentSelector:".js-card_slide_content",activeClassName:"is-active",displayDuration:0,animation:{classNamePrefix:"animate",types:["left","right",
"top","bottom"],duration:{in:1300,out:700,startSlideReturn:300},stagger:100,delay:700}},bgColors:"orange cerulean pistachio tamarillo dell teal".split(" ")},b=function(){this.ns=d.ns("Card");this.nstemp=this.ns+"-temp";this.isActive=!1};b.prototype=new d;var g=b.prototype,n=g.init;g.init=function(a){n.call(this,a);this.config=e.extend(!0,{},h);this.slideChangeQueue=new k;this.$slides=this.$el.find(this.config.slide.selector);this.$startSlide=this.$currentSlide=this.$slides.filter("."+this.config.slide.activeClassName);
this.slidesCount=this.$slides.length;this.hasAutoColor=!1;this.$el.hasClass("card-auto-color")&&(this.hasAutoColor=!0);this.reset();this.$animationHelper=this.$el.find(".js-card_animation_helper");0<this.$animationHelper.length&&(this.$el.addClass("has-animationhelper"),this.$animationHelperTitle=this.$animationHelper.find(".js-card_animation_helper_title"),a=this.$el.find(".js-cards_title_content").first(),a=a.length?a:this.$el.find(".card--title"),this.$animationHelperTitle.append(a.text()),this.$animationHelperSlides=
this.$animationHelper.find(".js-card_animation_helper_slides"),this.$animationHelperSlides.append(this.$currentSlide.clone()));this.preloadPictrogramAnimationImages();this.bindListeners();return this};g.bindListeners=function(){var a=this.$el.find(".card--link");this.on("focusin",this.activate);this.on("mouseenter",this.activate);this.on("mouseleave",this.deactivate);a.on("touchstart",this.bind(function(a){this.touched=!0}));a.on("click",this.bind(function(a){this.touched&&this.$el.find(".card--buttons_wrap").length&&
(a.preventDefault(),this.activate(a))}))};g.activate=function(a){var b=this.touched;b&&"click"!=a.type||(this.isActive?b&&"touched"===this.isActive&&this.deactivate(a):(e(document).on("mousedown"+this.nstemp+" focusin"+this.nstemp,function(a){for(var b=a.target;b&&b!=this.$el.get(0);)b=b.parentNode;b||this.deactivate(a)}.bind(this)),this.isActive=b?"touched":!0,this.startAnimation()))};g.deactivate=function(a){this.isActive&&(e(document).off(this.nstemp),this.clickedOnce=this.isActive=!1,this.endAnimation())};
g.startAnimation=function(){this.$el.addClass(this.config.activeClassName);this.play()};g.endAnimation=function(){this.$el.removeClass(this.config.activeClassName);this.asyncTimeouts.forEach(function(a,b){clearTimeout(a)}.bind(this));this.slideChangeQueue.clear();this.slideChangeQueue.moveOnNow();this.showStartSlide()};g.play=function(){this.changeBG();this.slideChangeQueue.add(function(a){for(var b=this.$currentSlide.index();b<this.slidesCount;b++)this.showNextSlide();a()}.bind(this))};g.reset=function(){var a=
e();this.$slides.each(function(b,c){b=e(c);a=a.add(b.find(this.config.slide.contentSelector).children())}.bind(this));var b=this.$startSlide.find(this.config.slide.contentSelector).children();this.removeAnimationClasses(a);b.addClass(this.config.slide.animation.classNamePrefix+"_in_immediately");this.finishPictogramAnimation(this.$currentSlide);b=this.$el.find(".js-cards_title_content");var c=b.first();this.removeAnimationClasses(b);c.addClass(this.config.slide.animation.classNamePrefix+"_in_immediately")};
g.getNextSlide=function(){var a=(this.$slides.index(this.$currentSlide)+1)%this.$slides.length;return e(this.$slides.get(a))};g.showNextSlide=function(){this.slideChangeQueue.add(function(a){var b=this.getNextSlide();this.showSlide(b,a)}.bind(this))};g.showStartSlide=function(){var a=new c(function(a){this.animateStartSlideReturn(this.$startSlide,a)}.bind(this));this.slideChangeQueue.add(function(b){a.then(function(){this.reset();this.finishStartSlideReturnAnimation(this.$startSlide);this.updateState(this.$startSlide);
b()}.bind(this))}.bind(this))};g.showSlide=function(a,b){this.asyncTimeouts=[];!a.hasClass("card--slide-pictogram_animation")&&a.is(this.$currentSlide)?b():this.animateSlides(this.$currentSlide,a,function(){this.updateState(a);b()}.bind(this))};g.updateState=function(a){var b=this.config.slide;this.$slides.removeClass(b.activeClassName);a.addClass(b.activeClassName);this.$currentSlide=a};g.animateSlides=function(a,b,c){var d=this.config.slide,f=this.animatePictogram(a);1===this.slidesCount?f.then(c):
f.then(function(){var f=a.data("anim-out"),g=b.data("anim-in");if(!f){var h=[this.latestInAnimationType];g&&h.push(g);f=this.getRandomAnimationType(h)}g||(g=this.getRandomAnimationType(f));this.latestInAnimationType=g;var l=a.find(d.contentSelector).children();"bottom"===f&&(l=e(l.get().reverse()));l.each(function(a,b){var c=e(b);this.asyncTimeouts.push(setTimeout(function(){this.removeAnimationClasses(c);c.addClass(d.animation.classNamePrefix+"_out-"+f)}.bind(this),a*d.animation.stagger))}.bind(this));
h=b.find(d.contentSelector).children();"top"===g&&(h=e(h.get().reverse()));h.each(function(a,b){var c=e(b);this.asyncTimeouts.push(setTimeout(function(){c.addClass(d.animation.classNamePrefix+"_in-"+g)}.bind(this),d.animation.delay+a*d.animation.stagger))}.bind(this));this.asyncTimeouts.push(setTimeout(function(){this.finishPictogramAnimation(a);this.removeAnimationClasses(l)}.bind(this),d.animation.duration.out+(l.length-1)*d.animation.stagger));var k=b.data("display-duration");k=k?parseInt(k,10):
d.displayDuration;h=d.animation.delay+d.animation.duration.in+(h.length-1)*d.animation.stagger;this.asyncTimeouts.push(setTimeout(function(){c()}.bind(this),h+k))}.bind(this))};g.preloadPictrogramAnimationImages=function(){this.$slides.filter(".card--slide-pictogram_animation").find(".js-card_picto").each(function(b,c){b=e(c).data("animation-src");c=new Image;c.src=b;a.tellMeWhenMediaLoaded([c])}.bind(this))};g.animatePictogram=function(a){return new c(function(b){if(a.hasClass("card--slide-pictogram_animation")){var c=
a.find(".js-card_picto"),d=parseInt(a.data("animation-duration"),10);c.data("src",c.attr("src"));c.attr("src",c.data("animation-src"));var f=this.animateTitleTexts(a);this.asyncTimeouts.push(setTimeout(function(){f.then(b)}.bind(this),d))}else b()}.bind(this))};g.animateTitleTexts=function(a){return new c(function(b){var c=this.config.slide,d=this.$el.find(".js-cards_title_content"),f=d.length,e=a.data("text-durations");e&&(e=e.split(" "),e.forEach(function(a,b){e[b]=parseInt(a,10)}.bind(this)));
var g=function(a){var h=a.index(),l=d.eq((h+1)%f);this.removeAnimationClasses(a);a.addClass(c.animation.classNamePrefix+"_out-left");this.asyncTimeouts.push(setTimeout(function(){l.addClass(c.animation.classNamePrefix+"_in-right")}.bind(this),c.animation.delay));this.asyncTimeouts.push(setTimeout(function(){this.removeAnimationClasses(a)}.bind(this),c.animation.duration.out));var k=e?e[h]:c.displayDuration,n=c.animation.delay+c.animation.duration.in;this.asyncTimeouts.push(setTimeout(function(){h!==
f-1?g(l):b()}.bind(this),n+k))}.bind(this);1<f?g(d.first()):b()}.bind(this))};g.finishPictogramAnimation=function(a){a.hasClass("card--slide-pictogram_animation")&&(a=a.find(".js-card_picto"),a.attr("src",a.data("src")))};g.animateStartSlideReturn=function(a,b){a=this.config.slide;0===this.$animationHelper.length?b():(this.$animationHelper.addClass(a.animation.classNamePrefix+"_in"),setTimeout(function(){b()}.bind(this),a.animation.duration.startSlideReturn))};g.finishStartSlideReturnAnimation=function(a){this.removeAnimationClasses(this.$animationHelper)};
g.removeAnimationClasses=function(a){a.each(function(a,b){var c=e(b);a=c.attr("class").split(" ");e.each(a,function(a,b){0===b.indexOf(this.config.slide.animation.classNamePrefix)&&c.removeClass(b)}.bind(this))}.bind(this))};g.getRandomAnimationType=function(a){var b=this.config.slide.animation.types;void 0===a?a=[]:Array.isArray(a)||(a=[a]);return this.getRandomArrayItem(b,a)};g.getRandomArrayItem=function(a,b){var c=a[Math.floor(Math.random()*a.length)];if(void 0===b||0===b.length)return c;var d=
!1;b.forEach(function(a,b){c===a&&(d=!0)}.bind(this));if(d){if(1<a.length){var f=a.indexOf(c);a=a.slice(0);a.splice(f,1);return this.getRandomArrayItem(a,b)}throw"Card.getRandomArrayItem: Couldn't find an item in the array which doesn't match the exlusions.";}return c};g.getInnermostChildren=function(a){for(var b=a;b.length;)a=b,b=b.children();return a};g.changeBG=function(){if(this.hasAutoColor){this.currentBGColor=this.currentBGColor||this.getRandomArrayItem(this.config.bgColors,[]);var a=this.getRandomArrayItem(this.config.bgColors,
[this.currentBGColor]);this.$el.addClass("card-"+a).removeClass("card-"+this.currentBGColor);this.currentBGColor=a}};g.isBasicCard=function(){return 0===this.$el.find(".card--buttons_wrap").length};return b});p("app/modules/content/Tooltip",["jquery","app/modules/BaseModule","lib/util/Templates","lib/util/Templates"],function(e,k,a,d){a=function(){this.$el=null;this.ns=k.ns("Tooltip");this.nstemp=this.ns+"_temp"};a.prototype=new k;var c=a.prototype,h=c.init,b=c.destroy;c.init=function(a){h.call(this,
a);var b=this;this.$icon=this.$el.find(".js-tooltip--icon");this.$icon.length?this.$icon.attr("tabindex","-1"):this.$icon=this.$el;this.$tooltip=null;this.isVisible=!1;this.extraOffset=12;this.$el.on("mouseenter"+this.ns+" focus"+this.ns+" touchstart"+this.ns+" click"+this.ns,function(a){b.show();"focus"!==a.type&&("click"==a.type&&a.preventDefault(),a.stopPropagation())});this.$el.on("focus"+this.ns,function(a){b.show()});return this};c.destroy=function(){this.$el.off(this.ns);this.unregisterCloseEvents();
this.removeTooltipElement();b.call(this)};c.registerCloseEvents=function(){var a=this;this.$el.on("mouseleave"+a.nstemp+" blur"+a.nstemp,function(b){a.hide()});this.$el.on("blur"+a.nstemp,function(b){a.hide()});e(document).on("click"+this.nstemp+" touchstart"+this.nstemp,function(b){0===e(b.target).parents(".js-tooltip--flyout").length&&(a.hide(),b.stopPropagation(),b.preventDefault())})};c.unregisterCloseEvents=function(){this.$el.off(this.nstemp);e(document).off(this.nstemp)};c.show=function(a){return this.isVisible?
!1:(this.isVisible=!0,this.positionTooltip(a),this.getTooltipElement().addClass("is-visible"),this.registerCloseEvents(),!0)};c.hide=function(){return this.isVisible?(this.isVisible=!1,this.getTooltipElement().removeClass("is-visible").css({top:"",left:""}),this.unregisterCloseEvents(),this.removeTooltipElement(),!0):!1};c.getTooltipElement=function(){if(!this.$tooltip){var a=e("body");this.$tooltip=e(d.render("template-tooltip",{id:"",content:this.$el.find(".js-tooltip--content").html()}));this.$tooltip.appendTo(a);
this.$tooltip.attr("tabindex","1")}return this.$tooltip};c.removeTooltipElement=function(){this.$tooltip&&(this.$tooltip.remove(),this.$tooltip=null)};c.getRelatedElement=function(){return this.$el.parents(".form-elements \x3e li").eq(0)};c.getRelatedInput=function(){return this.getRelatedElement().find('input:not([type\x3d"radio"]):not([type\x3d"checkbox"]), select, .link-item \x3e a, textarea')};c.positionTooltip=function(){var a=e(window),b=a.width(),c=a.height(),d=a.scrollLeft();a=a.scrollTop();
var h=this.$el.offset(),k=h.top-a,p=h.left-d,r=h.top-a+this.$el.outerHeight(!0)/2;d=h.left-d+this.$el.outerWidth(!0)/2;h=this.$el.outerWidth(!0);var B=this.$el.outerHeight(!0),y=this.getTooltipElement().outerWidth(!0),v=this.getTooltipElement().outerHeight(!0),w={top:0,left:0};0<p-y||p+y<b?(p+y<b?(this.getTooltipElement().addClass("is-right"),w.left=p+h+this.extraOffset):(this.getTooltipElement().addClass("is-left"),w.left=p-y-this.extraOffset),w.top=r-(v-this.getTooltipElement().outerHeight())/2-
20):(k>c-k?(this.getTooltipElement().addClass("is-top"),w.top=k-v-this.extraOffset):(this.getTooltipElement().addClass("is-bottom"),w.top=k+B+this.extraOffset),w.left=d>b/2?b-y:10,this.getTooltipElement().find(".js-tooltip--flyout--arrow").css({left:Math.round(d-w.left)}));w.top+=a;this.getTooltipElement().css({top:Math.round(w.top),left:Math.round(w.left),right:Math.round(w.right)})};c.destroy=function(){this.getRelatedInput().off(this.ns);this.$el.off(this.ns);this.$icon=this.$tooltip=this.$el=
null};return a});p("app/modules/content/ScrollTable",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("ScrollTable");this.options={wrapper:".js-scrollslider--area",table:".js-scrolltable--table",cell:".js-scrolltable--cell",margin:!0}}a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);this.$wrapper=this.$el.find(this.options.wrapper);this.$table=this.$el.find(this.options.table);this.$cells=this.$table.find(this.options.cell);this.$firstCell=this.$cells.first();
this.scrollPos=this.$el.data("scrollpos")||void 0;this.on(window,"resize",this.invalidate);this.validate();this.initScrollPos(this.scrollPos);return this};a.prototype.initScrollPos=function(a){"undefined"!==typeof a&&0<a&&(a=(a-1)*this.cellWidth,a=Math.round(a/this.scrollWidth)*this.scrollWidth,this.$wrapper.animate({scrollLeft:a},{duration:300}))};a.prototype.invalidate=function(){this.validate()};a.prototype.validate=function(){var a=this.$el.width(),c=0,e=0;this.$cells.each(function(){e+=this.offsetWidth;
this.offsetWidth>c&&(c=this.offsetWidth)});var b=this.$table.width(),g=(b-e)/(this.$cells.length+1),k=Math.floor((a-g-50)/(c+g));1>k&&(k=1);this.cellWidth=c;if(this.options.margin){var f="";b>a&&(f=(a-k*c-(k+1)*g)/2);0>f&&(f="");f=isNaN(f)?"":Math.ceil(f);this.$table.css({paddingLeft:f,paddingRight:f})}this.scrollWidth=a=k*(c+g);this.$el.data("scroll-page-width",a)};return a});p("app/modules/content/ArticleSearchCriteria",["jquery","app/modules/BaseModule","lib/animation/HeightAnimation","lib/animation/scrollToView",
"lib/browser/Accessibility"],function(e,k,a,d,c){function h(){this.ns=k.ns("ArticleSearchCriteria")}var b={filters:{handle:{selector:".js-article_search_criteria--toggle",activeClass:"is-opened"},container:{selector:".js-article_search_criteria--container",activeClass:"is-opened"}}};h.prototype=new k;var g=h.prototype,n=g.init;g.init=function(a){n.call(this,a);this.config=e.extend(!0,{},b);this.$toggle=this.$el.find(this.config.filters.handle.selector);this.$container=this.$el.find("#"+this.$toggle.attr("aria-controls"));
this.bindListeners();return this};g.bindListeners=function(){this.on("click",this.config.filters.handle.selector,this.bind(this.toggleFilters))};g.toggleFilters=function(a){e(a.currentTarget).hasClass("is-opened")?this.closeFilters():this.openFilters()};g.openFilters=function(){var b=this,g=new a(this.$el,{duration:250});this.$toggle.addClass(this.config.filters.handle.activeClass).attr("aria-expanded","true");this.$container.addClass(this.config.filters.container.activeClass);d(this.$el);g.complete(function(){c.focusFirst(b.$container)});
e(window).trigger("resize")};g.closeFilters=function(){var b=new a(this.$el,{duration:250});this.$toggle.removeClass(this.config.filters.handle.activeClass).attr("aria-expanded","false");this.$container.removeClass(this.config.filters.container.activeClass);b.complete()};return h});p("app/modules/content/PageRating",["jquery","app/modules/BaseModule"],function(e,k){var a=function(){this.ns=k.ns("PageRating")};a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);this.previousRating=-1;this.bindEvents();
return this};a.prototype.bindEvents=function(){this.on("submit",function(a){requestAnimationFrame(function(){var a=this.$el.find('input[type\x3d"radio"]:checked').val();0<a?this.$el.trigger("setRating",a):this.$el.find('input[type\x3d"radio"]:checked').focus()}.bind(this));a.preventDefault()});this.on("change","input",function(a){a=Number(a.currentTarget.value);0>this.previousRating&&(this.previousRating=a);1===2*a%2&&(a=a>this.previousRating?Math.floor(a)+1:Math.floor(a),a=0<a?a+".0":a,this.$el.find('[value\x3d"'+
a+'"]').prop("checked",!0).focus(),this.previousRating=a)}.bind(this));this.on("click",".js-pagerating-star",function(){this.$el.trigger("submit")})};return a});p("app/modules/content/Filter",["jquery","app/modules/BaseModule","lib/animation/HeightAnimation","lib/animation/scrollToView","lib/browser/Accessibility"],function(e,k,a,d,c){function h(){this.ns=k.ns("Filter")}var b={advancedFilters:{handle:{selector:".js-filter--toggle",activeClass:"is-opened"},container:{selector:".js-filter--container",
activeClass:"is-opened"}}};h.prototype=new k;var g=h.prototype,n=g.init;g.init=function(a){n.call(this,a);this.config=e.extend(!0,{},b);this.$toggle=this.$el.find(this.config.advancedFilters.handle.selector);this.$container=this.$el.find("#"+this.$toggle.attr("aria-controls"));this.bindListeners();return this};g.bindListeners=function(){this.on("click",this.config.advancedFilters.handle.selector,this.bind(this.toggleFilters))};g.toggleFilters=function(a){e(a.target).hasClass("is-opened")?this.closeFilters():
this.openFilters()};g.openFilters=function(){var b=this,g=new a(this.$el,{duration:250});this.$toggle.addClass(this.config.advancedFilters.handle.activeClass).attr("aria-expanded","true");this.$container.addClass(this.config.advancedFilters.container.activeClass);d(this.$el);g.complete(function(){c.focusFirst(b.$container)});e(window).trigger("resize")};g.closeFilters=function(){var b=new a(this.$el,{duration:250});this.$toggle.removeClass(this.config.advancedFilters.handle.activeClass).attr("aria-expanded",
"false");this.$container.removeClass(this.config.advancedFilters.container.activeClass);b.complete()};return h});p("app/modules/content/Tabs",["jquery","app/modules/BaseModule","app/plugins/mediaDispatcher","lib/animation/HeightAnimation","lib/animation/scrollToView"],function(e,k,a,d,c){function h(){this.ns=k.ns("Tabs")}var b={variant:"tabs",dropDownBtn:".js-tabs--mobile",handles:{selector:".js-tabs--handle",activeClass:"is-active"},toggle:".js-tabs--toggle",hasTabs:"has-tabs",tabs:{selector:".js-tabs-tab",
activeClass:"is-active"}};h.prototype=new k;var g=h.prototype,n=g.init,f=g.destroy;g.init=function(a){n.call(this,a);this.config=e.extend(!0,{},b,this.$el.data("tabs"));this.$dropDownBtn=this.$el.find(this.config.dropDownBtn);this.$dropDownContainer=e("#"+this.$dropDownBtn.attr("aria-controls"));this.$handles=this.$el.find(this.config.handles.selector);this.$tabs=this.$el.find(this.config.tabs.selector);this.$toggles=this.$el.find(this.config.toggle);this.bindListeners();return this};g.destroy=function(){f.call(this)};
g.bindListeners=function(){this.on("click",this.config.toggle,this.bind(this.toggleTabs));"radios"!==this.config.variant&&(this.on("click",this.config.handles.selector,this.bind(this.onHandleActivate)),this.on("keydown",this.config.handles.selector,this.bind(this.onHandleActivateByKey)))};g.onHandleActivateByKey=function(a){switch(a.keyCode){case 13:case 32:e(a.currentTarget).focus().click();a.preventDefault();break;case 37:case 38:this.focusBy(-1);a.preventDefault();break;case 39:case 40:this.focusBy(1),
a.preventDefault()}};g.focusBy=function(a){var b=this.$handles,c=b.index(document.activeElement);0<=c&&(c+=a,c>=b.length&&(c=0),0>c&&(c=b.length-1),b.eq(c).focus())};g.onHandleActivate=function(a){var b=e(a.currentTarget),d=e("#"+b.attr("aria-controls"));a.preventDefault();this.activateHandle(b);0<b.find("input").length&&b.find("input").prop("checked","checked");0<d.length&&(this.activateTab(d),c(this.$el));this.changeActiveLabel(b.data("tab-name"))};g.activateHandle=function(a){this.resetHandles();
a.addClass(this.config.handles.activeClass);a.attr({"aria-selected":"true",tabindex:0});a.trigger("activate")};g.resetHandles=function(){this.$handles.removeClass(this.config.handles.activeClass);this.$handles.attr({"aria-selected":"false",tabindex:-1})};g.resetTabs=function(){this.$tabs.removeClass(this.config.tabs.activeClass);this.$tabs.attr("aria-hidden","true")};g.activateTab=function(a){this.resetTabs();a.addClass(this.config.tabs.activeClass);a.removeAttr("aria-hidden")};g.changeActiveLabel=
function(b){var c=this;this.$dropDownBtn.html(b);a.isOrBelow("mobile").then(function(){c.closeTabs(c.$dropDownBtn)})};g.toggleTabs=function(a){this.$dropDownBtn.hasClass("is-opened")?this.closeTabs():this.openTabs()};g.openTabs=function(){var a=new d(this.$el,{duration:250});this.$dropDownBtn.addClass("is-opened").attr("aria-expanded","true");this.$dropDownContainer.addClass("is-opened");c(this.$el);a.complete(function(){e(window).trigger("resize")})};g.closeTabs=function(){var a=new d(this.$el,{duration:250});
this.$dropDownBtn.removeClass("is-opened").attr("aria-expanded","false");this.$dropDownContainer.removeClass("is-opened");a.complete(function(){e(window).trigger("resize")});this.$el.trigger("close")};return h});p("app/modules/content/CompareWidget",["jquery","app/modules/BaseModule","app/modules/content/ScrollTable"],function(e,k,a){function d(){this.ns=k.ns("CompareWidget")}d.prototype=new k;d.prototype.init=function(a){this.$el=e(a);this.initScrollTable(a);this.on(window,"resize",this.onWindowResize);
this.relayout();return this};d.prototype.initScrollTable=function(c){var d=new a;d.options=e.extend({},d.options,{wrapper:".js-scrollslider--area",table:".js-compare_widget--table",cell:".js-compare_widget--cell",margin:!1});return d.init(c)};d.prototype.onWindowResize=function(){this.relayout()};d.prototype.relayout=function(){var a=this.$el.find(".js-compare_widget--row").first().find(".js-compare_widget--cell").length,d=this.$el.width();this.$el.outerWidth();var b=this.getColumns();a=Math.floor(d/
b*a);this.$el.find(".js-scrollslider").data("scroll-page-width",d/b);this.$el.find(".js-compare_widget--width").css({width:a+"px",margin:"0 auto"})};d.prototype.getColumns=function(){if(window.getComputedStyle){var a=window.getComputedStyle(this.$el[0],":after").getPropertyValue("content");a=a.replace(/['"]/g,"")}a||(a=this.options.columns);return a};return d});p("app/modules/content/LineTable",["jquery","app/modules/content/ScrollTable"],function(e,k){function a(){}a.prototype.init=function(a){var c=
new k;c.options=e.extend({},c.options,{wrapper:".js-scrollslider--area",table:"table",cell:"tr:first \x3e th, tr:first \x3e td"});a=c.init(a);a.on("click",".js-line_table--expand",function(a){this.$el.removeClass("is-collapsed");this.$el.addClass("is-expanded")});a.on("click",".js-line_table--collapse",function(a){this.$el.removeClass("is-expanded");this.$el.addClass("is-collapsed");a=e(a.currentTarget).parents("td").index();this.$el.find("td:nth-child("+(a+1)+") .js-line_table--expand").focus()});
return a};return a});p("app/modules/content/IbanCalculator",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("IbanCalculator")}a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);this.$inputs=this.$el.find(".js-iban_calculator--input input");this.on("keyup",".js-iban_calculator--input input",this.handleFocus);return this};a.prototype.handleFocus=function(a){var c=e(a.currentTarget),d=this.$inputs.index(c);if(16!==a.keyCode&&9!==a.keyCode&&c.val().length>=c.attr("maxlength")){var b=
e(this.$inputs.get(d+1));b.length&&b.trigger("focus")}8===a.keyCode&&0===c.val().length&&(a=e(this.$inputs.get(d-1)),0<=d-1&&a.trigger("focus"))};return a});p("app/modules/content/AccordionInline",["jquery","app/modules/BaseModule","lib/browser/Accessibility","lib/animation/scrollToView"],function(e,k,a,d){function c(){this.ns=k.ns("AccordionInline")}var h={selector:".js-accordioninline",item:{selector:".js-accordioninline--item",activeClassName:"selected",firstofrowClassName:"is-firstofrow",inner:{selector:".js-accordioninline--item--inner"},
content:{selector:".js-accordioninline--item--content"}}};c.prototype=new k;a=c.prototype;var b=a.init,g=a.destroy;a.init=function(a){b.call(this,a);this.config=e.extend(!0,{},h);this.$items=this.$el.find(this.config.item.selector);this.invalidate();this.bindListeners();return this};a.destroy=function(){this.unbindListeners();g.call(this)};a.bindListeners=function(){this.on("click",this.config.item.inner.selector,this.onClick);this.on(window,"resize",this.invalidate)};a.unbindListeners=function(){};
a.onClick=function(a){var b=e(a.currentTarget).parent(this.config.item.selector),c=b.find(this.config.item.inner.selector);b.hasClass(this.config.item.activeClassName)?(b.removeClass(this.config.item.activeClassName),this.updateContainerHeight(),c.attr("aria-expanded","false")):(this.$items.removeClass(this.config.item.activeClassName),b.addClass(this.config.item.activeClassName),this.updateContainerHeight(b),c.attr("aria-expanded","true"),d(b));a.preventDefault()};a.invalidate=function(){this.updateContainerHeight();
this.updateLineBreak();var a=this.$items.filter("."+this.config.item.activeClassName);this.updateContainerHeight(a)};a.updateContainerHeight=function(a){this.$items.each(function(){e(this).css("margin-bottom",0)});if(a&&a.length){var b=a.find(this.config.item.content.selector).height();a.css("margin-bottom",b+"px")}};a.updateLineBreak=function(){var a=this,b=null;this.$items.each(function(){var c=e(this),d=c.attr("class").match(/\baccordion_inline--item-(\w+)\b/);d&&d[0]&&c.removeClass(d[0]);c.hasClass(a.config.item.activeClassName)&&
(c.removeClass(a.config.item.activeClassName),b=c)});var c=this.getItemsOfRow(this.$items),d=null,g;for(g in c){var h=c[g];null===d&&(d=h);for(var k=0,p=h.length;k<p;k++)h[k].addClass("accordion_inline--item-"+(k+1)+"of"+d.length)}b&&b.addClass(this.config.item.activeClassName)};a.getItemsOfRow=function(a){var b={};a.each(function(){var a=e(this),c=a.offset().top;"undefined"===typeof b[c]&&(b[c]=[]);b[c].push(a)});return b};a.getFirstItemsOfRow=function(a){var b=null,c=[];a.each(function(){var a=
e(this);a.offset();null!=b&&a.offset().top===b.offset().top||c.push(a);b=a});return c};return c});p("app/modules/layout/SameHeight",["jquery","app/modules/BaseModule","app/plugins/mediaDispatcher"],function(e,k,a){var d=0,c={};var h=function(){this.$el=null;this.ns=".sameheight"+d++};h.prototype=new k;var b=h.prototype.destroy;h.prototype.init=function(b){var d=this;this.$el=e(b);this.options=e.extend({},c,this.$el.data("sameheight-options"));this.property=this.options.useHeight?"height":"min-height";
this.enabled=!0;this.resetBreakpoint=this.$el.data("sameheight-reset");"auto"===this.resetBreakpoint&&(this.options.autoGroup=!0);this.resetBreakpoint&&"auto"!==this.resetBreakpoint&&a.isOrBelow(this.resetBreakpoint).then(function(){d.disable()}).otherwise(function(){d.enable()});window.MutationObserver&&(this.observer=new MutationObserver(function(a){this.invalidateResize()}.bind(this)),this.observer.observe(b,{subtree:!0,childList:!0}));this.invalidateResize();this.on(window,"resize",this.invalidateResize);
return this};h.prototype.invalidateResize=function(){clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(this.validateResize.bind(this),1)};h.prototype.validateResize=function(){this.validate()};h.prototype.enable=function(){this.enabled||(this.enabled=!0,this.invalidateResize())};h.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.invalidateResize())};h.prototype.destroy=function(){this.observer&&this.observer.disconnect();b.call(this)};h.prototype.validate=function(){var a=
this,b=this.$el.find(".js-sameheight--item");b.css(this.property,"");if(this.enabled){b.css("transition",this.property+" 0s");var c={};b.each(function(){var b=a.options.autoGroup?e(this).offset().top:"auto",d=c[b];d||(d=[],d.minHeight=0,c[b]=d);b=this.clientHeight||e(this).outerHeight();b>d.minHeight&&(d.minHeight=b);d.push(this)});for(var d in c)e(c[d]).css(this.property,c[d].minHeight);b.css("transition","")}};return h});p("app/modules/form/Rangeslider",["jquery","app/modules/BaseModule","vendor/debounce"],
function(e,k,a){var d={wait:1E3},c=function(){this.ns=k.ns("Rangeslider")};c.prototype=new k;var h=c.prototype.destroy;c.prototype.init=function(b){this.$el=e(b);this.$input=this.$el.find('input[type\x3d"range"]');this.$output=this.$el.find(".js-rangeslider-output");this.options=e.extend({},d,this.$el.data("options"));this.style=document.createElement("style");this.emitUpdateDebounced=a(this.emitUpdate,this.options.wait);b=function(){this.val2Output();this.emitUpdateDebounced()}.bind(this);if("ActiveXObject"in
window)this.on(this.$input[0],"change."+this.ns,b);this.on(this.$input[0],"input."+this.ns,b);document.body.appendChild(this.style);this.val2Output();return this};c.prototype.setProgress=function(a){var b=Number(this.$input[0].min);a=100/(Number(this.$input[0].max)-b)*(Number(a)-b);a="{background-image:linear-gradient(to right, #000 "+a+"%, rgba(0,0,0,0) "+a+"%)}";b='input[type\x3d"range"]#'+this.$input[0].id+"::-webkit-slider-runnable-track"+a;b+='input[type\x3d"range"]#'+this.$input[0].id+"::-moz-range-track"+
a;this.style.textContent=b};c.prototype.val2Output=function(){var a=this.$input.val();this.options.decimals&&(a=Number(a).toFixed(this.options.decimals));this.options.prefix&&(a=this.options.prefix+a);this.options.suffix&&(a+=this.options.suffix);this.$output.html(a);this.setProgress(this.$input.val())};c.prototype.emitUpdate=function(){this.$el.trigger("update",this.$input[0])};c.prototype.setValue=function(a){isNaN(a)?void 0:(this.$input.val(a),this.val2Output())};c.prototype.getValue=function(){return Number(this.$input.val())};
c.prototype.destroy=function(){document.removeChild(this.style);h.call(this)};return c});p("app/modules/form/autocomplete",["jquery","app/modules/BaseModule","lib/util/Templates","lib/browser/Accessibility","lib/browser/KeyCode"],function(e,k,a,d,c){function h(){this.ns=k.ns("Autocomplete")}var b={selector:".js-autocomplete",url:"https://www.postfinance.ch/pfch-web/calculator/logicalc/tax/zipsearch/Index.do?search\x3d\x26zipSearch.searchValue\x3d%query%",min_length_searchstring:3,style_ns:"autocomplete",
loadingClassname:"is-loading",accessibility:{resultHint:{template:"$(txt)",no:"No results found.",singular:"There is one result. $(description)",plural:"There are $(count) results. $(description)",moreThanMax:"There are more than $(maxEntries) results. Please improve your search term. $(description)",description:"Use tabulation (or down) key to access and browse suggestions after input. Confirm your choice with enter key, or esc key to close suggestions box."}},input:{selector:".js-autocomplete--input",
hiddenClassname:"js-autocomplete--input-hidden"},clearBtn:{selector:".js-autocomplete-clear_button",template:'\x3cbutton class\x3d"js-autocomplete-clear_button $(style_ns)-clear_button" aria-label\x3d"$(label)" title\x3d"$(label)" type\x3d"button"\x3e$(text)\x3c/button\x3e',label:"clear this field",text:"\x26times;"},suggestionList:{selector:".js-autocomplete-suggestionlist",template:'\x3cdiv class\x3d"js-autocomplete-suggestionlist $(style_ns)-suggestionlist" role\x3d"listbox"\x3e\x3c/div\x3e',maxEntries:50,
item:{selector:".js-autocomplete-suggestionlist-item",template:'\x3cdiv class\x3d"js-autocomplete-suggestionlist-item $(style_ns)-suggestionlist--item" role\x3d"option" data-autocomplete-value\x3d"$(value)" tabindex\x3d"-1"\x3e$(label)\x3c/div\x3e',preselectClassName:"is-preselected",value:"taxLocalityID"},label:{dropdown_template:'\x3cdiv class\x3d"l-leftright"\x3e\x3cdiv class\x3d"l-left"\x3e\x3cspan class\x3d"zipCode"\x3e$(zipCode)\x3c/span\x3e \x3cspan class\x3d"ciy"\x3e$(city)\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"l-right"\x3e\x3cspan class\x3d"ciy"\x3e$(canton)\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
input_template:"$(zipCode) $(city)"}},result:{wrapper:"municipality"}};h.prototype=new k;a=h.prototype;var g=a.init,n=a.destroy;a.init=function(a){g.call(this,a);this.config=e.extend(!0,{},b,this.$el.data("autocomplete"));this.suggestionListOpen=!1;this.$input=this.$el.find(this.config.input.selector);this.$hiddenInput=this.$el.find("."+this.config.input.hiddenClassname);this.initClearBtn();this.$input.attr({autocorrect:"off",autocapitalize:"off",spellcheck:"off",autocomplete:"off","aria-autocomplete":"list"});
this.bindListeners();return this};a.destroy=function(){this.unbindListeners();this.$clearBtn.remove();this.$suggestionList.remove();n.call(this)};a.bindListeners=function(){var a=this;this.on("keyup",this.config.input.selector,this.handleKeyup);this.on("keydown",this.config.input.selector,function(b){a.handleKeydown(b,!1)});this.on("click",this.config.clearBtn.selector,this.onClearBtn);this.on("mouseenter",this.config.suggestionList.item.selector,this.handleOptionMouseenter);this.on("click",this.config.suggestionList.item.selector,
this.onOptionSelect);this.on("keydown",this.config.suggestionList.item.selector,this.handleOptionKeydown)};a.unbindListeners=function(){};a.initClearBtn=function(){var a=this.config.clearBtn;a=this.string_template(a.template,a);this.$clearBtn=e(a);this.$input.last().after(this.$clearBtn);this.checkVisibilityClearBtn(this.$input.val())};a.initSuggestionList=function(){var a=this.config.suggestionList;a=this.string_template(a.template,a);var b=this.getUniqueId();this.$suggestionList=e(a).attr("id",
b);this.updateSuggestionList(!1);this.$el.append(this.$suggestionList);this.$input.attr("aria-owns",this.$suggestionList.attr("id"))};a.updateSuggestionList=function(a){a&&0<a.length?(this.emptySuggestionList(),this.$suggestionList.append(a),this.$suggestionList.show(),this.suggestionListOpen=!0):(this.emptySuggestionList(),this.setResultHint(""),this.$suggestionList.hide(),this.suggestionListOpen=!1)};a.setSuggestionListOptions=function(a){"undefined"===typeof this.$suggestionList&&this.initSuggestionList();
var b=this,c=[];e.each(a,function(a,d){var f=b.config.suggestionList,g=b.string_template(f.label.dropdown_template,d);f=b.string_template(f.item.template,e.extend(!0,{label:g},f.item));f=e(f);f.data("autocomplete-option",d);0===a&&b.markCurrentSelection(f);c.push(f)});this.updateSuggestionList(c)};a.selectPreselection=function(){var a=this.config.suggestionList.item;a=this.getSuggestionListItems().filter("."+a.preselectClassName);this.selectOptionNode(a);this.updateSuggestionList(!1)};a.markCurrentSelection=
function(a){var b=this.config.suggestionList.item;this.getSuggestionListItems().removeClass(b.preselectClassName);a.addClass(b.preselectClassName)};a.onOptionSelect=function(a){a=e(a.currentTarget);this.selectOptionNode(a);this.updateSuggestionList(!1);d.focus(this.$input.first())};a.selectOptionNode=function(a){if("undefined"===typeof a||0===a.length)return!1;var b=this.config.suggestionList.label;a=e.extend(!0,b,a.data("autocomplete-option"));if("object"===typeof this.config.suggestionList.label.input_template)for(b=
[],i=0;i<this.config.suggestionList.label.input_template.length;i++)b.push(this.string_template(this.config.suggestionList.label.input_template[i],a));else b=this.string_template(b.input_template,a);this.setValue({value:a[this.config.suggestionList.item.value],text:b})};a.getSuggestionListItems=function(){return"undefined"===typeof this.$suggestionList||0===this.$suggestionList.length?null:this.$suggestionList.find(this.config.suggestionList.item.selector)};a.emptySuggestionList=function(){this.$suggestionList&&
0<this.$suggestionList.length&&this.$suggestionList.empty()};a.onClearBtn=function(){this.setValue("");this.checkVisibilityClearBtn("");d.focus(this.$input)};a.handleKeyup=function(a){var b=e(a.target).val();this.setValue({value:""});a.keyCode!==c.ESC&&a.keyCode!==c.UP&&a.keyCode!==c.DOWN&&a.keyCode!==c.TAB&&a.keyCode!==c.ENTER&&this.handleTheHaystack(b);this.checkVisibilityClearBtn(b)};a.handleKeydown=function(a,b){var d=!1;switch(a.keyCode){case c.DOWN:this.focusRelativeOption(1);d=!0;break;case c.TAB:b?
this.focusRelativeOption(a.shiftKey?-1:1):this.focusRelativeOption(1);d="undefined"!==typeof this.$suggestionList&&0<this.getSuggestionListItems().length;break;case c.ESC:this.updateSuggestionList(!1);this.$input.focus();d=!0;break;case c.ENTER:this.selectPreselection(),this.updateSuggestionList(!1),this.$input.first().focus(),d=!0}if(b)switch(a.keyCode){case c.UP:this.focusRelativeOption(-1),d=!0}d&&a.preventDefault();return!d};a.focusRelativeOption=function(a){if(this.$suggestionList){var b=this.getSuggestionListItems();
a=b.index(e(document.activeElement))+a;var c=b.eq(a);(0>a||a>b.length)&&-2!=a&&(c=null);c&&0<c.length?(this.markCurrentSelection(c),d.focus(c)):this.suggestionListOpen&&d.focus(this.$input)}};a.handleOptionMouseenter=function(a){a=e(a.currentTarget);this.markCurrentSelection(a);d.focus(a)};a.handleOptionKeydown=function(a){if(a.keyCode===c.ENTER||a.keyCode===c.SPACE)this.onOptionSelect(a);this.handleKeydown(a,!0)||a.preventDefault()};a.setValue=function(a){if("string"===typeof a)this.$hiddenInput.val(a),
this.$input.val(a);else if(a.value&&this.$hiddenInput.val(a.value),a.text)if("object"===typeof a.text)for(var b=0;b<this.$input.length;b++)e(this.$input[b]).val(a.text[b]);else this.$input.val(a.text)};a.checkVisibilityClearBtn=function(a){0===a.length?this.$clearBtn.hide():this.$clearBtn.show()};a.setLoading=function(a){this.$el[(a?"add":"remove")+"Class"](this.config.loadingClassname)};a.handleTheHaystack=function(a){var b=this;this.searchTimeout&&clearTimeout(this.searchTimeout);this.searchTimeout=
setTimeout(function(){if(""!=a&&a.length>=b.config.min_length_searchstring)b.loadResults(a,function(a){b.displayResults(a)});else{var c={};b.config.result.wrapper&&(c[b.config.result.wrapper]=[]);b.displayResults(c)}},50)};a.loadResults=function(a,b){this.setLoading(!0);var c=this;a=this.config.url.split("%query%").join(encodeURIComponent(a));this.xhr&&4!=this.xhr.readyState&&this.xhr.abort();this.xhr=e.getJSON(a,function(a){b(a);c.setLoading(!1)});this.xhr.fail(function(a){c.setLoading(!1)})};a.displayResults=
function(a){this.config.result.wrapper&&(a=a[this.config.result.wrapper]);var b=this,c=a.length,d=this.getResultHint(c);this.setResultHint(d);a&&0<c&&c>this.config.suggestionList.maxEntries&&(a=a.slice(0,this.config.suggestionList.maxEntries));this.setSuggestionListOptions(a);if(0<c)e(document).on("click"+this.ns,function(a){0===e(a.target).closest(b.config.selector).length&&b.selectPreselection()});else e(document).off("click"+this.ns)};a.getResultHint=function(a){var b=this.config.accessibility.resultHint;
0===a?b=b.no:(a=this.string_template(1===a?b.singular:a>this.config.suggestionList.maxEntries?b.moreThanMax:b.plural,e.extend(!0,b,{maxEntries:this.config.suggestionList.maxEntries,count:a})),b=this.string_template(b.template,e.extend(!0,b,{txt:a})));return b};a.setResultHint=function(a){d.speak(a)};a.string_template=function(a,b){b=e.extend(!0,{style_ns:this.config.style_ns},b);return a.replace(/\$\(([^\)]+)?\)/g,function(a,c){return b[c]||""})};a.getUniqueId=function(){for(var a=null;!a;){var b=
"__temp-ID__"+Math.floor(1E6*Math.random());0===e("#"+a).length&&(a=b)}return a};return h});p("app/modules/form/InputFile",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("InputFile")}a.prototype=new k;a.prototype.init=function(a){this.$el=e(a);this.input=this.$el.find("input")[0];this.labelVal=this.$el.find(".js-pf-form_input-file--text--label")[0];this.emptyText=this.labelVal.innerHTML;this.on("change",this.input,this.validate);return this};a.prototype.validate=function(a){a.preventDefault();
a=this.input.files&&1<this.input.files.length?(this.input.getAttribute("data-multiple-caption")||"").replace("{count}",this.input.files.length):a.target.value.split("\\").pop();this.labelVal.innerHTML=a&&""!==a?a:this.emptyText};return a});p("app/modules/form/FormCondition",["jquery","app/modules/BaseModule"],function(e,k){var a={appName:"FormCondition",selector:"form, .js-formcondition-form",dataCondition:"formcondition",validConditions:"\x3d\x3d \x3c\x3d \x3e\x3d \x3c \x3e !\x3d".split(" "),onFormAction:"change"},
d=function(){this.ns=k.ns(a.appName)};d.prototype=new k;var c=d.prototype,h=c.init;c.init=function(b){h.call(this,b);this.config=e.extend(!0,{},a,this.$el.data("formcondition-config"));this.$forms=e(this.config.selector);this.onChange();this.$forms.on(this.config.onFormAction,this.bind(this.onChange));return this};c.onChange=function(){var a=this,c=this.getFormData(),d=this.getConditions();e.each(d,function(b,d){null!==d&&null!=d.class&&(null!==d&&a.checkCondition(a.getFormValue(c,d.field),d.value,
d.condition)?a.$el.addClass(d.class):a.$el.removeClass(d.class))})};c.checkCondition=function(a,c,d){var b=function(a,b,c){return eval("'"+a+"' "+c+" '"+b+"'")};if(e.isArray(a))switch(d){case "\x3d\x3d":return-1<a.indexOf(c);case "!\x3d":return-1===a.indexOf(c);default:for(var g=a.length-1;0<=g;g--)if(b(a[g],c,d))return!0;return!1}return b(a,c,d)};c.getFormValue=function(a,c){return this.xGetter(a,c)||""};c.getConditions=function(){var a=this,c=[],d=this.$el.data(this.config.dataCondition);e.each(d.split(";"),
function(b,d){c.push(a.getCondition(d.trim()))});return c};c.getCondition=function(a){a=/([\w_-]+)\s*:\s*([\w_-]+)\.([^<>=!\s]+)\s*([><=!]{1,2})\s*'(.+)*'/.exec(a);return null===a||-1===this.config.validConditions.indexOf(a[4])?(void 0,null):{class:a[1],field:a[2]+"."+a[3],value:"undefined"===typeof a[5]?"":a[5],condition:a[4]}};c.getFormData=function(){var a=this,c={};e.each(this.$forms,function(b,d){var f=e(this);d=f.attr("name")||f.attr("id")||function(){var a="form"+b;f.attr("name",a);void 0;
return a};var g=a.convertFormToJSON(f);c[d]=g});return c};c.convertFormToJSON=function(a){a=a.serializeArray();var b={};e.each(a,function(){var a=this.value||"";"undefined"===typeof b[this.name]?b[this.name]=a:(e.isArray(b[this.name])||(b[this.name]=[b[this.name]]),b[this.name].push(a))});return b};c.xGetter=function(a,c){if("undefined"!==typeof a[c])a=a[c];else if(c="object"===typeof c?c:c.split("."),a=a[c.shift()],0<c.length&&"undefined"!==typeof a)return this.xGetter(a,c.join("."));return a};return d});
p("app/modules/form/NumberInput",["jquery","app/modules/BaseModule"],function(e,k){function a(){this.ns=k.ns("NumberInput")}var d=[".","-","Enter","Backspace","ArrowLeft","ArrowRight","Tab","Shift","ArrowUp","ArrowDown",190,189,13,8,37,39,9,16,38,40];a.prototype=new k;a.prototype.init=function(a){this.el=a;this.input=this.el.querySelector('input[type\x3d"number"]');if(!this.input)throw Error("Theres no input with type number.");this.bindEvents();return this};a.prototype.bindEvents=function(){this.input.addEventListener("keydown",
function(a){var c=a.key||a.keyCode;if(isNaN(Number(c))&&0>d.indexOf(c))return a.preventDefault(),!1})};return a});p("app/modules/form/AutoAdvance",["jquery","app/modules/BaseModule","lib/browser/KeyCode"],function(e,k,a){function d(){this.ns=k.ns("AutoAdvance")}function c(a){return{field:a,focus:document.activeElement,value:a.value,selectionStart:a.selectionStart,selectionEnd:a.selectionEnd}}function h(){this.keys={}}d.prototype=new k;d.prototype.init=function(a){this.$el=e(a);this.keydownCounter=
new h;this.on("keydown","[data-autoadvance]",this.handleKeydown);this.on("keyup","[data-autoadvance]",this.handleKeyup);return this};d.prototype.handleKeydown=function(a){0<this.keydownCounter.count()&&this.handleKeyup(a);this.keydownCounter.down(a);this.keydownState=c(a.currentTarget)};d.prototype.handleKeyup=function(b){this.keydownCounter.up(b);var d=c(b.currentTarget);if(this.keydownState&&d.field===this.keydownState.field&&d.focus===this.keydownState.focus&&d.selectionStart===d.selectionEnd){var h=
e(b.currentTarget),f=Number(h.attr("maxlength")||h.attr("size"))||Number.POSITIVE_INFINITY;h=h.val()||"";h.length===this.keydownState.value.length?(b.keyCode===a.RIGHT&&this.keydownState.selectionStart===h.length&&this.keydownState.selectionStart===this.keydownState.selectionEnd&&this.moveFieldBy(1),b.keyCode!==a.LEFT&&b.keyCode!==a.BACKSPACE||0!==this.keydownState.selectionStart||this.keydownState.selectionStart!==this.keydownState.selectionEnd||this.moveFieldBy(-1)):h.length>=f&&d.selectionStart===
h.length&&this.moveFieldBy(1)}};d.prototype.moveFieldBy=function(a){var b=this.$el.find("[data-autoadvance]");b.sort(function(a,b){return e(a).data("autoadvance")-e(b).data("autoadvance")});var c=b.index(document.activeElement);b=b.eq(c+a);if(c=b.get(0))b.focus(),c.selectionStart=c.selectionEnd=0>a?c.value.length:0};h.prototype.down=function(a){this.keys[a.keyCode]=1};h.prototype.up=function(a){delete this.keys[a.keyCode]};h.prototype.count=function(){var a=0,c;for(c in this.keys)a++;return a};return d});
p("vendor/datepicker/datepicker",["jquery"],function(e){return function a(){function d(a){return a.replace(/([;&,\.\+\*~':"!\^#$%@\[\]\(\)=>\|])/g,"\\$1")}function c(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function h(a,b){(new RegExp("(^|[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029])"+b+"([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]|$)")).test(a.className)||
(a.className+=(a.className?" ":"")+b)}function b(a,b){a.className=b?a.className.replace(new RegExp("(^|[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029])"+b+"([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]|$)")," ").replace(/\/^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*\//,
"").replace(/\/[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*$\//,""):""}function g(a){if("object"===typeof a){var b,c={debug:function(a){w=!!a;return!0},lang:function(a){"string"===typeof a&&-1!=a.search(/^[a-z]{2,3}(-([a-z]{2}))?$/i)&&(ia=[a.toLowerCase()],R=ma=!0);return!0},nodrag:function(a){ka=
!!a;return!0},buttontabindex:function(a){return!0},derivelocale:function(a){R=!!a;return!0},mousewheel:function(a){I=!!a;return!0},cellformat:function(a){"string"===typeof a&&(C?L=["%j"]:-1!=a.match(/%([d|j])/)&&(L=U(a,/%([d|j])/)));return!0},titleformat:function(a){"string"===typeof a&&(ea=a);return!0},statusformat:function(a){"string"===typeof a&&(qa=a);return!0},describedby:function(a){"string"===typeof a&&(ba=a);return!0},finalopacity:function(a){"number"===typeof a&&20<+a&&100>=+a&&(V=parseInt(a,
10));return!0},bespoketitles:function(a){if("object"===typeof a){T={};for(var b in a)a.hasOwnProperty(b)&&-1!=String(b).match(sa)&&(T[b]=String(a[b]))}return!0},dateparsefallback:function(a){Z=!!a;return!0},languagefilelocation:function(a){D=a;return!0},localeimport:function(a){fa=e.extend({},fa,a);pa();return!0},_default:function(){if(w)throw"Unknown key located within JSON data: "+b;return!0}};for(b in a)a.hasOwnProperty(b)&&(c.hasOwnProperty(String(b).toLowerCase())&&c[String(b).toLowerCase()]||
c._default)(a[b])}}function n(a){if("string"!==typeof a||""==a)return{};try{if("object"===typeof JSON&&JSON.parse)return window.JSON.parse(a);if(/debug|lang|nodrag|buttontabindex|derivelocale|mousewheel|cellformat|titleformat|statusformat|describedby|finalopacity|bespoketitles|dateparsefallback/.test(a.toLowerCase()))return Function(["var document,top,self,window,parent,Number,Date,Object,Function,Array,String,Math,RegExp,Image,ActiveXObject;return (",a.replace(/\x3c!--.+--\x3e/gim,"").replace(/\bfunction\b/g,
"function-"),");"].join(""))()}catch(X){}if(w)throw"Could not parse the JSON object";return{err:1}}function f(a,b){b=Math.min(4,b||2);return"0000".substr(0,b-Math.min(String(a).length,b))+a}function l(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent&&a.attachEvent("on"+b,c)}function p(a,b,c){try{a.removeEventListener?a.removeEventListener(b,c,!0):a.detachEvent&&a.detachEvent("on"+b,c)}catch(ua){}}function u(a){a=a||document.parentWindow.event;a.stopPropagation&&a.preventDefault();
K&&(a.cancelBubble=!0,a.returnValue=!1);return!1}function r(a,b){a&&a.tagName&&a.setAttribute("role",b)}function A(a,b,c){a&&a.tagName&&a.setAttribute("aria-"+b,c)}function B(a,b){a.setAttribute(K?"tabIndex":"tabindex",b);a.tabIndex=b}function y(a){return a instanceof Date&&!isNaN(a)?a.getFullYear()+f(a.getMonth()+1)+""+f(a.getDate()):a}function v(a){this.dateSet=null;this.visible=this.timerSet=!1;this.timer=this.fadeTimer=null;this.y=this.x=this.my=this.mx=this.dayInc=this.monthInc=this.yearInc=
0;this.disabled=this.created=!1;this.opacity=0;this.finalOpacity=this.opacityTo=100;this.fullCreate=this.kbEventsAdded=this.inUpdate=!1;this.cursorTD=this.selectedTD=null;this.cursorDate=a.cursorDate?a.cursorDate:"";this.date=a.cursorDate?new Date(+a.cursorDate.substr(0,4),+a.cursorDate.substr(4,2)-1,+a.cursorDate.substr(6,2),5,0,0):new Date;this.defaults={};this.dynDisabledDates={};this.dateList=[];this.bespokeClass=a.bespokeClass;this.firstDayOfWeek=H.firstDayOfWeek;this.interval=new Date;this.showCursor=
this.clickActivated=!1;this.noFocus=!0;this.delayedUpdate=this.kbEvent=!1;this.bespokeTitles={};this.bespokeTabIndex=a.bespokeTabIndex;this.extraTopOffset=60;for(var e in a)a.hasOwnProperty(e)&&-1==String(e).search(/^(callbacks|formElements|enabledDates|disabledDates)$/)&&(this[e]=a[e]);K&&(this.iePopUp=null);for(var g=0,q;q=["callbacks","formElements"][g];g++)if(this[q]={},q in a)for(e in a[q])a[q].hasOwnProperty(e)&&(this[q][e]=a[q][e]);this.date.setHours(5);this.changeHandler=function(){m.disabled||
(m.setDateFromInput(),m.callback("dateset",m.createCbArgObj()))};this.createCbArgObj=function(){return this.dateSet?{id:this.id,date:this.dateSet,dd:f(this.date.getDate()),mm:f(this.date.getMonth()+1),yyyy:this.date.getFullYear()}:{id:this.id,date:null,dd:null,mm:null,yyyy:null}};this.getScrollOffsets=function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]};this.getDateExceptions=function(a,b){b=f(b);var c={},d=m.firstDateShown,e=m.lastDateShown,g=m.dateList.length;e&&d||(d=m.firstDateShown=a+f(b)+"01",e=m.lastDateShown=a+f(b)+f(J(b,a)));a=Number(d.substr(0,6));e=Number(e.substr(0,6));for(b=String(a);+b<=e;){d=b.substr(0,4);var h=b.substr(4,2);for(a=0;a<g;a++){var q=String(m.dateList[a].rLow).replace(/^(\*\*\*\*)/,
d).replace(/^(\d\d\d\d)(\*\*)/,"$1"+h);var l=String(m.dateList[a].rHigh).replace(/^(\*\*\*\*)/,d).replace(/^(\d\d\d\d)(\*\*)/,"$1"+h);if(1==l)+q>=+m.firstDateShown&&+q<=+m.lastDateShown&&(c[q]=m.dateList[a].type);else if(q<=l&&b>=q.substr(0,6)&&b<=l.substr(0,6))for(q=Math.max(q,Math.max(String(b)+"01",this.firstDateShown)),l=Math.min(l,Math.min(String(b)+"31",this.lastDateShown));q<=l;q++)c[q]=m.dateList[a].type}b=new Date(d,+h,2);b=b.getFullYear()+""+f(b.getMonth()+1)}return c};this.reposition=function(){if(m.created&&
!m.staticPos){m.div.style.visibility="hidden";m.div.style.left=m.div.style.top="0px";m.div.style.display="block";var a=m.div.offsetHeight,b=m.div.offsetWidth,c=document.getElementById("fd-but-"+m.id),d=m.truePosition(c),e=document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body,f=m.getScrollOffsets(),g=f[1];f=f[0];var h=parseInt(d[1]-2)-parseInt(g),q=parseInt(e.clientHeight+g)-parseInt(d[1]+c.offsetHeight+2);m.div.style.visibility="visible";m.div.style.left=Number(parseInt(e.clientWidth+
f)<parseInt(b+d[0])?Math.abs(parseInt(e.clientWidth+f-b)):d[0])+"px";m.div.style.top=q>h?Math.abs(parseInt(d[1]+c.offsetHeight+2))+"px":Math.abs(parseInt(d[1]-(a+2)))+"px";parseInt(m.div.style.top)<=parseInt(g+this.extraTopOffset)&&(m.div.style.top=parseInt(g)+this.extraTopOffset+"px");6===K&&(m.iePopUp.style.top=m.div.style.top,m.iePopUp.style.left=m.div.style.left,m.iePopUp.style.width=b+"px",m.iePopUp.style.height=a-2+"px")}};this.removeCursorHighlight=function(){var a=document.getElementById(m.id+
"-date-picker-hover");a&&b(a,"date-picker-hover")};this.addCursorHighlight=function(){var a=document.getElementById(m.id+"-date-picker-hover");a&&h(a,"date-picker-hover")};this.removeOldFocus=function(){var a=document.getElementById(m.id+"-date-picker-hover");if(a)try{B(a,-1),b(a,"date-picker-hover"),a.id="",a.onblur=null,a.onfocus=null}catch(ya){}};this.setNewFocus=function(){var a=document.getElementById(m.id+"-date-picker-hover");if(a)try{B(a,0),this.showCursor&&h(a,"date-picker-hover"),a.onblur=
m.onblur,a.onfocus=m.onfocus,C||m.addAccessibleDate(),setTimeout(function(){try{a.focus()}catch(ya){}},0)}catch(ya){}};this.addAccessibleDate=function(){var a=document.getElementById(m.id+"-date-picker-hover");if(a&&!a.getElementsByTagName("span").length){var b=a.className.match(/cd-([\d]{4})([\d]{2})([\d]{2})/),d=-1!=a.className.search(S),e=document.createElement("span");e.className="fd-screen-reader";c(a);d&&(d=e.cloneNode(!1),d.appendChild(document.createTextNode(G(13))),a.appendChild(d));for(var f=
0,g;g=L[f];f++)"%j"==g||"%d"==g?a.appendChild(document.createTextNode(W(new Date(b[1],+b[2]-1,b[3],5,0,0),g,!0))):(d=e.cloneNode(!1),d.appendChild(document.createTextNode(W(new Date(b[1],+b[2]-1,b[3],5,0,0),g,!0))),a.appendChild(d))}};this.setCursorDate=function(a){-1!=String(a).search(/^([0-9]{8})$/)&&(this.date=new Date(+a.substr(0,4),+a.substr(4,2)-1,+a.substr(6,2),5,0,0),this.cursorDate=a,this.staticPos&&this.updateTable())};this.updateTable=function(a){if(m&&!m.inUpdate&&m.created){m.inUpdate=
!0;m.removeOldFocus();m.div.dir=H.rtl?"rtl":"ltr";if(m.timerSet&&!m.delayedUpdate)if(m.monthInc){a=m.date.getDate();var b=new Date(m.date);b.setDate(2);b.setMonth(b.getMonth()+1*m.monthInc);b.setDate(Math.min(a,J(b.getMonth(),b.getFullYear())));m.date=new Date(b)}else m.date.setDate(Math.min(m.date.getDate()+m.dayInc,J(m.date.getMonth()+m.monthInc,m.date.getFullYear()+m.yearInc))),m.date.setMonth(m.date.getMonth()+m.monthInc),m.date.setFullYear(m.date.getFullYear()+m.yearInc);m.outOfRange();m.noToday||
m.disableTodayButton();m.showHideButtons(m.date);var d=m.date.getDate();a=m.date.getMonth();b=m.date.getFullYear();var e=String(b)+f(a+1)+f(d),g=new Date(b,a,1,5,0,0);g.setHours(5);var h=(g.getDay()+6)%7,q=(h-m.firstDayOfWeek+7)%7-1,l=J(a,b),n=new Date;n=n.getFullYear()+f(n.getMonth()+1)+f(n.getDate());var p=String(g.getFullYear())+f(g.getMonth()+1);g=[4,4,4,4,4,4];var N=new Date(b,a-1,1,5,0,0),X=new Date(b,a+1,1,5,0,0),wa=J(N.getMonth(),N.getFullYear()),t=String(X.getFullYear())+f(X.getMonth()+1),
r=String(N.getFullYear())+f(N.getMonth()+1);X=(X.getDay()+6)%7;N=(N.getDay()+6)%7;var u=document.createElement("span");u.className="fd-screen-reader";m.firstDateShown=!m.constrainSelection&&m.fillGrid&&1>0-q?String(r)+(wa+(0-q)):p+"01";m.lastDateShown=!m.constrainSelection&&m.fillGrid?t+f(41-q-l):p+String(l);m.currentYYYYMM=p;var ua=m.callback("redraw",{id:m.id,dd:f(d),mm:f(a+1),yyyy:b,firstDateDisplayed:m.firstDateShown,lastDateDisplayed:m.lastDateShown})||{};var v=m.getDateExceptions(b,a+1);m.checkSelectedDate();
var x=null!=m.dateSet?m.dateSet.getFullYear()+f(m.dateSet.getMonth()+1)+f(m.dateSet.getDate()):!1;null!=this.selectedTD&&(A(this.selectedTD,"selected",!1),this.selectedTD=null);for(var w=0;42>w;w++){var y=Math.floor(w/7);var z=m.tds[w];u.cloneNode(!1);c(z);if(w>q&&w<=q+l||m.fillGrid){var B=p;var D=h;d=w-q;var C=[];var F=!0;1>d?(d=wa+d,B=r,D=N,F=!m.constrainSelection,C.push("month-out")):d>l&&(d-=l,B=t,D=X,F=!m.constrainSelection,C.push("month-out"));D=(D+d+6)%7;C.push("day-"+D+" cell-"+w);var E=B+
String(10>d?"0":"")+d;if(m.rangeLow&&+E<+m.rangeLow||m.rangeHigh&&+E>+m.rangeHigh)z.className="out-of-range",z.title="",z.appendChild(document.createTextNode(d)),m.showWeeks&&(g[y]=Math.min(g[y],2));else{F?(z.title=ea?W(new Date(+String(B).substr(0,4),+String(B).substr(4,2)-1,+d,5,0,0),ea,!0):"",C.push("cd-"+E+" yyyymmdd-"+E+" yyyymm-"+B+" mmdd-"+B.substr(4,2)+f(d))):(z.title=ea?G(13)+" "+W(new Date(+String(B).substr(0,4),+String(B).substr(4,2)-1,+d,5,0,0),ea,!0):"",C.push("yyyymmdd-"+E+" yyyymm-"+
B+" mmdd-"+B.substr(4,2)+f(d)+" not-selectable"));E==n&&C.push("date-picker-today");x==E&&(C.push("date-picker-selected-date"),A(z,"selected","true"),this.selectedTD=z);if(E in v&&1==v[E]||m.disabledDays[D]&&!(E in v&&0==v[E]))C.push("day-disabled"),ea&&F&&(z.title=G(13)+" "+z.title);E in ua&&C.push(ua[E]);m.highlightDays[D]&&C.push("date-picker-highlight");e==E&&(z.id=m.id+"-date-picker-hover");z.appendChild(document.createTextNode(d));z.className=C.join(" ");m.showWeeks&&(g[y]=Math.min("month-out"==
C[0]?3:1,g[y]))}}else z.className="date-picker-unused",z.appendChild(document.createTextNode(Y)),z.title="";m.showWeeks&&6==w-7*y&&(c(m.wkThs[y]),m.wkThs[y].appendChild(document.createTextNode(4!=g[y]||m.fillGrid?Ca(b,a,w-q-6):Y)),m.wkThs[y].className="date-picker-week-header"+["",""," out-of-range"," month-out",""][g[y]])}e=m.titleBar.getElementsByTagName("span");c(e[0]);c(e[1]);e[0].appendChild(document.createTextNode(Ba(a,!1)+Y));e[1].appendChild(document.createTextNode(b));m.timerSet&&(m.timerInc=
50+Math.round((m.timerInc-50)/1.8),m.timer=window.setTimeout(m.updateTable,m.timerInc));m.inUpdate=m.delayedUpdate=!1;m.setNewFocus()}};this.destroy=function(){document.getElementById("fd-but-"+this.id)&&document.getElementById("fd-but-"+this.id).parentNode.removeChild(document.getElementById("fd-but-"+this.id));if(this.created){p(this.table,"mousedown",m.onmousedown);p(this.table,"mouseover",m.onmouseover);p(this.table,"mouseout",m.onmouseout);p(document,"mousedown",m.onmousedown);p(document,"mouseup",
m.clearTimer);if(window.addEventListener&&!window.devicePixelRatio)try{window.removeEventListener("DOMMouseScroll",this.onmousewheel,!1)}catch(N){}else p(document,"mousewheel",this.onmousewheel),p(window,"mousewheel",this.onmousewheel);m.removeOnFocusEvents();clearTimeout(m.fadeTimer);clearTimeout(m.timer);if(6===K&&!m.staticPos)try{m.iePopUp.parentNode.removeChild(m.iePopUp),m.iePopUp=null}catch(N){}this.div&&this.div.parentNode&&this.div.parentNode.removeChild(this.div);m=null}};this.resizeInlineDiv=
function(){m.div.style.width=m.table.offsetWidth+"px";m.div.style.height=m.table.offsetHeight+"px"};this.reset=function(){var a,b;for(a in m.formElements)if(b=document.getElementById(a))"select"==b.tagName.toLowerCase()?b.selectedIndex=m.formElements[a.defaultVal]:b.value=m.formElements[a.defaultVal];m.changeHandler()};this.create=function(){function a(a){var b=document.createElement("th");a.thClassName&&(b.className=a.thClassName);a.colspan&&b.setAttribute(K?"colSpan":"colspan",a.colspan);b.unselectable=
"on";return b}function b(b,c){for(var d=document.getElementById("fd-controls-"+m.id),e=0,f;f=c[e];e++){var g=a(f);b.appendChild(g);g=document.createElement("button");g.className=f.className;g.id=m.id+f.id;g.setAttribute("aria-label",f.title||f.text);g.appendChild(document.createTextNode(f.text||m.nbsp));d.appendChild(g)}}if(!document.getElementById("fd-"+this.id)){this.noFocus=!0;this.div=document.createElement("div");this.div.id="fd-"+this.id;this.div.className="date-picker"+this.bespokeClass;this.div.style.visibility=
"hidden";this.div.style.display="none";this.describedBy&&document.getElementById(this.describedBy)&&A(this.div,"describedby",this.describedBy);this.labelledBy&&A(this.div,"labelledby",this.labelledBy.id);this.controls=document.createElement("div");this.controls.id="fd-controls-"+this.id;this.controls.className="date-picker-controls";this.idiv=document.createElement("div");this.table=document.createElement("table");this.table.className="date-picker-table";this.table.onmouseover=this.onmouseover;this.table.onmouseout=
this.onmouseout;this.table.onclick=this.onclick;Modernizr.touch&&(this.table.ontouchstart=this.onclick);100>this.finalOpacity&&(this.idiv.style.opacity=Math.min(Math.max(parseInt(this.finalOpacity,10)/100,.2),1));this.staticPos&&(this.table.onmousedown=this.onmousedown);this.div.appendChild(this.controls);this.div.appendChild(this.idiv);this.idiv.appendChild(this.table);var c=this.dragDisabled?"":" drag-enabled";if(this.staticPos){var d=document.getElementById(this.positioned?this.positioned:this.id);
if(!d){this.div=null;if(w)throw this.positioned?"Could not locate a datePickers associated parent element with an id:"+this.positioned:"Could not locate a datePickers associated input with an id:"+this.id;return}this.div.className+=" static-datepicker";this.positioned?d.appendChild(this.div):d.parentNode.insertBefore(this.div,d.nextSibling);if(this.hideInput)for(e in this.formElements)if(d=document.getElementById(e))d.className+=" fd-hidden-input";setTimeout(this.resizeInlineDiv,300)}else this.div.style.visibility=
"hidden",this.div.className+=c,document.getElementsByTagName("body")[0].appendChild(this.div),6===K&&(this.iePopUp=document.createElement("iframe"),this.iePopUp.src="javascript:'\x3chtml\x3e\x3c/html\x3e';",this.iePopUp.setAttribute("className","iehack"),this.iePopUp.setAttribute("tabIndex",-1),r(this.iePopUp,"presentation"),A(this.iePopUp,"hidden","true"),this.iePopUp.scrolling="no",this.iePopUp.frameBorder="0",this.iePopUp.name=this.iePopUp.id=this.id+"-iePopUpHack",document.body.appendChild(this.iePopUp)),
A(this.div,"hidden","true");r(this.div,"application");r(this.table,"grid");if(this.statusFormat){d=document.createElement("tfoot");this.table.appendChild(d);var e=document.createElement("tr");e.className="date-picker-tfoot";d.appendChild(e);this.statusBar=a({thClassName:"date-picker-statusbar"+c,colspan:this.showWeeks?8:7});e.appendChild(this.statusBar);this.updateStatus()}d=document.createElement("thead");d.className="date-picker-thead";this.table.appendChild(d);e=document.createElement("tr");r(e,
"presentation");d.appendChild(e);this.titleBar=function(a){var b=document.createElement("div");a.thClassName&&(b.className=a.thClassName);return b}({thClassName:"date-picker-title"+c,colspan:this.showWeeks?8:7});this.div.insertBefore(this.titleBar,this.div.firstChild);e=null;e=document.createElement("span");e.appendChild(document.createTextNode(Y));e.className="month-display"+c;this.titleBar.appendChild(e);e=document.createElement("span");e.appendChild(document.createTextNode(Y));e.className="year-display"+
c;this.titleBar.appendChild(e);e=null;e=document.createElement("tr");r(e,"presentation");d.appendChild(e);b(e,[{className:"prev-but prev-year needsclick",id:"-prev-year-but",text:"\u00ab",title:G(2)},{className:"prev-but prev-month needsclick",id:"-prev-month-but",text:"\u2039",title:G(0)},{colspan:this.showWeeks?4:3,className:"today-but needsclick",id:"-today-but",text:G(4)},{className:"next-but next-month needsclick",id:"-next-month-but",text:"\u203a",title:G(1)},{className:"next-but next-year needsclick",
id:"-next-year-but",text:"\u00bb",title:G(3)}]);var f=document.createElement("tbody");this.table.appendChild(f);c=this.showWeeks?8:7;for(var g=this.showWeeks?0:-1,h=0;7>h;h++){e=document.createElement("tr");0!=h?(r(e,"row"),f.appendChild(e)):d.appendChild(e);for(var q=0;q<c;q++){if(0===h||this.showWeeks&&0===q)var l=document.createElement("th");else l=document.createElement("td"),A(l,"describedby",this.id+"-col-"+q+(this.showWeeks?" "+this.id+"-row-"+h:"")),A(l,"selected","false");K&&(l.unselectable=
"on");e.appendChild(l);this.showWeeks&&0<q&&0<h||!this.showWeeks&&0<h?r(l,"gridcell"):0===h&&q>g?(l.className="date-picker-day-header",l.scope="col",r(l,"columnheader"),l.id=this.id+"-col-"+q):(l.className="date-picker-week-header",l.scope="row",r(l,"rowheader"),l.id=this.id+"-row-"+h)}}l=e=null;this.ths=this.table.getElementsByTagName("thead")[0].getElementsByTagName("tr")[2].getElementsByTagName("th");for(e=0;e<c;e++)0==e&&this.showWeeks?(this.ths[e].appendChild(document.createTextNode(G(6))),this.ths[e].title=
G(8)):e>(this.showWeeks?0:-1)&&(d=document.createElement("span"),d.className="fd-day-header",K&&(d.unselectable="on"),this.ths[e].appendChild(d));d=null;this.trs=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("tr");this.tds=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("td");this.butPrevYear=document.getElementById(this.id+"-prev-year-but");this.butPrevMonth=document.getElementById(this.id+"-prev-month-but");this.butToday=document.getElementById(this.id+"-today-but");
this.butNextYear=document.getElementById(this.id+"-next-year-but");this.butNextMonth=document.getElementById(this.id+"-next-month-but");this.noToday&&(this.butToday.style.display="none");this.showWeeks&&(this.wkThs=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("th"),this.div.className+=" weeks-displayed");f=d=e=b=a=null;this.updateTableHeaders();this.created=!0;this.updateTable();this.staticPos?(this.visible=!0,this.opacity=100,this.div.style.visibility="visible",this.div.style.display=
"block",this.noFocus=!0,this.fade()):(this.reposition(),this.div.style.visibility="visible",this.fade(),this.noFocus=!0);this.callback("domcreate",{id:this.id})}};this.transEnd=function(){m.div.style.display="none";m.div.style.visibility="hidden";A(m.div,"hidden","true")};this.fade=function(){window.clearTimeout(m.fadeTimer);m.fadeTimer=null;m.setOpacity(m.opacityTo);0==m.opacityTo?(m.div.style.display="none",m.div.style.zIndex=-2,A(m.div,"hidden","true"),m.visible=!1):(m.div.style.display="block",
m.div.style.zIndex=100,A(m.div,"hidden","false"),m.visible=!0)};this.trackDrag=function(a){a=a||window.event;var b=(a.pageX?a.pageX:a.clientX?a.clientX:a.x)-m.mx;a=(a.pageY?a.pageY:a.clientY?a.clientY:a.Y)-m.my;m.div.style.left=0<Math.round(m.x+b)?Math.round(m.x+b)+"px":"0px";m.div.style.top=0<Math.round(m.y+a)?Math.round(m.y+a)+"px":"0px";6!==K||m.staticPos||(m.iePopUp.style.top=m.div.style.top,m.iePopUp.style.left=m.div.style.left)};this.stopDrag=function(a){a=document.getElementsByTagName("body")[0];
b(a,"fd-drag-active");p(document,"mousemove",m.trackDrag,!1);p(document,"mouseup",m.stopDrag,!1);m.div.style.zIndex=100};this.onmousedown=function(a){a=a||document.parentWindow.event;var b=null!=a.target?a.target:a.srcElement,c=b,e=!0,f=new RegExp("^fd-(but-)?"+d(m.id)+"$");for(m.mouseDownElem=null;b;){if(b.id&&b.id.length&&-1!=b.id.search(f)){e=!1;break}try{b=b.parentNode}catch(Fa){break}}return e?(ja(),!0):-1!=(m.div.className+c.className).search("fd-disabled")?!0:-1!=c.id.search(new RegExp("^"+
d(m.id)+"(-prev-year-but|-prev-month-but|-next-month-but|-next-year-but)$"))?(m.tableHeadersHandler(c),u(a)):c.id===m.id+"-today-but"?(m.goToToday(),u(a)):-1!=b.className.search("drag-enabled")?(m.mx=a.pageX?a.pageX:a.clientX?a.clientX:a.x,m.my=a.pageY?a.pageY:a.clientY?a.clientY:a.Y,m.x=parseInt(m.div.style.left,10),m.y=parseInt(m.div.style.top,10),l(document,"mousemove",m.trackDrag,!1),l(document,"mouseup",m.stopDrag,!1),h(document.getElementsByTagName("body")[0],"fd-drag-active"),m.div.style.zIndex=
1E4,u(a)):!0};this.onclick=function(a){if(!da&&m.opacity!=m.opacityTo||m.disabled)return u(a);a=a||document.parentWindow.event;for(var b=null!=a.target?a.target:a.srcElement;b.parentNode;){if(b.tagName&&"td"==b.tagName.toLowerCase()){if(-1==b.className.search(/cd-([0-9]{8})/)||-1!=b.className.search(S))break;b=b.className.match(/cd-([0-9]{8})/)[1];m.date=new Date(b.substr(0,4),b.substr(4,2)-1,b.substr(6,2),5,0,0);m.dateSet=new Date(m.date);m.noFocus=!0;m.callback("dateset",{id:m.id,date:m.dateSet,
dd:m.dateSet.getDate(),mm:m.dateSet.getMonth()+1,yyyy:m.dateSet.getFullYear()});m.returnFormattedDate();m.hide();m.stopTimer();break}else if(b.id&&b.id==m.id+"-today-but"){m.goToToday();m.stopTimer();break}else b.className.search(/date-picker-day-header/);try{b=b.parentNode}catch(M){break}}return u(a)};this.tableHeadersHandler=function(a){m.mouseDownElem=a;l(document,"mouseup",m.clearTimer);l(a,"mouseout",m.clearTimer);var b={"-prev-year-but":[0,-1,0],"-prev-month-but":[0,0,-1],"-next-year-but":[0,
1,0],"-next-month-but":[0,0,1]};a=a.id.replace(m.id,"");var c=Number(m.date.getFullYear()+f(m.date.getMonth()+1));m.timerInc=800;m.timerSet=!0;m.dayInc=b[a][0];m.yearInc=b[a][1];m.monthInc=b[a][2];m.accellerator=1;m.currentYYYYMM!=c&&(m.currentYYYYMM<c&&(-1==m.yearInc||-1==m.monthInc)||m.currentYYYYMM>c&&(1==m.yearInc||1==m.monthInc)?(m.delayedUpdate=!1,m.timerInc=1200):m.delayedUpdate=!0);m.updateTable()};this.goToToday=function(){m.date=new Date;m.updateTable();m.setNewFocus()};this.show=function(a){if(!this.staticPos){var b;
for(b in this.formElements){var c=document.getElementById(this.id);if(!c||c&&c.disabled)return}this.noFocus=!0;this.created&&document.getElementById("fd-"+this.id)?(this.setDateFromInput(),this.reposition()):(this.fullCreate=this.created=!1,this.create(),this.fullCreate=!0);(this.noFocus=!a)?(this.clickActivated=!0,this.showCursor=!1,l(document,"mousedown",this.onmousedown),I&&(window.addEventListener&&!window.devicePixelRatio?window.addEventListener("DOMMouseScroll",this.onmousewheel,!1):(l(document,
"mousewheel",this.onmousewheel),l(window,"mousewheel",this.onmousewheel)))):(this.clickActivated=!1,this.showCursor=!0);this.opacityTo=100;this.div.style.display="block";6===K&&(this.iePopUp.style.width=this.div.offsetWidth+"px",this.iePopUp.style.height=this.div.offsetHeight+"px",this.iePopUp.style.display="block");this.setNewFocus();this.fade();(a=document.getElementById("fd-but-"+this.id))&&h(a,"date-picker-button-active")}};this.hide=function(){if(this.visible&&this.created&&document.getElementById("fd-"+
this.id)&&(this.kbEvent=!1,b(m.div,"date-picker-focus"),this.stopTimer(),this.removeOnFocusEvents(),this.clickActivated=!1,this.noFocus=!0,this.showCursor=!1,this.setNewFocus(),!this.staticPos)){this.statusBar&&this.updateStatus(G(9));var a=document.getElementById("fd-but-"+this.id);a&&b(a,"date-picker-button-active");p(document,"mousedown",this.onmousedown);if(I)if(window.addEventListener&&!window.devicePixelRatio)try{window.removeEventListener("DOMMouseScroll",this.onmousewheel,!1)}catch(ya){}else p(document,
"mousewheel",this.onmousewheel),p(window,"mousewheel",this.onmousewheel);6===K&&(this.iePopUp.style.display="none");this.opacityTo=0;this.fade()}};this.onblur=function(a){m.removeCursorHighlight()};this.onfocus=function(a){m.noFocus=!1;h(m.div,"date-picker-focus");m.statusBar&&m.updateStatus(W(m.date,m.statusFormat,!0));m.showCursor=!0;m.addCursorHighlight();m.addOnFocusEvents()};this.onmousewheel=function(a){a=a||document.parentWindow.event;var b=0;a.wheelDelta?(b=a.wheelDelta/120,C&&9.2>window.opera.version()&&
(b=-b)):a.detail&&(b=-a.detail/3);var c=m.date.getDate(),d=new Date(m.date);b=0<b?1:-1;d.setDate(2);d.setMonth(d.getMonth()+1*b);d.setDate(Math.min(c,J(d.getMonth(),d.getFullYear())));if(m.outOfRange(d))return u(a);m.date=new Date(d);m.updateTable();m.statusBar&&m.updateStatus(W(m.date,m.statusFormat,!0));return u(a)};this.onkeydown=function(a){m.stopTimer();if(!m.visible)return!1;a=a||document.parentWindow.event;var b=null!=a.target?a.target:a.srcElement,c=a.keyCode?a.keyCode:a.charCode,d=document.getElementById(m.id+
"-date-picker-hover");if(13==c){if(document.activeElement===d){c=document.getElementById(m.id+"-date-picker-hover");if(!c||-1==c.className.search(/cd-([0-9]{8})/)||-1!=c.className.search(/out-of-range|day-disabled/))return u(a);m.dateSet=new Date(m.date);m.callback("dateset",m.createCbArgObj());m.returnFormattedDate();m.hide();return u(a)}if(-1!=b.id.search(new RegExp("^"+m.id+"(-prev-year-but|-prev-month-but|-next-month-but|-next-year-but)$")))return m.tableHeadersHandler(b),m.clearTimer(),u(a);
if(b.id===m.id+"-today-but")return m.goToToday(),m.clearTimer(),u(a)}else{if(27==c){if(!m.staticPos){m.hide();var e=document.getElementById("fd-but-"+m.id);e&&setTimeout(function(){try{e.focus()}catch(Ja){}},0);return u(a)}return!0}if(32==c||0==c)return m.date=new Date,m.updateTable(),u(a);if(9==c)if(a.shiftKey){if(document.activeElement===m.butPrevYear)return d.focus(),u(a)}else{if(document.activeElement===m.butNextYear)return d.focus(),u(a);if(document.activeElement===m.butPrevYear)return m.butPrevMonth.focus(),
u(a);if(document.activeElement===m.butPrevMonth)return m.butToday.focus(),u(a);if(document.activeElement===m.butToday)return m.butNextMonth.focus(),u(a);if(document.activeElement===m.butNextMonth)return m.butNextYear.focus(),u(a);if(document.activeElement===d)return m.butPrevYear.focus(),u(a)}}if(K){if(50>(new Date).getTime()-m.interval.getTime())return u(a);m.interval=new Date}if(49<c&&56>c||97<c&&104>c)return 96<c&&(c-=48),m.firstDayOfWeek=(m.firstDayOfWeek+(c-49))%7,m.updateTableHeaders(),u(a);
if(33>c||40<c)return!0;b=new Date(m.date);m.date.getFullYear();f(m.date.getMonth()+1);if(36==c)b.setDate(1);else if(35==c)b.setDate(J(b.getMonth(),b.getFullYear()));else if(33==c||34==c)if(d=34==c?1:-1,a.ctrlKey)b.setFullYear(b.getFullYear()+1*d);else{var g=m.date.getDate();b.setDate(2);b.setMonth(b.getMonth()+1*d);b.setDate(Math.min(g,J(b.getMonth(),b.getFullYear())))}else 37==c?b=new Date(m.date.getFullYear(),m.date.getMonth(),m.date.getDate()-1,5,0,0):39==c||34==c?b=new Date(m.date.getFullYear(),
m.date.getMonth(),m.date.getDate()+1,5,0,0):38==c?b=new Date(m.date.getFullYear(),m.date.getMonth(),m.date.getDate()-7,5,0,0):40==c&&(b=new Date(m.date.getFullYear(),m.date.getMonth(),m.date.getDate()+7,5,0,0));if(m.outOfRange(b))return u(a);m.date=b;m.statusBar&&m.updateStatus(m.getBespokeTitle(m.date.getFullYear(),m.date.getMonth()+1,m.date.getDate())||W(m.date,m.statusFormat,!0));b=String(m.date.getFullYear())+f(m.date.getMonth()+1)+f(m.date.getDate());if(a.ctrlKey||33==c||34==c||b<m.firstDateShown||
b>m.lastDateShown)m.updateTable(),K&&(m.interval=new Date);else for(m.noToday||m.disableTodayButton(),m.removeOldFocus(),m.showHideButtons(m.date),d=0;c=m.tds[d];d++)if(-1!=c.className.search("cd-"+b)){c.id=m.id+"-date-picker-hover";m.setNewFocus();break}return u(a)};this.onmouseout=function(a){a=a||document.parentWindow.event;for(a=a.toElement||a.relatedTarget;a&&a!=this;)try{a=a.parentNode}catch(ya){a=this}if(a==this)return!1;if(m.clickActivated||m.staticPos&&!m.kbEventsAdded)m.showCursor=!1,m.removeCursorHighlight();
m.currentTR&&(m.currentTR.className="",m.currentTR=null);m.statusBar&&m.updateStatus(m.dateSet?m.getBespokeTitle(m.dateSet.getFullYear(),m.dateSet.getMonth()+1,m.dateSet.getDate())||W(m.dateSet,m.statusFormat,!0):G(9))};this.onmouseover=function(a){a=a||document.parentWindow.event;for(a=null!=a.target?a.target:a.srcElement;1!=a.nodeType;)a=a.parentNode;if(a&&a.tagName){m.noFocus=!0;var b=G(9);if(m.clickActivated||m.staticPos&&!m.kbEventsAdded)m.showCursor=!1;switch(a.tagName.toLowerCase()){case "td":-1!=
a.className.search(/date-picker-unused|out-of-range/)&&(b=G(9));-1!=a.className.search(/cd-([0-9]{8})/)&&(m.showCursor=!0,m.stopTimer(),b=a.className.match(/cd-([0-9]{8})/)[1],m.removeOldFocus(),a.id=m.id+"-date-picker-hover",m.setNewFocus(),m.date=new Date(+b.substr(0,4),+b.substr(4,2)-1,+b.substr(6,2),5,0,0),m.noToday||m.disableTodayButton(),b=m.getBespokeTitle(+b.substr(0,4),+b.substr(4,2),+b.substr(6,2))||W(m.date,m.statusFormat,!0));break;case "th":if(!m.statusBar)break;-1!=a.className.search(/drag-enabled/)?
b=G(10):-1!=a.className.search(/date-picker-week-header/)&&(b=a.firstChild?a.firstChild.nodeValue:"",b=-1!=b.search(/^(\d+)$/)?G(7,[b,3>b&&11==m.date.getMonth()?Aa(m.date.getFullYear())+1:Aa(m.date.getFullYear())]):G(9));break;case "span":if(!m.statusBar)break;-1!=a.className.search(/day-([0-6])/)?(b=a.className.match(/day-([0-6])/)[1],b=G(11,[ta(b,!1)])):-1!=a.className.search(/(drag-enabled|today-but|prev-(year|month)|next-(year|month))/)&&-1==a.className.search(/disabled/)&&(b=G({"drag-enabled":10,
"prev-year":2,"prev-month":0,"next-year":3,"next-month":1,"today-but":12}[a.className.match(/(drag-enabled|today-but|prev-(year|month)|next-(year|month))/)[0]]));break;default:b=""}for(;a.parentNode;)if(a=a.parentNode,1==a.nodeType&&"tr"==a.tagName.toLowerCase()){if(m.currentTR){if(a==m.currentTR)break;m.currentTR.className=""}a.className="dp-row-highlight";m.currentTR=a;break}m.statusBar&&b&&m.updateStatus(b);m.showCursor||m.removeCursorHighlight()}};this.clearTimer=function(){m.stopTimer();m.timerInc=
800;m.yearInc=0;m.monthInc=0;m.dayInc=0;p(document,"mouseup",m.clearTimer);null!=m.mouseDownElem&&p(m.mouseDownElem,"mouseout",m.clearTimer);m.mouseDownElem=null};var m=this;this.setDateFromInput();this.staticPos?this.create():this.createButton();(function(){var a,b,c=0;for(a in m.formElements)(b=document.getElementById(a))&&b.tagName&&-1!=b.tagName.search(/select|input/i)&&(l(b,"change",m.changeHandler),0==c&&b.form&&l(b.form,"reset",m.reset),c++),b&&1!=b.disabled||(b=document.getElementById("fd-but-"+
a),b.disabled=!0,A(b,"disabled",!0))})();this.fullCreate=!0}var w=!1,C="[object Opera]"===Object.prototype.toString.call(window.opera),ba="",ia=function(){var a=document.getElementsByTagName("html")[0].getAttribute("lang")||document.getElementsByTagName("html")[0].getAttribute("xml:lang");a=a?a.toLowerCase():E;return-1!=a.search(/^([a-z]{2,3})-([a-z]{2})$/)?[a.match(/^([a-z]{2,3})-([a-z]{2})$/)[1],a]:[a]}(),Y=String.fromCharCode(160),x={},ca={},T={},E="de",V=100,da=null,Q="",I=!0,R=!0,H=!1,ka=!1,
D=!1,ma=!1,Z=!0,ea="%F %d, %Y",qa="",L=C?["%j"]:["%j"," %F %Y"],aa=/%([d|j])/,ha=/%([M|F|m|n])/,na=/%[y|Y]/,S=/date-picker-unused|out-of-range|day-disabled|not-selectable/,oa=/%([d|j|M|F|m|n|Y|y])/,va=/%([d|D|l|j|N|w|S|W|M|F|m|n|t|Y|y])/,P=/^((\d\d\d\d)(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01]))$/,sa=/^(((\d\d\d\d)|(\*\*\*\*))((0[1-9]|1[012])|(\*\*))(0[1-9]|[12][0-9]|3[01]))$/,K=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+
"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e",c[0];);return 4<a?a:void 0}(),ra=!1,U=function(a,b,c){if("[object RegExp]"!==Object.prototype.toString.call(b))return U._nativeSplit.call(a,b,c);var d=[],e=0;b=RegExp(b.source,"g");var f,g;a+="";U._compliantExecNpcg||(f=RegExp("^"+b.source+"$(?!\\s)",""));if(void 0===c||0>+c)c=Infinity;else if(c=Math.floor(+c),!c)return[];for(;g=b.exec(a);){var h=g.index+g[0].length;if(h>e){d.push(a.slice(e,g.index));!U._compliantExecNpcg&&1<g.length&&g[0].replace(f,function(){for(var a=
1;a<arguments.length-2;a++)void 0===arguments[a]&&(g[a]=void 0)});1<g.length&&g.index<a.length&&Array.prototype.push.apply(d,g.slice(1));var q=g[0].length;e=h;if(d.length>=c)break}b.lastIndex===g.index&&b.lastIndex++}e===a.length?(q||!b.test(""))&&d.push(""):d.push(a.slice(e));return d.length>c?d.slice(0,c):d};U._compliantExecNpcg=void 0===/()??/.exec("")[1];U._nativeSplit=String.prototype.split;v.prototype.addButtonEvents=function(a){function c(a){a=a||window.event;var c=this.id.replace("fd-but-",
""),d=c&&c in x?x[c].visible:!1,e=!1;if(x[c].kbEvent)x[c].kbEvent=!1;else{if("keydown"==a.type){if(13!=(null!=a.keyCode?a.keyCode:a.charCode))return!0;x[c].kbEvent=!0;if(d)return b(this,"date-picker-button-active"),ja(),u(a);e=!0}else x[c].kbEvent=!1;d?(b(this,"date-picker-button-active"),ja()):(h(this,"date-picker-button-active"),ja(c),la(c,e));return u(a)}}a.onclick=c;a.onkeydown=c};v.prototype.createButton=function(){if(!this.staticPos&&!document.getElementById("fd-but-"+this.id)){var a=document.getElementById(this.id),
b=document.createElement("span"),c=document.createElement("button");c.setAttribute("data-target","#"+this.id);c.className="date-picker-control";c.title=G(5);c.id="fd-but-"+this.id;c.type="button";b.appendChild(document.createTextNode(Y));c.appendChild(b);b=document.createElement("span");b.className="fd-screen-reader";b.appendChild(document.createTextNode(c.title));c.appendChild(b);A(c,"haspopup",!0);this.positioned&&document.getElementById(this.positioned)?document.getElementById(this.positioned).appendChild(c):
a.parentNode.insertBefore(c,a.nextSibling);this.addButtonEvents(c);this.callback("dombuttoncreate",{id:this.id})}};v.prototype.setBespokeTitles=function(a){this.bespokeTitles={};this.addBespokeTitles(a)};v.prototype.addBespokeTitles=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.bespokeTitles[b]=a[b])};v.prototype.getBespokeTitle=function(a,b,c){var d,e=a+String(f(b))+f(c);for(d in this.bespokeTitles)if(this.bespokeTitles.hasOwnProperty(d)&&(c=String(d).replace(/^(\*\*\*\*)/,a).replace(/^(\d\d\d\d)(\*\*)/,
"$1"+f(b)),c==e))return this.bespokeTitles[d];for(d in T)if(T.hasOwnProperty(d)&&(c=String(d).replace(/^(\*\*\*\*)/,a).replace(/^(\d\d\d\d)(\*\*)/,"$1"+f(b)),c==e))return T[d];return!1};v.prototype.returnSelectedDate=function(){return this.dateSet};v.prototype.setRangeLow=function(a){if(-1==String(a).search(P)){if(w)throw"Invalid value passed to setRangeLow method: "+a;return!1}this.rangeLow=a;this.inUpdate||this.setDateFromInput()};v.prototype.setRangeHigh=function(a){if(-1==String(a).search(P)){if(w)throw"Invalid value passed to setRangeHigh method: "+
a;return!1}this.rangeHigh=a;this.inUpdate||this.setDateFromInput()};v.prototype.setDisabledDays=function(a){if(!a.length||-1==a.join("").search(/^([0|1]{7})$/)){if(w)throw"Invalid values located when attempting to call setDisabledDays";return!1}this.disabledDays=a;this.inUpdate||this.setDateFromInput()};v.prototype.setDisabledDates=function(a){this.filterDateList(a,!0)};v.prototype.setEnabledDates=function(a){this.filterDateList(a,!1)};v.prototype.addDisabledDates=function(a){this.addDatesToList(a,
!0)};v.prototype.addEnabledDates=function(a){this.addDatesToList(a,!1)};v.prototype.filterDateList=function(a,b){for(var c=[],d=0;d<this.dateList.length;d++)this.dateList[d].type!=b&&c.push(this.dateList[d]);this.dateList=c.concat();this.addDatesToList(a,b)};v.prototype.addDatesToList=function(a,b){for(var c in a)-1==String(c).search(sa)||1!=a[c]&&-1==String(a[c]).search(sa)||1!=a[c]&&Number(String(c).replace(/^\*\*\*\*/,2010).replace(/^(\d\d\d\d)(\*\*)/,"$122"))>Number(String(a[c]).replace(/^\*\*\*\*/,
2010).replace(/^(\d\d\d\d)(\*\*)/,"$122"))||this.dateList.push({type:!!b,rLow:c,rHigh:a[c]});this.inUpdate||this.setDateFromInput()};v.prototype.setSelectedDate=function(a){if(-1==String(a).search(sa))return!1;a=a.match(P);a=new Date(+a[2],+a[3]-1,+a[4],5,0,0);if(!a||isNaN(a)||!this.canDateBeSelected(a))return!1;this.dateSet=new Date(a);this.inUpdate||this.updateTable();this.callback("dateset",this.createCbArgObj());this.returnFormattedDate()};v.prototype.checkSelectedDate=function(){this.dateSet&&
!this.canDateBeSelected(this.dateSet)&&(this.dateSet=null);this.inUpdate||this.updateTable()};v.prototype.addOnFocusEvents=function(){this.kbEventsAdded||this.noFocus||(l(document,"keydown",this.onkeydown),l(document,"mousedown",this.onmousedown),K&&(p(document,"keypress",this.onkeydown),l(document,"keydown",this.onkeydown)),window.devicePixelRatio&&(p(document,"keypress",this.onkeydown),l(document,"keydown",this.onkeydown)),this.noFocus=!1,this.kbEventsAdded=!0)};v.prototype.removeOnFocusEvents=
function(){this.kbEventsAdded&&(p(document,"keypress",this.onkeydown),p(document,"keydown",this.onkeydown),p(document,"mousedown",this.onmousedown),this.kbEventsAdded=!1)};v.prototype.stopTimer=function(){this.timerSet=!1;window.clearTimeout(this.timer)};v.prototype.setOpacity=function(a){this.div.style.opacity=a/100;this.div.style.filter="alpha(opacity\x3d"+a+")";this.opacity=a};v.prototype.truePosition=function(a){var b=this.cumulativeOffset(a);if(C)return b;var c=document.compatMode&&"BackCompat"!=
document.compatMode?document.documentElement:document.body,d=document.all?c.scrollLeft:window.pageXOffset;c=document.all?c.scrollTop:window.pageYOffset;a=this.realOffset(a);return[b[0]-a[0]+d,b[1]-a[1]+c]};v.prototype.realOffset=function(a){var b=0,c=0;do b+=a.scrollTop||0,c+=a.scrollLeft||0,a=a.parentNode;while(a);return[c,b]};v.prototype.cumulativeOffset=function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return[c,b]};v.prototype.outOfRange=function(a){if(!this.rangeLow&&
!this.rangeHigh)return!1;var b=!1;a||(b=!0,a=this.date);var c=f(a.getDate()),d=f(a.getMonth()+1);a=a.getFullYear();c=String(a)+String(d)+String(c);if(this.rangeLow&&+c<+this.rangeLow){if(!b)return!0;this.date=new Date(this.rangeLow.substr(0,4),this.rangeLow.substr(4,2)-1,this.rangeLow.substr(6,2),5,0,0);return!1}if(this.rangeHigh&&+c>+this.rangeHigh){if(!b)return!0;this.date=new Date(this.rangeHigh.substr(0,4),this.rangeHigh.substr(4,2)-1,this.rangeHigh.substr(6,2),5,0,0)}return!1};v.prototype.canDateBeSelected=
function(a){if(!a||isNaN(a))return!1;var b=f(a.getDate()),c=f(a.getMonth()+1),d=a.getFullYear();b=d+""+c+b;c=this.getDateExceptions(d,c);a=0==a.getDay()?7:a.getDay();return this.rangeLow&&+b<+this.rangeLow||this.rangeHigh&&+b>+this.rangeHigh||b in c&&1==c[b]||this.disabledDays[a-1]&&(!(b in c)||b in c&&1==c[b])?!1:!0};v.prototype.updateStatus=function(a){c(this.statusBar);if(a&&-1!=this.statusFormat.search(/%S/)&&-1!=a.search(/([0-9]{1,2})(st|nd|rd|th)/)){a=U(a.replace(/([0-9]{1,2})(st|nd|rd|th)/,
"$1\x3csup\x3e$2\x3c/sup\x3e"),/<sup>|<\/sup>/);for(var b=document.createDocumentFragment(),d=0,e;e=a[d];d++)if(/^(st|nd|rd|th)$/.test(e)){var f=document.createElement("sup");f.appendChild(document.createTextNode(e));b.appendChild(f)}else b.appendChild(document.createTextNode(e));this.statusBar.appendChild(b)}else this.statusBar.appendChild(document.createTextNode(a?a:G(9)))};v.prototype.setDateFromInput=function(){var a=!1,c=this.staticPos?!1:document.getElementById("fd-but-"+this.id),d=H.imported?
[].concat(fa.fullMonths).concat(fa.monthAbbrs):[],e=H.imported?[].concat(H.fullMonths).concat(H.monthAbbrs):[],f=/(3[01]|[12][0-9]|0?[1-9])(st|nd|rd|th)/i,g=0,l,n,p,t;this.dateSet=null;for(p in this.formElements){var r=document.getElementById(p);if(!r)return!1;g++;if(t=String(r.value)){var u=this.formElements[p];r=[u];var v=-1!=u.search(aa);var w=-1!=u.search(ha);u=-1!=u.search(na);v&&w&&u||(!u||w||v?!w||u||v?!v||u||w||(r=r.concat(["%d%","%j"])):r=r.concat(["%M","%F","%m","%n"]):r=r.concat(["%Y",
"%y"]));for(n=0;n<r.length;n++){if(l=xa(t,r[n])){if(!x&&v&&l.d)var x=l.d;!1===a&&w&&l.m&&(a=l.m);if(!y&&u&&l.y)var y=l.y}if((v&&x||!v)&&(w&&!1===!a||!w)&&(u&&y||!u))break}}}if(Z&&(!x||!1===a||!y)&&v&&w&&u&&1==g&&t){if(H.imported)for(n=0;n<e.length;n++)t=t.replace(new RegExp(e[n],"i"),d[n]);-1!=t.search(f)&&(t=t.replace(f,t.match(f)[1]));(l=new Date(t.replace(/-/g,"/")),isNaN(l))||(x=l.getDate(),a=l.getMonth()+1,y=l.getFullYear())}l=!1;x&&!1!==a&&y&&(+x>J(+a-1,+y)?(x=J(+a-1,+y),l=!1):l=new Date(+y,
+a-1,+x,5,0,0));c&&b(c,"date-picker-dateval");!l||isNaN(l)?(a=new Date(y||(new Date).getFullYear(),!1!==a?a-1:(new Date).getMonth(),1,5,0,0),this.date=this.cursorDate?new Date(+this.cursorDate.substr(0,4),+this.cursorDate.substr(4,2)-1,+this.cursorDate.substr(6,2),5,0,0):new Date(a.getFullYear(),a.getMonth(),Math.min(+x||(new Date).getDate(),J(a.getMonth(),a.getFullYear())),5,0,0),this.outOfRange()):(l.setHours(5),this.date=new Date(l),this.outOfRange(),l.getTime()==this.date.getTime()&&this.canDateBeSelected(this.date)?
(this.dateSet=new Date(this.date),c&&h(c,"date-picker-dateval")):this.dateSet=new Date(l),this.returnFormattedDate(!0));this.fullCreate&&this.updateTable()};v.prototype.setSelectIndex=function(a,b){for(var c=a.options.length-1;0<=c;c--)if(a.options[c].value==b){a.selectedIndex=c;break}};v.prototype.returnFormattedDate=function(a){var c=this.staticPos?!1:document.getElementById("fd-but-"+this.id);if(this.dateSet){f(this.dateSet.getDate());f(this.dateSet.getMonth()+1);this.dateSet.getFullYear();var d=
!1,g;a=!!a;for(g in this.formElements){var l=document.getElementById(g);if(!l)return;d||(d=l);var q=this.formElements[g];q=W(this.dateSet,q,ma);"input"==l.tagName.toLowerCase()?(l.value=q,e(l).trigger("input")):this.setSelectIndex(l,q)}this.staticPos?(this.noFocus=!0,this.updateTable(),this.noFocus=!1):c&&h(c,"date-picker-dateval");if(this.fullCreate&&d.type&&"hidden"!=d.type&&!a)try{c.focus()}catch(ya){}a||this.callback("datereturned",this.createCbArgObj())}else c&&b(c,"date-picker-dateval")};v.prototype.disableDatePicker=
function(){if(!this.disabled){if(this.staticPos)this.removeOnFocusEvents(),this.removeOldFocus(),this.noFocus=!0,h(this.div,"date-picker-disabled"),this.table.onmouseover=this.table.onclick=this.table.onmouseout=this.table.onmousedown=null,p(document,"mousedown",this.onmousedown),p(document,"mouseup",this.clearTimer);else{this.visible&&this.hide();var a=document.getElementById("fd-but-"+this.id);a&&(h(a,"date-picker-control-disabled"),A(a,"disabled",!0),a.onkeydown=a.onclick=function(){return!1},
B(a,-1),a.title="")}document.getElementById(this.id).disabled=!0;clearTimeout(this.timer);this.disabled=!0}};v.prototype.enableDatePicker=function(){if(this.disabled){if(this.staticPos)this.removeOldFocus(),null!=this.dateSet&&(this.date=this.dateSet),this.noFocus=!0,this.updateTable(),b(this.div,"date-picker-disabled"),this.disabled=!1,this.table.onmouseover=this.onmouseover,this.table.onmouseout=this.onmouseout,this.table.onclick=this.onclick,this.table.onmousedown=this.onmousedown;else{var a=document.getElementById("fd-but-"+
this.id);a&&(b(a,"date-picker-control-disabled"),A(a,"disabled",!1),this.addButtonEvents(a),a.title=G(5))}this.disabled=document.getElementById(this.id).disabled=!1}};v.prototype.disableTodayButton=function(){var a=new Date;b(this.butToday,"fd-disabled");(this.outOfRange(a)||this.date.getDate()==a.getDate()&&this.date.getMonth()==a.getMonth()&&this.date.getFullYear()==a.getFullYear())&&h(this.butToday,"fd-disabled")};v.prototype.updateTableHeaders=function(){for(var a=this.showWeeks?8:7,d=this.showWeeks?
1:0,e,f,g=d;g<a;g++)e=(this.firstDayOfWeek+(g-d))%7,this.ths[g].title=ta(e,!1),g>d?(f=this.ths[g].getElementsByTagName("span")[0],c(f),f.appendChild(document.createTextNode(ta(e,!0))),f.title=this.ths[g].title):(c(this.ths[g]),this.ths[g].appendChild(document.createTextNode(ta(e,!0)))),b(this.ths[g],"date-picker-highlight"),this.highlightDays[e]&&h(this.ths[g],"date-picker-highlight");this.created&&this.updateTable()};v.prototype.callback=function(a,b){if(!(a&&a in this.callbacks))return!1;var c=
!1,d;for(d=0;d<this.callbacks[a].length;d++)c=this.callbacks[a][d](b||this.id);return c};v.prototype.showHideButtons=function(a){if(this.butPrevYear){var c=a.getMonth();a=a.getFullYear();this.outOfRange(new Date(a-1,c,J(+c,a-1),5,0,0))?(h(this.butPrevYear,"fd-disabled"),-1==this.yearInc&&this.stopTimer()):b(this.butPrevYear,"fd-disabled");this.outOfRange(new Date(a,+c-1,J(+c-1,a),5,0,0))?(h(this.butPrevMonth,"fd-disabled"),-1==this.monthInc&&this.stopTimer()):b(this.butPrevMonth,"fd-disabled");this.outOfRange(new Date(a+
1,+c,1,5,0,0))?(h(this.butNextYear,"fd-disabled"),1==this.yearInc&&this.stopTimer()):b(this.butNextYear,"fd-disabled");this.outOfRange(new Date(a,+c+1,1,5,0,0))?(h(this.butNextMonth,"fd-disabled"),1==this.monthInc&&this.stopTimer()):b(this.butNextMonth,"fd-disabled")}};var fa={fullMonths:"January February March April May June July August September October November December".split(" "),monthAbbrs:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),fullDays:"Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
dayAbbrs:"Mon Tue Wed Thu Fri Sat Sun".split(" "),titles:"Previous month;Next month;Previous year;Next year;Today;Show Calendar;wk;Week [[%0%]] of [[%1%]];Week;Select a date;Click \x26 Drag to move;Display \u201c[[%0%]]\u201d first;Go to Today\u2019s date;Disabled date :".split(";"),rtl:!1,firstDayOfWeek:0,imported:!1},ja=function(a){for(var b in x)!x[b].created||a&&a==x[b].id||x[b].hide()},la=function(a,b){if(!(a in x))return!1;x[a].clickActivated=!b;x[a].show(b);return!0},G=function(a,b){b=b||[];
if(H.titles.length>a){a=H.titles[a];if(b&&b.length)for(var c=0;c<b.length;c++)a=a.replace("[[%"+c+"%]]",b[c]);return a.replace(/[[%(\d)%]]/g,"")}return""},ta=function(a,b){b=H[b?"dayAbbrs":"fullDays"];return b.length&&b.length>a?b[a]:""},Ba=function(a,b){b=H[b?"monthAbbrs":"fullMonths"];return b.length&&b.length>a?b[a]:""},J=function(a,b){a=(a+12)%12;return 0!=b%4||0==b%100&&0!=b%400||1!=a?[31,28,31,30,31,30,31,31,30,31,30,31][a]:29},Aa=function(a){if(a in ca)return ca[a];var b=new Date(a,0,4),c=
new Date(a,11,28);b.setDate(b.getDate()-(6+b.getDay())%7);c.setDate(c.getDate()+(7-c.getDay())%7);ca[a]=Math.round((c-b)/6048E5);return ca[a]},Ca=function(a,b,c){c=new Date(a,b,c,0,0,0);a=c.getDay();c.setDate(c.getDate()-(a+6)%7+3);a=c.valueOf();c.setMonth(0);c.setDate(4);return Math.round((a-c.valueOf())/6048E5)+1},W=function(a,b,c){if(!a||isNaN(a))return b;var d=a.getDate(),e=a.getDay(),g=a.getMonth();a=a.getFullYear();var h=c?H:fa;String(b).split(va);b=U(b,va);c=[];d={d:f(d),D:h.dayAbbrs[0==e?
6:e-1],l:h.fullDays[0==e?6:e-1],j:d,N:0==e?7:e,w:e,W:Ca(a,g,d),M:h.monthAbbrs[g],F:h.fullMonths[g],m:f(g+1),n:g+1,t:J(g,a),y:String(a).substr(2,2),Y:a,S:["th","st","nd","rd"][3<d%10?0:(10!=d%100-d%10)*d%10]};e=b.length;for(a=0;a<e;a++)g=b[a],c.push(g in d?d[g]:g);return c.join("")},xa=function(a,b){var c=!1,d=!1,e=!1,f=-1!=b.search(aa)?1:0,g=-1!=b.search(ha)?1:0,h=-1!=b.search(na)?1:0;b=U(b,va);a=""+a;var l=b.length;var n=0;a:for(;n<l;n++){var q=b[n];if(""===q)continue a;if(0==a.length)break;switch(q){case "/":case ".":case " ":case "-":case ",":case ":":var p=
a.charAt(0);if("/"==p||"."==p||" "==p||"-"==p||","==p||":"==p)a=a.substr(1);break;case "d":if(-1!=a.search(/^(3[01]|[12][0-9]|0[1-9])/)){c=a.substr(0,2);a=a.substr(2);break}case "j":if(-1!=a.search(/^(3[01]|[12][0-9]|[1-9])/)){c=+a.match(/^(3[01]|[12][0-9]|[1-9])/)[0];a=a.substr(a.match(/^(3[01]|[12][0-9]|[1-9])/)[0].length);break}case "D":case "l":p=fa.fullDays.concat(fa.dayAbbrs);H.imported&&(p=p.concat(H.fullDays).concat(H.dayAbbrs));for(q=0;q<p.length;q++)if((new RegExp("^"+p[q],"i")).test(a)){a=
a.substr(p[q].length);continue a}break;case "N":case "w":-1!=a.search("N"==q?/^([1-7])/:/^([0-6])/)&&(a=a.substr(1));break;case "S":-1!=a.search(/^(st|nd|rd|th)/i)&&(a=a.substr(2));break;case "W":-1!=a.search(/^([1-9]|[1234[0-9]|5[0-3])/)&&(a=a.substr(a.match(/^([1-9]|[1234[0-9]|5[0-3])/)[0].length));break;case "M":case "F":p=fa.fullMonths.concat(fa.monthAbbrs);H.imported&&(p=p.concat(H.fullMonths).concat(H.monthAbbrs));for(q=0;q<p.length;q++)if(-1!=a.search(new RegExp("^"+p[q],"i"))){a=a.substr(p[q].length);
d=(q+12)%12+1;continue a}return!1;case "m":if(p=/^(1[012]|0[1-9])/,-1!=a.search(p)){d=+a.substr(0,2);a=a.substr(2);break}case "n":if(p=/^(1[012]|[1-9])/,-1!=a.search(p)){d=+a.match(p)[0];a=a.substr(a.match(p)[0].length);break}case "t":if(-1!=a.search(/2[89]|3[01]/)){a=a.substr(2);break}case "Y":if(-1!=a.search(/^(\d{4})/)){e=a.substr(0,4);a=a.substr(4);if(0<a.length)return!1;break}case "y":if(-1!=a.search(/^(0[0-9]|[1-9][0-9])/)){e=a.substr(0,2);e=50>+e?"20"+String(e):"19"+String(e);a=a.substr(2);
if(0<a.length)return!1;break}default:a=a.substr(q.length)}}return f&&!1===c||g&&!1===d||h&&!1===e||f&&g&&h&&+c>J(+d-1,+e)?!1:{d:f?+c:!1,m:g?+d:!1,y:h?+e:!1}},z=function(){"object"==typeof window.fdLocale?H={titles:fdLocale.titles,fullMonths:fdLocale.fullMonths,monthAbbrs:fdLocale.monthAbbrs,fullDays:fdLocale.fullDays,dayAbbrs:fdLocale.dayAbbrs,firstDayOfWeek:"firstDayOfWeek"in fdLocale?fdLocale.firstDayOfWeek:0,rtl:"rtl"in fdLocale?!!fdLocale.rtl:!1,imported:!0}:H||(H=fa)},pa=function(){z();for(var a in x)x[a].created&&
x[a].updateTable()},Ha=function(){for(var a in x)x.hasOwnProperty(a)&&x[a].changeHandler()},Ia=function(){var a=["Webkit","Moz","ms","O"],b=document.createElement("div"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"},d;for(d in c)if(void 0!==b.style[d]){Q=c[d];break}if(!Q)return!1;if(b.style.animationName)return!0;for(c=0;c<a.length;c++)if(void 0!==b.style[a[c]+"AnimationName"])return!0;
return!1};l(window,"unload",function(b){b=b||window.event;if(!b.persisted){for(var c in x)x[c].destroy(),x[c]=null,delete x[c];x=null;p(window,"unload",a.destroy)}});l(window,"load",function(){setTimeout(Ha,0)});K&&h(document.documentElement,"oldie");return{init:function(a){if(!ra){ra=!0;var b=document.getElementsByTagName("script");a=a||n(String(b[b.length-1].innerHTML).replace(/[\n\r\s\t]+/g," ").replace(/^\s+/,"").replace(/\s+$/,""));"object"!==typeof a||"err"in a||g(a);void 0;if(R&&"object"!=
typeof fdLocale){a=document.getElementsByTagName("head")[0]||document.documentElement;b=D?D:b[b.length-1].src.substr(0,b[b.length-1].src.lastIndexOf("/"))+"/lang/";var c;for(c=0;c<ia.length;c++){var d=document.createElement("script");d.type="text/javascript";d.src=b+ia[c]+".js";d.charSet="utf-8";if(K&&8>K){var e=document.getElementsByTagName("base");e.length&&e[0].childNodes.length?e[0].appendChild(d):a.appendChild(d)}else a.appendChild(d)}}else ma=!0}},addEvent:function(a,b,c){return l(a,b,c)},removeEvent:function(a,
b,c){return p(a,b,c)},stopEvent:function(a){return u(a)},show:function(a){return la(a,!1)},hide:function(a){a:{if(a in x){if(!x[a].created||x[a].staticPos){a=void 0;break a}x[a].hide()}a=void 0}return a},createDatePicker:function(a){a:if(z(),null===da&&(da=Ia()),a.formElements){a.id=a.id&&a.id in a.formElements?a.id:"";a.enabledDates=!1;a.disabledDates=!1;var b=0,c=0,d=0,e=0,g=0,h;for(r in a.formElements){var l=h=document.getElementById(r);if(!l||!l.tagName||("input"!=l.tagName.toLowerCase()||"text"!=
l.type&&"hidden"!=l.type)&&"select"!=l.tagName.toLowerCase()){if(w)throw"Element '"+r+"' is of the wrong type or does not exist within the DOM";break a}if(a.formElements[r]&&!a.formElements[r].match(oa)){if(w)throw"Element '"+r+"' has a date format that does not contain either a day (d|j), month (m|F|n) or year (y|Y) part: "+a.formElements[r];break a}a.id||(a.id=r);h.defaultValue="select"==h.tagName?h.selectedIndex||0:h.defaultValue;l=a.formElements[r];var n=-1!=l.search(aa);var p=-1!=l.search(ha);
var q=-1!=l.search(na);n&&b++;p&&c++;q&&d++;if("select"==h.tagName.toLowerCase()){var t=h.options;if(n&&p&&q){n=!1;a.enabledDates={};a.disabledDates={};for(p=0;p<t.length;p++)if((q=xa(t[p].value,l))&&q.y&&!1!==q.m&&q.d){q=q.y+""+f(q.m)+f(q.d);n||(n=q);a.enabledDates[q]=1;if(!e||+q<+e)e=q;if(!g||+q>+g)g=q}!a.cursorDate&&n&&(a.cursorDate=n);a.disabledDates[e]=g}else if(p&&q){for(p=0;p<t.length;p++)if(q=xa(t[p].value,l),q.y&&!1!==q.m){q=q.y+""+f(q.m);if(!e||+q<+e)e=q;if(!g||+q>+g)g=q}e+="01";g+=""+J(+g.substr(4,
2)-1,+g.substr(0,4))}else if(q){for(p=0;p<t.length;p++)if(q=xa(t[p].value,l),q.y){if(!e||+q.y<+e)e=q.y;if(!g||+q.y>+g)g=q.y}e+="0101";g+="1231"}}}if(1!=b||1!=c||1!=d){if(w)throw"Could not find all of the required date parts within the date format for element: "+h.id;}else{a.rangeLow=y(a.rangeLow||!1);a.rangeHigh=y(a.rangeHigh||!1);a.cursorDate=y(a.cursorDate||!1);e&&(!a.rangeLow||+a.rangeLow<+e)&&(a.rangeLow=e);g&&(!a.rangeHigh||+a.rangeHigh>+g)&&(a.rangeHigh=g);b=a.formElements;c=a.id;d=!(!a.staticPos&&
!a.nopopup);e=a.positioned&&document.getElementById(a.positioned)?a.positioned:"";g=a.rangeLow&&-1!=String(a.rangeLow).search(P)?a.rangeLow:"";var r=a.rangeHigh&&-1!=String(a.rangeHigh).search(P)?a.rangeHigh:"";l=a.statusFormat||qa;t=a.staticPos?!0:!!a.noFadeEffect;n=ka||a.staticPos?!0:!!a.dragDisabled;p=a.bespokeTabindex&&"number"==typeof a.bespokeTabindex?parseInt(a.bespokeTabindex,10):0;q=a.bespokeTitles||T||{};var u=a.finalOpacity&&"number"==typeof a.finalOpacity&&20<a.finalOpacity&&100>=a.finalOpacity?
parseInt(+a.finalOpacity,10):a.staticPos?100:V,A=!!a.hideInput,B=!!a.noTodayButton,C=!!a.showWeeks,D=!!a.fillGrid,E="constrainSelection"in a?!!a.constrainSelection:!0,F=a.cursorDate&&-1!=String(a.cursorDate).search(P)?a.cursorDate:"";if(h.parentNode&&"label"==h.parentNode.tagName.toLowerCase())var G=h.parentNode;else for(var H=document.getElementsByTagName("label"),I=0;I<H.length;I++)if(H[I].htmlFor&&H[I].htmlFor==h.id||H[I].getAttribute("for")==h.id){G=H[I];break}G&&!G.id&&h.id&&(G.id=h.id+"_label");
G={formElements:b,id:c,staticPos:d,positioned:e,rangeLow:g,rangeHigh:r,statusFormat:l,noFadeEffect:t,dragDisabled:n,bespokeTabIndex:p,bespokeTitles:q,finalOpacity:u,hideInput:A,noToday:B,showWeeks:C,fillGrid:D,constrainSelection:E,cursorDate:F,labelledBy:G,describedBy:a.describedBy&&document.getElementById(a.describedBy)?a.describedBy:ba&&document.getElementById(ba)?ba:"",callbacks:a.callbackFunctions?a.callbackFunctions:{},highlightDays:a.highlightDays&&a.highlightDays.length&&7==a.highlightDays.length?
a.highlightDays:[0,0,0,0,0,1,1],disabledDays:a.disabledDays&&a.disabledDays.length&&7==a.disabledDays.length?a.disabledDays:[0,0,0,0,0,0,0],bespokeClass:a.bespokeClass?" "+a.bespokeClass:""};x[a.id]=new v(G);"disabledDates"in a&&!1!==a.disabledDates&&x[a.id].setDisabledDates(a.disabledDates);"enabledDates"in a&&!1!==a.enabledDates&&x[a.id].setEnabledDates(a.enabledDates);x[a.id].callback("create",x[a.id].createCbArgObj())}}else if(w)throw"No form elements stipulated within initialisation parameters";
},destroyDatePicker:function(a){a&&a in x&&(x[a].destroy(),x[a]=null,delete x[a])},cleanUp:function(){var a,b;for(a in x)for(b in x[a].formElements)if(!document.getElementById(b)){x[a].destroy();x[a]=null;delete x[a];break}},printFormattedDate:function(a,b,c){return W(a,b,c)},setDateFromInput:function(a){if(!(a&&a in x))return!1;x[a].setDateFromInput()},setRangeLow:function(a,b){if(!(a&&a in x))return!1;x[a].setRangeLow(y(b))},setRangeHigh:function(a,b){if(!(a&&a in x))return!1;x[a].setRangeHigh(y(b))},
setBespokeTitles:function(a,b){if(!(a&&a in x))return!1;x[a].setBespokeTitles(b)},addBespokeTitles:function(a,b){if(!(a&&a in x))return!1;x[a].addBespokeTitles(b)},parseDateString:function(a,b){return xa(a,b)},setGlobalOptions:function(a){g(a)},setSelectedDate:function(a,b){if(!(a&&a in x))return!1;x[a].setSelectedDate(y(b))},dateValidForSelection:function(a,b){return a&&a in x?x[a].canDateBeSelected(b):!1},addDisabledDates:function(a,b){if(!(a&&a in x))return!1;x[a].addDisabledDates(b)},setDisabledDates:function(a,
b){if(!(a&&a in x))return!1;x[a].setDisabledDates(b)},addEnabledDates:function(a,b){if(!(a&&a in x))return!1;x[a].addEnabledDates(b)},setEnabledDates:function(a,b){if(!(a&&a in x))return!1;x[a].setEnabledDates(b)},disable:function(a){if(!(a&&a in x))return!1;x[a].disableDatePicker()},enable:function(a){if(!(a&&a in x))return!1;x[a].enableDatePicker()},setCursorDate:function(a,b){if(!(a&&a in x))return!1;x[a].setCursorDate(y(b))},getSelectedDate:function(a){return a&&a in x?x[a].returnSelectedDate():
!1},loadLanguage:function(){pa()},setDebug:function(a){w=!!a},dateToYYYYMMDDStr:function(a){return y(a)}}}()});p("app/modules/form/EfDatepicker",["jquery","app/modules/BaseModule","app/Config","vendor/datepicker/datepicker","app/util/DOMUtil"],function(e,k,a,d,c){var h=0;d.init(e.extend({},a.get("datepickerOptions"),{lang:void 0})||{});var b=function(){this.$el=null;this.ns=".ef_datepicker"+h++};b.prototype=new k;b.prototype.init=function(b){var g=this;this.$el=e(b);this.$inputField=e(b).find("input");
this.$inputField.attr("type","text");b={};b[this.$inputField.attr("id")]=a.get("datepickerOptions","format");this.options=e.extend({},{formElements:b,callbackFunctions:{datereturned:[function(){g.$inputField.trigger("change")}]}},a.get("datepickerOptions"),c.jsondata(this.$el,"config"),{lang:void 0});setTimeout(function(){d.createDatePicker(g.options);g.$el.find(".date-picker-control").addClass("is-hidden-print");d.setGlobalOptions({mousewheel:!1,dateparsefallback:!1})},500);return this};e(document).on("focus click",
"body \x3e .date-picker",function(a){a.stopImmediatePropagation()});b.prototype._destroy=b.prototype.destroy;b.prototype.destroy=function(){d.destroyDatePicker(this.$inputField.attr("id"));this.$inputField=null;this._destroy()};return b});p("app/modules",["lib/util/contextTrigger","lib/util/ModuleManager"],function(e,k){e.add(".js-claustrophobia",function(){var a=this;r(["app/modules/global/Claustrophobia"],function(d){k.connect(d,a)})});e.add(".js-scrollto",function(){var a=this;r(["app/modules/global/ScrollTo"],
function(d){k.connect(d,a)})});e.add(".js-headermenu",function(){var a=this;r(["app/modules/global/Headermenu"],function(d){k.connect(d,a)})});e.add(".js-skiplinks",function(){var a=this;r(["app/modules/global/Skiplinks"],function(d){k.connect(d,a)})});e.add(".js-muuri_grid",function(){var a=this;r(["app/modules/global/MuuriGrid"],function(d){k.connect(d,a)})});e.add(".js-link-indicator",function(){var a=this;r(["app/modules/global/LinkIndicator"],function(d){k.connect(d,a)})});e.add(".js-languageselect",
function(){var a=this;r(["app/modules/global/LanguageSelect"],function(d){k.connect(d,a)})});e.add(".js-searchbar",function(){var a=this;r(["app/modules/global/Searchbar"],function(d){k.connect(d,a)})});e.add(".js-stickybox",function(){var a=this;r(["app/modules/global/StickyBox"],function(d){k.connect(d,a)})});e.add(".js-table",function(){var a=this;r(["app/modules/basics/Table"],function(d){k.connect(d,a)})});e.add(".js-slider",function(){var a=this;r(["app/modules/various/Slider"],function(d){k.connect(d,
a)})});e.add("[data-href-mobile]",function(){var a=this;r(["app/modules/various/BreakpointLink"],function(d){k.connect(d,a)})});e.add(".js-modal_dialog",function(){var a=this;r(["app/modules/various/ModalDialog"],function(d){k.connect(d,a)})});e.add(".js-autofocus",function(){var a=this;r(["app/modules/various/Autofocus"],function(d){k.connect(d,a)})});e.add(".js-itemvisibleurl",function(){var a=this;r(["app/modules/various/ItemVisible"],function(d){k.connect(d,a)})});e.add(".js-content_overlay",
function(){var a=this;r(["app/modules/various/ContentOverlay"],function(d){k.connect(d,a)})});e.add(".js-lightbox",function(){var a=this;r(["app/modules/various/LightboxState"],function(d){k.connect(d,a)})});e.add("[data-sizes]",function(){var a=this;r(["app/modules/various/ResponsiveImage"],function(d){k.connect(d,a)})});e.add(".js-scrollslider",function(){var a=this;r(["app/modules/various/ScrollSlider"],function(d){k.connect(d,a)})});e.add(".js-scroll_sync",function(){var a=this;r(["app/modules/various/ScrollSync"],
function(d){k.connect(d,a)})});e.add(".js-collapsible",function(){var a=this;r(["app/modules/various/Collapsible"],function(d){k.connect(d,a)})});e.add(".js-closable",function(){var a=this;r(["app/modules/various/Closable"],function(d){k.connect(d,a)})});e.add(".js-expandable",function(){var a=this;r(["app/modules/content/Expandable"],function(d){k.connect(d,a)})});e.add(".js-article_video",function(){var a=this;r(["app/modules/content/ArticleVideo"],function(d){k.connect(d,a)})});e.add(".js-learning_path_steps",
function(){var a=this;r(["app/modules/content/LearningPathSteps"],function(d){k.connect(d,a)})});e.add(".js-masonry_grid",function(){var a=this;r(["app/modules/content/MasonryGrid"],function(d){k.connect(d,a)})});e.add(".js-list_filter",function(){var a=this;r(["app/modules/content/ListFilter"],function(d){k.connect(d,a)})});e.add(".js-card",function(){var a=this;r(["app/modules/content/Cards"],function(d){k.connect(d,a)})});e.add(".js-tooltip",function(){var a=this;r(["app/modules/content/Tooltip"],
function(d){k.connect(d,a)})});e.add(".js-scrolltable",function(){var a=this;r(["app/modules/content/ScrollTable"],function(d){k.connect(d,a)})});e.add(".js-article_search_criteria",function(){var a=this;r(["app/modules/content/ArticleSearchCriteria"],function(d){k.connect(d,a)})});e.add(".js-pagerating",function(){var a=this;r(["app/modules/content/PageRating"],function(d){k.connect(d,a)})});e.add(".js-filter",function(){var a=this;r(["app/modules/content/Filter"],function(d){k.connect(d,a)})});
e.add(".js-tabs",function(){var a=this;r(["app/modules/content/Tabs"],function(d){k.connect(d,a)})});e.add(".js-compare_widget",function(){var a=this;r(["app/modules/content/CompareWidget"],function(d){k.connect(d,a)})});e.add(".js-line_table",function(){var a=this;r(["app/modules/content/LineTable"],function(d){k.connect(d,a)})});e.add(".js-iban_calculator",function(){var a=this;r(["app/modules/content/IbanCalculator"],function(d){k.connect(d,a)})});e.add(".js-accordioninline",function(){var a=this;
r(["app/modules/content/AccordionInline"],function(d){k.connect(d,a)})});e.add(".js-sameheight",function(){var a=this;r(["app/modules/layout/SameHeight"],function(d){k.connect(d,a)})});e.add(".js-rangeslider",function(){var a=this;r(["app/modules/form/Rangeslider"],function(d){k.connect(d,a)})});e.add(".js-autocomplete",function(){var a=this;r(["app/modules/form/autocomplete"],function(d){k.connect(d,a)})});e.add(".js-pf-form_input-file",function(){var a=this;r(["app/modules/form/InputFile"],function(d){k.connect(d,
a)})});e.add("*[data-formcondition]",function(){var a=this;r(["app/modules/form/FormCondition"],function(d){k.connect(d,a)})});e.add(".pf-form_input-number",function(){var a=this;r(["app/modules/form/NumberInput"],function(d){k.connect(d,a)})});e.add(".js-autoadvance",function(){var a=this;r(["app/modules/form/AutoAdvance"],function(d){k.connect(d,a)})});e.add(".js-ef_datepicker",function(){var a=this;r(["app/modules/form/EfDatepicker"],function(d){k.connect(d,a)})});e.validate("body");void 0;return k});
p("app/modules/content/Loader","jquery app/modules/BaseModule lib/animation/HeightAnimation lib/animation/scrollToView lib/util/Templates lib/browser/Accessibility".split(" "),function(e,k,a,d,c,h){function b(){this.ns=k.ns("Loader")}var g={activeClass:"is-loading",msg:"Loading ...",variant:null,loader:{template:"template-loader",variantClassPrefix:"loader-"}};b.prototype=new k;var n=b.prototype,f=n.init;n.init=function(a,b){f.call(this,a);this.config=e.extend(!0,{},g,b||{});this.positionReset=null;
return this};n.setLoader=function(a){a?this._addLoader():this._closeLoader()};n._addLoader=function(){var b=new a(this.$el,{duration:500});this.$loader=e(c.render(this.config.loader.template,{cls:this.getClasses(),msg:this.config.msg}));"static"===this.$el.css("position")&&(this.positionReset=this.$el.css("position"),this.$el.css("position","relative"));this.$el.addClass(this.config.activeClass).attr("aria-busy","true");this.$el.append(this.$loader);d(this.$el);b.complete();h.focusFirst(this.$loader);
e(window).trigger("resize")};n._closeLoader=function(){var b=new a(this.$el,{duration:250});this.$el.removeClass(this.config.activeClass).removeAttr("aria-busy");null!==this.positionReset&&this.$el.css("position",this.positionReset);h.focusFirst(this.$el);this.$loader.remove();b.complete()};n.getClasses=function(){var a=[this.config.cls];if(null!==this.config.variant)for(var b=this.config.variant.split(" "),c=b.length-1;0<=c;c--)a.push(this.config.loader.variantClassPrefix+b[c]);return a.join(" ")};
return b});p("app/api",["lib/util/contextTrigger","app/plugins/LightboxFactory","app/modules/various/ResponsiveImage","app/modules/content/Loader","app/modules/content/ArticlePagination"],function(e,k,a,d,c){function h(a){var b=window;a=a instanceof Array?a:a.split(".");for(var c=0;c<a.length&&(b=b[a[c]],b);c++);return b}function b(a){var b=window;a=a instanceof Array?a:a.split(".");for(var c=0;c<a.length;c++)b=b[a[c]]=b[a[c]]||{};return b}function g(a,c){a=b(a);for(var d in c)a[d]=c[d]}function n(a,
c){a=a.split(".");var d=a.pop();b(a.join("."))[d]=c}function f(a){return $(a).data("moduleInstance")}g("pf.ui.lightbox",k);n("pf.ui.ArticlePagination",c);n("pf.ui.setLoader",function(a,b){var c=(new d).init(a,b);c.setLoader(!0);return function(){c.setLoader(!1)}});n("pf.ui.addElementListener",e.add);n("pf.ui.findResponsiveImage",a.findBestImage);n("pf.ui.getCollapsible",f);n("pf.ui.headersearch",f);n("pf.ui.module",f);n("pf.ui.getScrollSlider",f);n("pf.ui.getRangeslider",f);n("pf.ui.getPageRating",
f);n("pf.ui.getModalDialog",f);n("pf.ui.getMuuriGrid",f);return{addCollection:function(a,b){g(a,b)},addFunction:function(a,b){n(a,b)},get:function(a){h(a)},fn:function(a){(a=h(a))||void 0;return a||function(){}}}});r.config({catchError:!0,paths:{jquery:"lib/util/loaded-jquery"}});r(["jquery"],function(e){r(["app/plugins"],function(){r(["app/polyfills"],function(){r(["app/modules","app/api"],function(){e("html").addClass("loaded");var k=document.createEvent("CustomEvent");k.initCustomEvent("requirejs:loaded",
!1,!1,{});setTimeout(function(){window.dispatchEvent(k)},100);document.activeElement!==document.body&&e(document.activeElement).trigger("focusin")})})})});p("ui",function(){})})();